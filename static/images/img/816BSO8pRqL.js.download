!function(){"use strict";var e,t={"./src/entrypoints/hydration/storefront.tsx":function(e,t,r){var n=r("./src/util/hydration/hydrateWidgets.tsx"),o=r("./node_modules/react/index.js"),i=r("./node_modules/classnames/index.js"),a=r.n(i),l=r("./node_modules/@amzn/dvui/dist/DvuiContainer.js"),c=r("./src/util/utils/marketplace.ts"),u=r("./src/util/utils/cookies.ts"),s=r("./src/util/api/request.ts"),f=r("./src/util/api/WPSClient.ts"),d=r("./src/util/api/swiftCommonArgs.ts"),p=r("./src/util/utils/swiftDevice.ts"),m=r("./src/util/csm/csm.tsx"),v=r("./src/util/utils/debounce.ts"),y=r("./src/util/wrappers/ArgsContext.tsx"),h=r("./src/util/wrappers/LoggersContext.tsx"),g=r("./node_modules/@amzn/dvui/dist/Icons/Arrow.js"),b=r.n(g),w="_5j9-V+",E="vKj17S",S="H1HVMS",T="WpAacf";function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}var P=["point","onClick","hide","className","onMoveIn","onMoveOut","disabled","testID"];function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O.apply(this,arguments)}function k(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var C=function(e){return e.Backward="backward",e.Forward="forward",e}({}),j=function(e){var t,r=e.point,n=void 0===r?C.Forward:r,a=e.onClick,l=e.hide,c=void 0!==l&&l,u=e.className,s=e.onMoveIn,f=e.onMoveOut,d=e.disabled,p=void 0!==d&&d,m=e.testID,v=I(e,P);return o.createElement("button",O({onMouseEnter:function(){return null==s?void 0:s()},onMouseLeave:function(){return null==f?void 0:f()},onClick:function(e){e.preventDefault(),p||null==a||a(e)},className:i(u,T,(t={},k(t,w,c),k(t,S,n===C.Backward),k(t,E,n===C.Forward),t))},v,{"data-testid":m}),o.createElement(b(),null))};j.displayName="NavigationArrow";var L=j;function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var D=o.createContext({connected:!1,init:function(e){}}),M=function(e){var t,r=e.children,n=A(o.useState(!1),2),i=n[0],a=n[1],l=A(o.useState(),2),c=l[0],u=l[1];return o.useEffect((function(){var e=(0,v.D)((function(){return a(!1)}),500),t=function(){a(!0),e()};return null==c||c.addEventListener("scroll",t,{passive:!0}),function(){return null==c?void 0:c.removeEventListener("scroll",t)}}),[c]),t=c?{connected:!!c,isScrolling:i,scrollContainer:c}:{connected:!1,init:function(e){e.current&&u(e.current)}},o.createElement(D.Provider,{value:t},r)},_="hj1e0s",R="_70Gje9",V="tHfREs",W="_3+3zj7",F="krHwZu",B=["--dv-carousel-column-margin","--dv-supercarousel-card-number","--dv-carousel-column-gap","--dv-current-target-screen","--side-panel-width"],U=new Map;function H(e){var t;return null!==(t=U.get(e))&&void 0!==t?t:""}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=parseInt(H(e));return isNaN(r)?t:r}function z(){if("undefined"!=typeof window){var e=new Map,t=window.getComputedStyle(document.documentElement);B.forEach((function(r){e.set(r,t.getPropertyValue(r))})),U=e}}var q=r("./src/util/utils/array.ts");function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||K(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){if(e){if("string"==typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Z(e,t):void 0}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$(n.key),n)}}function J(e,t,r){return(t=$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $(e){var t=function(e,t){if("object"!==Q(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Q(t)?t:String(t)}var ee=function(){function e(t,r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),J(this,"scrollContainerRef",void 0),J(this,"cardsVisibilityThreshold",void 0),J(this,"visibility",void 0),J(this,"onVisibilityChange",void 0),J(this,"obs",void 0),J(this,"settledUpdate",void 0),J(this,"isFirstUpdate",void 0),this.scrollContainerRef=t,this.cardsVisibilityThreshold=n,this.onVisibilityChange=o,this.visibility=new Map;for(var i=1;i<=r;i++)this.visibility.set(i,!1);this.isFirstUpdate=!0,this.settledUpdate=(0,v.D)(this.update.bind(this),200),this.setUpIntersectionObserver()}var t,r,n;return t=e,(r=[{key:"update",value:function(){var e,t=new Array,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=K(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}(this.visibility);try{for(r.s();!(e=r.n()).done;){var n=Y(e.value,2),o=n[0];n[1]&&(0,q.y)(t,o)}}catch(e){r.e(e)}finally{r.f()}if(0!==t.length){var i=t[0],a=t[t.length-1];this.onVisibilityChange({visible:new Map(this.visibility),min:i,max:a})}}},{key:"setUpIntersectionObserver",value:function(){var e=this;this.obs=new IntersectionObserver((function(t){t.forEach((function(t){var r=t.target.dataset.index,n=parseInt(null!=r?r:"",10);if(!isNaN(n)){var o=t.isIntersecting&&t.intersectionRatio>=e.cardsVisibilityThreshold;e.visibility.set(n,o)}})),Array.from(e.visibility.values()).every((function(e){return!1===e}))||(e.isFirstUpdate?(e.isFirstUpdate=!1,e.update()):e.settledUpdate())}),{rootMargin:"100% 0px",threshold:this.cardsVisibilityThreshold}),this.onRenderedCardsChange()}},{key:"onRenderedCardsChange",value:function(){var e=this;this.obs.disconnect(),this.scrollContainerRef.querySelectorAll("li[data-index]").forEach((function(t){e.obs.observe(t)}))}},{key:"cleanup",value:function(){this.obs.disconnect()}}])&&X(t.prototype,r),n&&X(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),te=r("./src/util/utils/hooks/useHasMounted.ts");function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ne(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var oe=o.createContext({});oe.displayName="VerticalPaginationContext";var ie=function(e){var t=e.children,r=re(o.useState(null),2),n=r[0],i=r[1],a=o.useRef([]),l=o.useRef([]),c=re(o.useState(void 0),2),u=c[0],s=c[1],f=o.useMemo((function(){var e={type:"PAGE"};null!==n&&(e={type:"CONTAINER",containerIndex:n});return{entityWithLock:e,hideBelowContainerIndex:u,actions:{lock:function(e){var t;(a.current.includes(e)||a.current.push(e),null===n)&&i(null!==(t=a.current.shift())&&void 0!==t?t:null)},unlock:function(e){var t;n===e&&i(null!==(t=a.current.shift())&&void 0!==t?t:null)},hideBelow:function(e){void 0===u?s(e):l.current.includes(e)||l.current.push(e)},unhideBelow:function(e){u===e?s(l.current.shift()):l.current=l.current.filter((function(t){return t!==e}))}}}}),[n,u]);return o.createElement(oe.Provider,{value:f},t)},ae=r("./node_modules/fast-deep-equal/index.js");function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||ce(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){if(e){if("string"==typeof e)return ue(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ue(e,t):void 0}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var se=[p.fv.DesktopLinuxVariant,p.fv.DesktopWindowsVariant,p.fv.DesktopOSXVariant,p.fv.DesktopDefaultVariant,p.fv.DesktopBrowserVariant],fe=p.fv.TabletDefaultVariant,de=[p.fv.MshopIOSVariant,p.fv.MshopAndroidVariant,p.fv.MshopDefaultVariant,p.fv.MobileAndroidVariant,p.fv.MobileDefaultVariant],pe=o.createContext({});pe.displayName="PageContext",z();var me=function(e){var t=le(o.useState(0),2),r=t[0],n=t[1],i=le(o.useState(!0),2),a=i[0],l=i[1],c=le(o.useState(!0),2),u=c[0],s=c[1],f=le(o.useState(!1),2),d=f[0],m=f[1],y=le(o.useState(!1),2),h=y[0],g=y[1],b=le(o.useState({visible:new Map,min:null,max:null}),2),w=b[0],E=b[1],S=(0,te.f)();function T(){g(!0)}function x(){g(!1)}function P(){l("visible"===document.visibilityState)}o.useEffect((function(){var t="undefined"!=typeof window&&"undefined"!=typeof navigator&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);m(t),s(function(e){var t;if("undefined"==typeof window)return!0;var r=null===(t=navigator.userAgent)||void 0===t?void 0:t.match("[a-zA-Z]{23}\\/[0-9\\.]* [a-z()@\\-.]{23}$");return window.matchMedia("(hover: hover)").matches||e===p.U5.Windows&&window.matchMedia("(any-pointer: coarse)").matches||!!r&&r.length>0}(e.os));var r=function(r,n){if(n){var o=t?"TouchScreen":"NonTouchScreen";e.logger.count("DVWeb::Storefront::".concat(r,"::").concat(o,"::").concat(n),1,!1)}},o=function(){return"undefined"==typeof window?null:window.innerWidth<window.innerHeight?"Portrait":"Landscape"},i=o();r("OnLoad",i),z();var a=(0,v.D)((function(){var e=o();e!==i&&r("OnResize",i=e),z(),n(window.innerWidth)}),300);return"undefined"!=typeof window&&(window.addEventListener("resize",a),n(window.innerWidth)),document.addEventListener("visibilitychange",P),document.addEventListener("PVVideoPlayerPlay",T),document.addEventListener("PVVideoPlayerClosed",x),function(){"undefined"!=typeof window&&window.removeEventListener("resize",a),document.removeEventListener("visibilitychange",P),document.removeEventListener("PVVideoPlayerPlay",T),document.removeEventListener("PVVideoPlayerClosed",x)}}),[]);var O=o.useCallback((function(e,t){var r,n,o=w.visible;o.set(e,t);var i,a=new Array,l=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=ce(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}(o);try{for(l.s();!(i=l.n()).done;){var c=le(i.value,2),u=c[0];c[1]&&(0,q.y)(a,u)}}catch(e){l.e(e)}finally{l.f()}var s={visible:o,min:null!==(r=a[0])&&void 0!==r?r:null,max:null!==(n=a[a.length-1])&&void 0!==n?n:null};ae(s,w)||E(s)}),[w]),k=se.indexOf(e.deviceVariant)>-1,I=e.deviceVariant===fe,C=de.indexOf(e.deviceVariant)>-1,j=o.useCallback((function(t){return(e.strings||{})[t]||""}),[e.strings]),L=e.swiftPageParameters&&"resiliencyHome"===e.swiftPageParameters.pageType||!1,A=o.useMemo((function(){var t;return{pageWidth:r,isTouchDevice:d,isHoverEnabled:u,isDesktopDeviceVariant:k,isTabletDeviceVariant:I,isMobileDeviceVariant:C,isPageVisible:a,hasPageMounted:S,getString:j,theme:e.theme,shouldUseReducedMotion:e.shouldUseReducedMotion,isInResiliencyMode:L,clickstream:e.clickstream,clickstreamPageContext:e.clickstreamPageContext,onContainerVisibilityChange:O,containerVisibility:w,enableVerticalPerformantRender:null!==(t=e.enableVerticalPerformantRender)&&void 0!==t&&t,contingencies:e.contingencies,isPlayerVisible:h}}),[j,k,L,a,I,C,S,d,u,r,e.clickstream,e.clickstreamPageContext,e.shouldUseReducedMotion,e.theme,O,w,e.enableVerticalPerformantRender,e.contingencies,h]);return o.createElement(pe.Provider,{value:A},o.createElement(ie,null,e.children))};me.displayName="PageContainer";var ve=(0,h.ty)(me);function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ye.apply(this,arguments)}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ge(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function be(e,t){var r,n,a=e.cards,l=e.cardsVisibilityThreshold,c=void 0===l?.8:l,u=e.render,s=e.className,f=e.overrideScrollContainerRef,d=e.performantRender,p=o.useContext(ke),m=p.isCarouselVisible,v=p.updateVisibility,h=o.useContext(pe),g=h.containerVisibility,b=h.enableVerticalPerformantRender,w=h.hasPageMounted,E=o.useContext(RT).index,S=he(o.useState(!1),2),T=S[0],x=S[1],P=o.useCallback((function(){for(var e=d?Math.min(a.length,Math.ceil(d.maxCardNum)):a.length,t=new Map,r=1;r<=a.length;r++)t.set(r,r>=1&&r<=e);return{visible:t,min:1,max:e}}),[a.length,d]),O=he(o.useState(P()),2),k=O[0],I=O[1];o.useEffect((function(){var e;e=null===g.min||null===g.max?E<2:E>=g.min-2&&E<=g.max+2,x(e)}),[E,g.max,g.min]);var C=o.useCallback((function(){if(!d)return{min:1,max:a.length};var e=Math.ceil(d.maxCardNum),t=Math.max(1,k.min-e-1),r=Math.min(a.length,k.max+e+1);return w&&b&&(m||(r=T?Math.min(a.length,k.max+1):t)),{min:t,max:r}}),[d,k.min,k.max,a.length,w,m,T,b]),j=he(o.useState(C()),2),L=j[0],A=j[1],N=null!==(r=null===(n=(0,y.G4)().render)||void 0===n?void 0:n.isRTL)&&void 0!==r&&r,M=o.useRef(null),_=null!=f?f:M,W=o.useRef(null),F=o.useContext(D);o.useEffect((function(){!F.connected&&_.current&&F.init(_)}),[_,F]);var B=o.useMemo((function(){return function(e){I(e)}}),[]);o.useEffect((function(){if(null!=_&&_.current&&v){var e;if(m)W.current=new ee(_.current,a.length,c,B);else null===(e=W.current)||void 0===e||e.cleanup();return function(){var e;return null===(e=W.current)||void 0===e?void 0:e.cleanup()}}}),[m]),o.useEffect((function(){var e;null===(e=W.current)||void 0===e||e.onRenderedCardsChange()}),[a]),o.useEffect((function(){if(v(k),d){var e=C();ae(e,L)||A(e)}}),[C]);var U=o.useRef(new Set);o.useEffect((function(){if(d){for(var e,t=new Set,r=L.min;r<=L.max;r++)U.current.has(r)||(U.current.add(r),t.add(r));if(t.size>0)null==d||null===(e=d.onFirstTimeCardRender)||void 0===e||e.call(d,t)}}),[L]);var H=function(e,t){if(null!=_&&_.current&&Number.isInteger(e)){var r=Math.max(1,Math.min(t,e));return _.current.querySelector('li[data-index="'.concat(r,'"]'))||void 0}},z=o.useCallback((function(e,t){e.scrollTo({left:t})}),[]);o.useImperativeHandle(t,(function(){return{scrollToCard:function(e){var t=H(e,a.length);if(!t||!_.current)return!1;var r,n=G("--dv-carousel-column-margin"),o=_.current.scrollLeft,i=t.offsetLeft,l=t.getBoundingClientRect().width,c=_.current.clientWidth;if(i>o){if(i+l<o+c)return!1;r=i-c+l+n}else r=i-n;return z(_.current,r),!0},scrollToCardFirstVisible:function(e){var t=H(e,a.length);if(!t||!_.current)return!1;var r,n=G("--dv-carousel-column-margin"),o=t.offsetLeft,i=t.getBoundingClientRect().width,l=_.current.clientWidth;return r=N?o-l+i+n:o-n,z(_.current,r),!0},cardsRef:_}}),[a.length,_]);var q=a.map((function(e,t){var r,n,a=t+1,l=a>=L.min&&a<=L.max||a<(null!==(r=null==d?void 0:d.startIndexForVirtualisation)&&void 0!==r?r:0),c={"data-index":"".concat(a)};return l||(c["data-hidden"]="true"),o.createElement("li",ye({key:t,className:i(V,s)},c),l&&u(e,null!==(n=k.visible.get(a))&&void 0!==n&&n,t))}));return o.createElement("ul",{className:R,ref:M,style:{}},q)}be.displayName="CardContainer";var we=o.forwardRef(be),Ee=r("./src/util/utils/useInteractionObserver.tsx"),Se=["cards","carouselVisibilityThreshold","cardsVisibilityThreshold","className","renderContainer","renderCard","footer","header","customCarouselContainer","overrideScrollContainerRef","performantRender","testID"];function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Te.apply(this,arguments)}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oe(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ke=o.createContext({default:!0,state:{visible:new Map,min:0,max:0},isCarouselVisible:!1,scrollToCard:function(e){return!1},updateCarouselVisibility:function(e){return!1},updateVisibility:function(e){}});ke.displayName="CarouselContext";var Ie=function(e,t){var r,n=e.cards,a=e.carouselVisibilityThreshold,l=void 0===a?0:a,c=e.cardsVisibilityThreshold,u=e.className,s=e.renderContainer,f=e.renderCard,d=e.footer,p=e.header,m=e.customCarouselContainer,v=e.overrideScrollContainerRef,y=e.performantRender,h=e.testID,g=Oe(e,Se),b=o.useRef(null),w=o.useContext(ke).updateCarouselVisibility,E=o.useContext(pe).pageWidth;o.useEffect((function(){var e,t;null==b||null===(e=b.current)||void 0===e||null===(t=e.scrollBy)||void 0===t||t.call(e,0,0)}),[E]);var S=o.useCallback((function(e){var t=xe(e,1)[0],r=t.isIntersecting,n=t.intersectionRatio;w(r&&n>=l)}),[]);(0,Ee.S)({enabled:!0,target:b,onIntersect:S,threshold:l});var T=i(_,u),x=o.createElement(we,{cards:n,render:f,cardsVisibilityThreshold:c,ref:t,overrideScrollContainerRef:v,performantRender:y}),P=null!=m?m:o.Fragment;return o.createElement(P,null,o.createElement("section",{"data-testid":h},p,o.createElement("div",Te({className:T,ref:b},g),null!==(r=null==s?void 0:s({carousel:x}))&&void 0!==r?r:x),d))};Ie.displayName="Carousel";var Ce=o.forwardRef(Ie),je="eSOPph",Le="yIoxDk",Ae="uryRTT",Ne="_3UoYy5";function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}var Me=["navigation","cards","carouselVisibilityThreshold","cardsVisibilityThreshold","step","className","renderContainer","onNavigate","scrollType","wrapperClassName"];function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_e.apply(this,arguments)}function Re(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==De(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==De(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===De(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return We(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return We(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fe(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Be=function(e){return e[e.None=0]="None",e[e.Framed=1]="Framed",e[e.Regular=2]="Regular",e}({}),Ue=function(e){return e[e.Default=0]="Default",e[e.FirstVisible=1]="FirstVisible",e}({}),He=function(e){return e},Ge=o.memo(o.forwardRef((function(e,t){var r,n,a=e.navigation,l=e.cards,c=e.carouselVisibilityThreshold,u=e.cardsVisibilityThreshold,s=e.step,f=e.className,d=e.renderContainer,p=e.onNavigate,m=e.scrollType,y=void 0===m?Ue.Default:m,h=e.wrapperClassName,g=Fe(e,Me),b=o.useContext(ke),w=o.useContext(pe),E=w.getString,S=w.onContainerVisibilityChange,T=w.isHoverEnabled,x=o.useContext(RT),P=x.actions,O=x.hasMoreItems,k=x.index,I=o.useRef(null),j=null!==(r=t)&&void 0!==r?r:I,A=o.useRef(),N=Ve(o.useState({visible:new Map,min:0,max:0}),2),D=N[0],M=N[1],_=Ve(o.useState(!1),2),R=_[0],V=_[1],W=Ve(o.useState(!1),2),F=W[0],B=W[1],U=Ve(o.useState(!1),2),H=U[0],G=U[1],z=o.useCallback((function(){return B(!0)}),[]),q=o.useCallback((function(){return B(!1)}),[]),Q=Ve(o.useState(!1),2),Y=Q[0],K=Q[1],Z=o.useCallback((function(){return K(!0)}),[]),X=o.useCallback((function(){return K(!1)}),[]),J=Ve(o.useState(!1),2),$=J[0],ee=J[1],te=i(f,je,(Re(n={},Ae,a!==Be.None),Re(n,Ne,a===Be.Framed),n));o.useEffect((function(){var e,t=(0,v.D)((function(){A.current=void 0}),25),r=null===(e=j.current)||void 0===e?void 0:e.cardsRef.current;return null==r||r.addEventListener("scroll",t,{passive:!0}),function(){null==r||r.removeEventListener("scroll",t)}}),[j]),o.useEffect((function(){b.default||(D.min=b.state.min,D.max=b.state.max);var e=D.max-D.min,t=l.length-2*e;D.min>=t&&O&&P&&P.onPaginateContainer&&P.onPaginateContainer()}),[D.min,D.max]);var re=o.useMemo((function(){return{default:!1,state:D,isCarouselVisible:R,isCarouselHovered:F,isCarouselFocused:Y,isHoveringNavArrows:H,scrollToCard:function(e){var t,r,n;return null!==(t=y===Ue.FirstVisible?null===(r=j.current)||void 0===r?void 0:r.scrollToCardFirstVisible(e):null===(n=j.current)||void 0===n?void 0:n.scrollToCard(e))&&void 0!==t&&t},updateCarouselVisibility:function(e){V(e),S(k,e)},updateVisibility:function(e){ae(D,e)||M(e)}}}),[D,R,F,Y,H,y,j,S,k]),ne=s,oe=null!=d?d:He,ie=o.useCallback((function(e){var t,r=e.carousel;if(!a)return oe(r);var n={state:D,scrollToCard:re.scrollToCard};b.default||(n.state=b.state,n.scrollToCard=b.scrollToCard),null!==(t=ne)&&void 0!==t||(ne=n.state.max-n.state.min+1);var i,c,u=function(e){var t;null!==(t=A.current)&&void 0!==t||(A.current=n.state.max);var r=A.current;r>=n.state.min&&r<=n.state.max?r=(e>0?n.state.max:n.state.min)+e:r+=e,A.current=Math.max(1,Math.min(l.length,r)),n.scrollToCard(A.current)};ne>1?(i=E("DV_WEB_ARIA_PREVIOUS_N_TITLES").replace("{steps}","".concat(ne)),c=E("DV_WEB_ARIA_NEXT_N_TITLES").replace("{steps}","".concat(ne))):(i=E("DV_WEB_ARIA_PREVIOUS_TITLE"),c=E("DV_WEB_ARIA_NEXT_TITLE"));var s=F||Y;return o.createElement(o.Fragment,null,o.createElement(L,{className:Le,point:C.Backward,onClick:function(){var e=null==p?void 0:p(C.Backward,D);e?u(e):ne&&u(-ne),ee(!0),setTimeout((function(){ee(!1)}),1e3)},hide:!s||n.state.visible.get(1)||!T,"aria-label":i,onMoveIn:function(){return G(!0)},onMoveOut:function(){return G(!1)},testID:"left-arrow",disabled:$}),oe(r),o.createElement(L,{className:Le,point:C.Forward,onClick:function(){var e=null==p?void 0:p(C.Forward,D);e?u(e):ne&&u(ne),ee(!0),setTimeout((function(){ee(!1)}),1e3)},hide:!s||n.state.visible.get(l.length)||!T,"aria-label":c,onMoveIn:function(){return G(!0)},onMoveOut:function(){return G(!1)},testID:"right-arrow",disabled:$}))}),[a,ne,l.length,F,Y,D,p,$]);return o.createElement(ke.Provider,{value:re},o.createElement("div",{onMouseEnter:z,onMouseLeave:q,onFocus:Z,onBlur:X,className:h},o.createElement(Ce,_e({},g,{className:te,cards:l,renderContainer:ie,ref:j,carouselVisibilityThreshold:c,cardsVisibilityThreshold:u}))))})));Ge.displayName="NavigationCarousel";var ze=Ge,qe=r("./node_modules/@amzn/dvui/dist/Text.js"),Qe=r("./node_modules/@amzn/dvui/dist/Icons/Entitled.js"),Ye=r.n(Qe),Ke=r("./node_modules/@amzn/dvui/dist/Icons/Ads.js"),Ze=r.n(Ke),Xe=r("./node_modules/@amzn/dvui/dist/Icons/Unentitled.js"),Je=r.n(Xe),$e="_8w2yV3",et="V33oTZ",tt="w1sRPC",rt="Le7hMb",nt="x5HxKQ",ot="xe-Hy+",it=function(e){switch(e.icon){case at.ENTITLED:return o.createElement("span",{className:rt,"data-testid":"entitled-icon"},o.createElement(Ye(),null));case at.ADS:return o.createElement("span",{className:ot,"data-testid":"ads-icon"},o.createElement(Ze(),null));case at.OFFER:return o.createElement("span",{className:nt,"data-testid":"unentitled-icon"},o.createElement(Je(),null));default:return null}},at=function(e){return e.OFFER="OFFER_ICON",e.ADS="ADS_ICON",e.ENTITLED="ENTITLED_ICON",e}({});function lt(e){var t="string"==typeof e?e:null==e?void 0:e.string;return!t||/^\s*$/.test(t)}var ct=function(e){var t=e.message,r=e.icon,n=e.className,i=e.labelClassName,l=e.hideIcon,c=void 0!==l&&l,u=e.takeUpSpaceIfEmpty,s=void 0!==u&&u;return lt(t)&&lt(r)?s?o.createElement("div",{className:a()($e,et,n)},"Â "):null:o.createElement("div",{className:a()($e,n)},r&&!c&&o.createElement(it,{icon:r}),t&&o.createElement(qe.Text,{className:a()(tt,i),string:t}))},ut=r("./node_modules/@amzn/dvui/dist/Icons/Cancel.js"),st=r.n(ut),ft="var(--dvui-icon-small-height)",dt="var(--dvui-icon-small-width)",pt="BM30T6",mt="gWrHlr",vt="wZ3MPH",yt="nK721o",ht="OLz56u",gt="_0tLEHl",bt="p7TDYn",wt="_308gAz";function Et(e){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Et(e)}function St(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Et(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Et(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Et(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Tt=function(e){var t,r,n=e.href,a=e.isDisabled,l=e.icon,c=e.isInverted,u=e.label,s=e.className,f=e.labelClassName,d=e.onSecondaryButtonClick,p=e.isTransparentBackground,m=e.ariaLabel,v=e.testID,y=e.smallIconVariant,h=void 0!==y&&y,g=n?"a":"button",b=i(s,pt,(St(t={},gt,c),St(t,yt,p),t));return o.createElement("div",{className:b},o.createElement(g,{disabled:a,href:n,onClick:d,className:i(mt,St({},ht,h)),"aria-label":m||u,"data-testid":v},l),u&&!a&&o.createElement("label",{className:i(f,vt,(r={},St(r,bt,c),St(r,wt,p),r)),"aria-hidden":!0},u))},xt=function(e){var t=e.hideThisAction,r=e.titleID,n=e.buttonStyle,i=e.textStyle,a=e.callback,l=e.isInDropdown,c=o.useContext(RT).actions.onHideThis,u=function(e){e.preventDefault(),c(e,r,a)},s=t.tag,f=t.text,d=t.endpoint,p=void 0===d?{partialURL:"",query:{}}:d,m=p.partialURL,v=p.query,y=Object.keys(v).map((function(e){return o.createElement("input",{type:"hidden",name:e,defaultValue:v[e],key:e})}));return o.createElement("form",{action:m,method:"POST"},y,l||"Hide"!==s?o.createElement("button",{type:"submit",className:n,onClick:u,"data-testid":"hide-this"},"Hide"===s&&o.createElement(st(),null),o.createElement(qe.Text,{className:i,string:f})):o.createElement(Tt,{onSecondaryButtonClick:u,label:f,labelClassName:i,className:n,isInverted:!1,isDisabled:!1,icon:o.createElement(st(),{width:dt,height:ft}),smallIconVariant:!0,testID:"hide-this"}))},Pt=function(e){return e.SixteenByNine="16/9",e.ThreeByOne="3/1",e.TwoByThree="2/3",e.ThirtyTwoByFifteen="32/15",e.OneByOne="1/1",e.ThreeHundredFortyFiveByFiftySix="345/56",e}({}),Ot={disableRightClick:!1,muted:!0,activeActivePlayer:null,activePassivePlayer:null,fullScreen:!1,updateContext:null},kt=o.createContext(Ot);kt.displayName="VideoContext";var It=r("./src/util/logger/logger.ts"),Ct=new Map,jt=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,n=e&&e.trackingEvents&&e.trackingEvents[t];if(n&&!Ct.has(n)){At(e,t,n,!1);var o=Lt(r).then((function(){return Ct.delete(n),fetch(n)})).catch((function(e){Ct.delete(n),Nt("Error firing Draper tracking event with eventUrl: "+n,e)}));return Ct.set(n,o),o.then((function(){}))}return n&&At(e,t,n,!0),Promise.resolve()},Lt=function(e){return new Promise((function(t){return setTimeout(t,e)}))},At=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];window&&window.location.href.includes("draperDebug")&&window.console.log({eventLogged:t,trackingEventURL:r,videoURL:e.mediaFile,debounced:n})},Nt=function(e,t){return(0,m.rp)(t,{logLevel:It.in.ERROR,message:e,attribution:"DVWebNodeDraperPlayer"})},Dt="_0r6cJW",Mt="nQnwnT",_t="U7TB9C",Rt="VSsT7g",Vt="WTxGCk",Wt="ESUyK5",Ft="ir0qzn",Bt="_4TmRYM",Ut="RR3G1W",Ht="+LFxJa",Gt="+DtcwT",zt="rC0Coh",qt="sVB4J4",Qt="OTNFD1",Yt="g2IzQA",Kt={Superhero:0,Packshot:1,PackshotWithEntitlementCue:2,IntermissionHero:3,DetailHero:4,ChartsCarousel:5,StandardHero:6,ChartsContainer:7,StandardMiniDetails:8,TentpoleHero:9};function Zt(e){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zt(e)}function Xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(r),!0).forEach((function(t){$t(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $t(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Zt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Zt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Zt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function er(e){return e.playerIsActive?null===e.videoContext.activeActivePlayer:null===e.videoContext.activePassivePlayer}function tr(e,t){return e.playerIsActive?e.videoContext.activeActivePlayer===t:e.videoContext.activePassivePlayer===t&&null===e.videoContext.activeActivePlayer}function rr(e,t){var r,n;if(e.playerIsActive&&e.videoContext.activeActivePlayer===t)null===(r=(n=e.videoContext).updateContext)||void 0===r||r.call(n,Jt(Jt({},e.videoContext),{},{activeActivePlayer:null}));else if(e.videoContext.activePassivePlayer===t){var o,i;null===(o=(i=e.videoContext).updateContext)||void 0===o||o.call(i,Jt(Jt({},e.videoContext),{},{activePassivePlayer:null}))}}var nr=function(e){var t,r;return null===(t=(r=e.videoContext).updateContext)||void 0===t?void 0:t.call(r,Jt(Jt({},e.videoContext),{},{activeActivePlayer:null,activePassivePlayer:null}))},or=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40px",height:"40px",viewBox:"0 0 40 40",version:"1.1",id:"svg2","aria-hidden":!0},o.createElement("defs",{id:"defs11"},o.createElement("mask",{maskUnits:"userSpaceOnUse",id:"mask4258"},o.createElement("g",{id:"g4260"},o.createElement("rect",{y:"0",x:"2",height:"24",width:"22",style:{fill:"#ffffff"}}),o.createElement("path",{d:"m 21.5,2 -16,20",style:{stroke:"#000000",strokeWidth:2}})))),o.createElement("circle",{style:{opacity:.7,fill:"#0f171e"},r:"20",cy:"20",cx:"20",id:"Oval"}),o.createElement("g",{style:{fill:"#ffffff"},transform:"translate(8,8)",id:"icon/unmuted",mask:"url(#mask4258)"},o.createElement("path",{id:"Fill-1",d:"m 4.5488,9 c -0.303,0 -0.549,0.247 -0.549,0.549 l 0,4.902 c 0,0.303 0.246,0.549 0.549,0.549 l 3.451,0 c 0.184,0 0.363,0.051 0.521,0.146 l 6.479,3.949 0,-14.392 -6.461,4.139 C 8.3788,8.945 8.1918,9 7.9998,9 l -3.451,0 z m 11.451,12.875 c -0.18,0 -0.36,-0.049 -0.52,-0.146 L 7.7198,17 4.5488,17 c -1.405,0 -2.549,-1.144 -2.549,-2.549 l 0,-4.902 C 1.9998,8.144 3.1438,7 4.5488,7 l 3.158,0 7.754,-4.967 c 0.31,-0.198 0.699,-0.21 1.019,-0.035 0.321,0.175 0.52,0.511 0.52,0.877 l 0,18 c 0,0.361 -0.195,0.695 -0.511,0.872 -0.151,0.085 -0.32,0.128 -0.489,0.128 l 0,0 z"}),o.createElement("path",{id:"Fill-3",d:"m 19,19 c -0.256,0 -0.512,-0.098 -0.707,-0.293 -0.39,-0.389 -0.391,-1.019 -0.004,-1.41 C 18.375,17.207 20,15.472 20,12 20,8.509 18.357,6.774 18.287,6.702 17.905,6.307 17.91,5.676 18.301,5.29 18.695,4.903 19.32,4.906 19.707,5.293 19.801,5.387 22,7.636 22,12 22,16.364 19.801,18.613 19.707,18.707 19.512,18.902 19.256,19 19,19"})),o.createElement("path",{style:{stroke:"#ffffff",strokeWidth:2,strokeLinecap:"round"},d:"M 27,10 11,30"})),ir=o.createElement("svg",{width:"40px",height:"40px",viewBox:"0 0 40 40","aria-hidden":!0},o.createElement("g",{id:"icon/sound-on",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.createElement("circle",{id:"Oval",fill:"#0F171E",opacity:"0.7",cx:"20",cy:"20",r:"20"}),o.createElement("g",{id:"icon/unmuted",transform:"translate(8.000000, 8.000000)",fill:"#FFFFFF"},o.createElement("path",{d:"M4.5488,9 C4.2458,9 3.9998,9.247 3.9998,9.549 L3.9998,14.451 C3.9998,14.754 4.2458,15 4.5488,15 L7.9998,15 C8.1838,15 8.3628,15.051 8.5208,15.146 L14.9998,19.095 L14.9998,4.703 L8.5388,8.842 C8.3788,8.945 8.1918,9 7.9998,9 L4.5488,9 Z M15.9998,21.875 C15.8198,21.875 15.6398,21.826 15.4798,21.729 L7.7198,17 L4.5488,17 C3.1438,17 1.9998,15.856 1.9998,14.451 L1.9998,9.549 C1.9998,8.144 3.1438,7 4.5488,7 L7.7068,7 L15.4608,2.033 C15.7708,1.835 16.1598,1.823 16.4798,1.998 C16.8008,2.173 16.9998,2.509 16.9998,2.875 L16.9998,20.875 C16.9998,21.236 16.8048,21.57 16.4888,21.747 C16.3378,21.832 16.1688,21.875 15.9998,21.875 L15.9998,21.875 Z",id:"Fill-1"}),o.createElement("path",{d:"M19,19 C18.744,19 18.488,18.902 18.293,18.707 C17.903,18.318 17.902,17.688 18.289,17.297 C18.375,17.207 20,15.472 20,12 C20,8.509 18.357,6.774 18.287,6.702 C17.905,6.307 17.91,5.676 18.301,5.29 C18.695,4.903 19.32,4.906 19.707,5.293 C19.801,5.387 22,7.636 22,12 C22,16.364 19.801,18.613 19.707,18.707 C19.512,18.902 19.256,19 19,19",id:"Fill-3"})))),ar=o.createElement("svg",{width:"40px",height:"40px",viewBox:"0 0 40 40",version:"1.1","aria-hidden":!0},o.createElement("g",{id:"fullscreen-button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.createElement("circle",{id:"Oval",fill:"#0F171E",opacity:"0.7",cx:"20",cy:"20",r:"20"}),o.createElement("g",{id:"fullscreen",fill:"#FFFFFF",transform:"translate(7.5, 7.5)"},o.createElement("path",{d:"M24.969,0.002 L24.969,0.002 L24.969,0 L21.969,0 L21.969,0.002 L15.969,0 L15.969,3 L19.723,3 L13.852,8.871 L15.973,10.992 L21.969,4.996 L21.969,9 L24.969,9 L24.969,2.25 L24.969,0.002 L24.969,0.002 Z",id:"Shape_1_"}),o.createElement("path",{d:"M9,22 L5.246,22 L11.117,16.129 L8.996,14.008 L3,20.004 L3,16 L0,16 L0,22.75 L0,25 L3,25 L9,25 L9,22 L9,22 Z",id:"Shape_2_"})))),lr=o.createElement("svg",{width:"40px",height:"40px",viewBox:"0 0 40 40",version:"1.1","aria-hidden":!0},o.createElement("g",{id:"exit-fullscreen",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.createElement("circle",{id:"Oval",fill:"#0F171E",opacity:"0.7",cx:"20",cy:"20",r:"20"}),o.createElement("g",{id:"exit-fullscreen",fill:"#FFFFFF",transform:"translate(5, 7)"},o.createElement("path",{d:"M9.984,15 L3.984,15 L3.985,18 L7.738,18 L0.867,24.871 L2.989,26.992 L9.984,19.996 L9.984,24 L12.984,24 L12.984,17.25 L12.984,15.001 L9.984,15 Z",id:"Shape_1_"}),o.createElement("path",{d:"M21.262,9 L28.133,2.129 L26.012,0.008 L19.016,7.004 L19.016,3 L16.016,3 L16.016,9.75 L16.016,11.999 L19.016,12 L25.016,12 L25.016,9 L21.262,9 Z",id:"Shape_2_"})))),cr="l-Wis8",ur="ExYz7n",sr="g4YeUe",fr=r("./node_modules/@amzn/dvui/dist/Icons/Unmuted.js"),dr=r.n(fr),pr=r("./node_modules/@amzn/dvui/dist/Icons/Muted.js"),mr=r.n(pr);function vr(e){return vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vr(e)}function yr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==vr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==vr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===vr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hr,gr,br,wr,Er,Sr,Tr,xr,Pr,Or,kr,Ir,Cr,jr,Lr,Ar,Nr,Dr,Mr,_r,Rr,Vr,Wr,Fr,Br=function(e){var t,r=!e.disableUnmute;if(!r&&!e.enableFullscreen)return null;var n=o.createElement(o.Fragment,null,r&&e.videoContext.muted?o.createElement("button",{key:"unmute","aria-label":e.textMap.unmuteButton,onMouseDown:e.toggleMute,className:"tst-video-overlay-player-muted"},or):void 0,r&&!e.videoContext.muted?o.createElement("button",{key:"mute","aria-label":e.textMap.muteButton,onMouseDown:e.toggleMute,className:"tst-video-overlay-player-unmuted"},ir):void 0),a=r?o.createElement(Tt,{icon:e.videoContext.muted?o.createElement(mr(),null):o.createElement(dr(),null),isInverted:!0,onSecondaryButtonClick:e.toggleMute,testID:e.videoContext.muted?"unmute":"mute"}):null;return o.createElement("div",{className:i(cr,(t={},yr(t,ur,[Kt.Packshot,Kt.PackshotWithEntitlementCue].includes(e.placement)),yr(t,sr,e.placement===Kt.StandardMiniDetails),t))},e.useDefaultBackground?n:a,e.enableFullscreen&&!e.videoContext.fullScreen?o.createElement("button",{className:"tst-video-overlay-player-fullscreen","aria-label":e.textMap.enterFullscreen,key:"fullscreen",onMouseDown:e.toggleFullscreen},ar):void 0,e.enableFullscreen&&e.videoContext.fullScreen?o.createElement("button",{className:"tst-video-overlay-player-exit-fullscreen","aria-label":e.textMap.exitFullscreen,key:"exit-fullscreen",onMouseDown:e.toggleFullscreen},lr):void 0)},Ur=r("./src/util/api/APIClient.ts");function Hr(e){return Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hr(e)}function Gr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Hr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Hr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Hr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zr=function(e){return e.ATVMyStuff="ATVMyStuff",e.ATVProfiles="ATVProfiles",e.ATVDetail="ATVDetail",e.ATVHome="ATVHome",e.ATVBrowse="ATVBrowse",e.ATVPerson="ATVPerson",e.ATVUnknown="ATVUnknown",e.ATVDownloads="ATVDownloads",e.ATVSubscription="ATVSubscription",e.ATVSearch="ATVSearch",e.ATVMerch="ATVMerch",e.ATVWatchParty="ATVWatchParty",e.ATVMoviesAnywhere="ATVMoviesAnywhere",e.ATVModal="ATVModal",e.ATVLive="ATVLive",e.ATVGenre="ATVGenre",e.ATVCategories="ATVCategories",e.ATVRoadblock="ATVRoadblock",e.ATVSplash="ATVSplash",e.Detail="Detail",e.DetailWebView="DetailWebView",e.DetailAW="DetailAW",e.PVPerson="PVPerson",e.DVWebAjaxAnalytics="DVWebAjaxAnalytics",e.DVSPA="DVSPA",e}({}),qr=function(e){return e.Library="Library",e.Watchlist="Watchlist",e.Channels="Channels",e.Following="Following",e.Home="Home",e.Store="Store",e.FreeToMe="FreeToMe",e.TV="TV",e.Kids="Kids",e.Search="Search",e.SearchInput="SearchInput",e.Browse="Browse",e.Categories="Categories",e.WhosWatching="WhosWatching",e.Manage="Manage",e.Edit="Edit",e.Associate="Associate",e.Create="Create",e.PinAndLocks="PinAndLocks",e.Season="Season",e.Movie="Movie",e.Event="Event",e.InstantVideo="InstantVideo",e.TVSeason="TVSeason",e.SSM="SSM",e.Actor="Actor",e.Watch="Watch",e.Chat="Chat",e.PVWinApp="PVWinApp",e.GettingStarted="GettingStarted",e.Main="Main",e.Unknown="Unknown",e}({}),Qr=function(e){return e.Explore="pvwindowsapp-explore",e.DetailPage="pvwindowsapp-dp",e.Live="pvwindowsapp-live",e.AccList="pvwindowsapp-al",e.WindowsApp="pvwindowsapp-main",e.Unknown="pvwindowsapp-unknown",e}({}),Yr=function(e){return e.Explore="pvweb-explore",e.DetailPage="pvweb-dp",e.Live="pvweb-live",e.AccList="pvweb-al",e.WindowsApp="pvweb-winapp",e.Unknown="pvweb-unknown",e}({}),Kr=function(e){return e.Web="web",e.WinApp="winApp",e}({}),Zr=(Gr(Fr={},zr.ATVMyStuff,(Gr(hr={},Kr.WinApp,Qr.AccList),Gr(hr,Kr.Web,Yr.AccList),hr)),Gr(Fr,zr.ATVProfiles,(Gr(gr={},Kr.WinApp,Qr.AccList),Gr(gr,Kr.Web,Yr.AccList),gr)),Gr(Fr,zr.ATVDetail,(Gr(br={},Kr.WinApp,Qr.DetailPage),Gr(br,Kr.Web,Yr.DetailPage),br)),Gr(Fr,zr.ATVPerson,(Gr(wr={},Kr.WinApp,Qr.DetailPage),Gr(wr,Kr.Web,Yr.DetailPage),wr)),Gr(Fr,zr.ATVWatchParty,(Gr(Er={},Kr.WinApp,Qr.DetailPage),Gr(Er,Kr.Web,Yr.DetailPage),Er)),Gr(Fr,zr.ATVMoviesAnywhere,(Gr(Sr={},Kr.WinApp,Qr.DetailPage),Gr(Sr,Kr.Web,Yr.DetailPage),Sr)),Gr(Fr,zr.ATVHome,(Gr(Tr={},Kr.WinApp,Qr.Explore),Gr(Tr,Kr.Web,Yr.Explore),Tr)),Gr(Fr,zr.ATVBrowse,(Gr(xr={},Kr.WinApp,Qr.Explore),Gr(xr,Kr.Web,Yr.Explore),xr)),Gr(Fr,zr.ATVSearch,(Gr(Pr={},Kr.WinApp,Qr.Explore),Gr(Pr,Kr.Web,Yr.Explore),Pr)),Gr(Fr,zr.ATVMerch,(Gr(Or={},Kr.WinApp,Qr.Explore),Gr(Or,Kr.Web,Yr.Explore),Or)),Gr(Fr,zr.ATVSubscription,(Gr(kr={},Kr.WinApp,Qr.Explore),Gr(kr,Kr.Web,Yr.Explore),kr)),Gr(Fr,zr.ATVUnknown,(Gr(Ir={},Kr.WinApp,Qr.Unknown),Gr(Ir,Kr.Web,Yr.Unknown),Ir)),Gr(Fr,zr.ATVDownloads,(Gr(Cr={},Kr.WinApp,Qr.WindowsApp),Gr(Cr,Kr.Web,Yr.WindowsApp),Cr)),Gr(Fr,zr.DVSPA,(Gr(jr={},Kr.WinApp,Qr.WindowsApp),Gr(jr,Kr.Web,Yr.WindowsApp),jr)),Gr(Fr,zr.ATVModal,(Gr(Lr={},Kr.WinApp,Qr.Live),Gr(Lr,Kr.Web,Yr.Live),Lr)),Gr(Fr,zr.ATVLive,(Gr(Ar={},Kr.WinApp,Qr.Explore),Gr(Ar,Kr.Web,Yr.Explore),Ar)),Gr(Fr,zr.ATVGenre,(Gr(Nr={},Kr.WinApp,Qr.Explore),Gr(Nr,Kr.Web,Yr.Explore),Nr)),Gr(Fr,zr.ATVCategories,(Gr(Dr={},Kr.WinApp,Qr.Explore),Gr(Dr,Kr.Web,Yr.Explore),Dr)),Gr(Fr,zr.Detail,(Gr(Mr={},Kr.WinApp,Qr.DetailPage),Gr(Mr,Kr.Web,Yr.DetailPage),Mr)),Gr(Fr,zr.DetailWebView,(Gr(_r={},Kr.WinApp,Qr.DetailPage),Gr(_r,Kr.Web,Yr.DetailPage),_r)),Gr(Fr,zr.DetailAW,(Gr(Rr={},Kr.WinApp,Qr.DetailPage),Gr(Rr,Kr.Web,Yr.DetailPage),Rr)),Gr(Fr,zr.PVPerson,(Gr(Vr={},Kr.WinApp,Qr.DetailPage),Gr(Vr,Kr.Web,Yr.DetailPage),Vr)),Gr(Fr,zr.DVWebAjaxAnalytics,(Gr(Wr={},Kr.WinApp,Qr.DetailPage),Gr(Wr,Kr.Web,Yr.DetailPage),Wr)),Fr),Xr=function(e){return e.SignOut="SignOut",e.SignIn="SignIn",e.Share="Share",e.Search="Search",e.CarouselScroll="CarouselScroll",e.Purchase="Purchase",e.Rent="Rent",e.PlayTrailer="PlayTrailer",e.PlayStream="PlayStream",e.PlayDraper="PlayDraper",e.PlayDownload="PlayDownload",e.Download="Download",e.Click="Click",e.Back="Back",e.AddToWatchlist="AddToWatchlist",e.RemoveFromWatchlist="RemoveFromWatchlist",e.PageNavigate="PageNavigate",e.DefaultAction="Click",e}({}),Jr=function(e){return e.PageHit="pageHit",e.PageTouch="pageTouch",e.PopUp="popUp",e.actionOnly="actionOnly",e.refreshButton="refreshButton",e.BackForwardButton="bf=10",e}({}),$r=r("./src/util/utils/device.ts"),en=function(e,t){switch((0,c.is)()===c.wQ.ROW&&t?t:tn(e)){case c.yp.EU:return"atv-ps-eu".concat((0,c.is)());case c.yp.FE:return"atv-ps-fe".concat((0,c.is)());case c.yp.NA:default:return"atv-ps".concat((0,c.is)())}},tn=function(e){switch(e){case c.HZ.UK:case c.HZ.DE:case c.HZ.ROW_EU:case c.HZ.ROE_EU:return c.yp.EU;case c.HZ.JP:case c.HZ.ROW_FE:return c.yp.FE;case c.HZ.US:case c.HZ.ROW_NA:default:return c.yp.NA}},rn="AOAGZA014O5RE",nn=function(e,t){return"".concat("https","://").concat(en(e.marketplaceID,t))},on=function(e){return{deviceID:e.deviceID,deviceTypeID:(0,$r.dz)().deviceTypeId,gascEnabled:(0,c.ST)()?"true":"false",marketplaceID:e.marketplaceID,uxLocale:e.locale}},an=r("./src/util/utils/refMarker.ts"),ln=r("./src/util/api/util.ts"),cn=function(e){return e.DownloadActionDisable="DownloadAction:Disable",e.DownloadActionEnable="DownloadAction:Enable",e.DownloadActionResume="DownloadAction:Resume",e.DownloadActionHold="DownloadAction:Hold",e.DownloadActionPause="DownloadAction:Pause",e.DownloadActionRefresh="DownloadAction:Refresh",e.DownloadActionRemove="DownloadAction:Remove",e.DownloadActionRetry="DownloadAction:Retry",e.DownloadActionRelease="DownloadAction:Release",e.DownloadActionStarted="DownloadAction:Started",e.HeartbeatXPDownloads="DownloadActive:XP",e.DownloadEventDownloadError="DownloadEvent:DownloadError",e.DownloadEventStatusChange="DownloadEvent:StatusChange",e.DownloadEventLocalContentError="DownloadEvent:LocalContentError",e.DownloadEventRefreshed="DownloadEvent:Refreshed",e.DownloadEventRefreshing="DownloadEvent:Refreshing",e.DownloadEventRefreshError="DownloadEvent:RefreshError",e.DownloadEventProgress="DownloadEvent:Progress",e.DownloadEventTriggered="DownloadEvent:Triggered",e.DownloadOfflineDataSavingError="offline-data-saving-error",e.DownloadReportNoDownloads="dl-no-downloads",e.DownloadReportNoDownloadsButMetadata="dl-no-downloads-but-metadata",e.DownloadReportNoMetadataButDownloads="dl-no-metadata-but-downloads",e.DownloadReportNoMetadata="dl-no-metadata",e.DownloadReportNoDownloadsNoMetadata="dl-nothing",e.DownloadAdditionalLanguageDefault="download-additional-language-default",e.DownloadQualityDefault="download-download-quality-default",e.DownloadQualityDownloadSettingsPage="download-quality:settings-page",e.DownloadQualityDownloadSettingsModal="download-quality:download-settings-modal",e.DownloadSettingsModalDownloadQualityTabOpened="download-settings-modal-download-quality-tab-opened",e.DownloadSettingsModalLanguageTabOpened="download-settings-modal-language-tab-opened",e.DownloadSettingsModalDownloadStart="download-settings-modal:download-start",e.DownloadSettingsModalOpen="download-settings-modal:open",e.DownloadMissingAudioTracks="missing-audio-tracks",e.DownloadMultiDeleteRequested="multi-delete-requested",e.DownloadMissingDownloadsMetadata="missing-downloads-metadata",e.DownloadNoAction="download-no-action",e.GetAllDownloadOperations="GetAllDownloadOperations",e.XPDownloadTimingDownloadsMetadataReceived="xp-download-timing:downloads-metadata-received",e.XPDownloadTimingDownloadsPayloadConstructed="xp-download-timing:downloads-payload-constructed",e.XPDownloadTimingLCMLoaded="xp-download-timing:lcm-loaded",e.XPDownloadTimingOperationsDataReceived="xp-download-timing:operations-data-received",e.XPDownloadTimingSDKLoaded="xp-download-timing:sdk-loaded",e.EditDownloadsClicked="edit-clicked",e.DownloadFallBackStreaming="fallback-streaming",e}({}),un=function(e){return e.PlaybackOrigin="PlaybackOrigin",e.PlaybackOriginNativePlayback="PlaybackOrigin:NativePlayback",e.PlaybackOriginXpPlayback="PlaybackOrigin:XpPlayback",e.PlaybackTitleIdMismatch="playback-title-id-mismatch",e}({}),sn=function(e){return e.SWClearCache="sw-clear-cache",e.AssetLoadingFailed="AssetLoadingFailed",e.CXBlockingErrorRecovered="CXBlockingErrorRecovered",e.CXBlockingErrorUnknown="CXBlockingErrorUnknown",e.ChunkFailedToLoad="ChunkFailedToLoad",e.FetchResponseCode400="HTTP:400",e.FetchResponseCode403="HTTP:403",e.LogoutActionTimeout="LogoutAction-Timeout",e.ProfileSwitch="ProfileSwitch",e.SPAInitialisation="SPAInitialisation",e.Deeplink="deeplink",e.DeeplinkAction="deeplinkAction",e.NavBarToggle="navigationBar:toggle",e.ProfilesModalOpen="profilesModal:open",e.SpaEPAReload="spa-epa-reload",e.UXLanguageChangeShowErrorBanner="uxLanguageChange-show-error-banner",e.WidgetMount="widget-mount",e.AppUpdateBannerAction="AppUpdateBannerAction",e.AppUpdateSunsetAction="AppUpdateSunsetAction",e}({}),fn=function(e){return e.CallClickStream="Call:Clickstream",e.CallConsumeRental="Call:ConsumeRental",e.CallRelease="Call:Release",e.CallSync="Call:Sync",e.CallUpdateStream="Call:UpdateStream",e.CallUndefined="Call:Undefined",e.SyncDisable="Sync:Disable",e.SyncRefresh="Sync:Refresh",e.SyncDelete="Sync:Delete",e.SyncNoAction="Sync:NoAction",e.SyncUnknown="Sync:Unknown",e}({}),dn=["body"];function pn(e){return pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pn(e)}function mn(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function vn(){vn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),l=new P(o||[]);return n(a,"_invoke",{value:E(e,r,l)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function p(){}function m(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,h=y&&y(y(O([])));h&&h!==t&&r.call(h,i)&&(v=h);var g=m.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(n,i,a,l){var c=s(e[n],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==pn(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,l)}),(function(e){o("throw",e,a,l)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,l)}))}l(c.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function E(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return k()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var l=S(a,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:p,configurable:!0}),p.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,l,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function yn(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function hn(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){yn(i,n,o,a,l,"next",e)}function l(e){yn(i,n,o,a,l,"throw",e)}a(void 0)}))}}function gn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(r),!0).forEach((function(t){En(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sn(n.key),n)}}function En(e,t,r){return(t=Sn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sn(e){var t=function(e,t){if("object"!==pn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==pn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pn(t)?t:String(t)}var Tn={credentials:"include",headers:{},body:void 0},xn=function(e){return e.Clickstream="Clickstream",e.ConsumeRental="ConsumeRental",e.Release="Release",e.Sync="Sync",e.UpdateStream="UpdateStream",e}({}),Pn={Clickstream:fn.CallClickStream,ConsumeRental:fn.CallConsumeRental,Release:fn.CallRelease,Sync:fn.CallSync,UpdateStream:fn.CallUpdateStream},On=function(){function e(t){var r=this,n=t.context,o=t.logger,i=t.retryLogic,a=t.logErrorAsWarning,l=void 0!==a&&a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),En(this,"context",void 0),En(this,"logger",void 0),En(this,"retryLogic",void 0),En(this,"logErrorAsWarning",void 0),En(this,"defaultRetryCondition",(function(){return!1})),En(this,"logError",(function(e,t,n){r.logErrorAsWarning?r.logger.warn(t,bn({errorMessage:null==e?void 0:e.message},n)):r.logger.error(e,t,n)})),this.context=n,this.logger=o;var c={maxRetries:0,retryOnStatusCode:this.defaultRetryCondition,retryOnException:this.defaultRetryCondition,retryOnDeserializationException:this.defaultRetryCondition};this.retryLogic=bn(bn({},c),i),this.logErrorAsWarning=l}var t,r,n,o,i,a,l,c;return t=e,r=[{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"get",value:(c=hn(vn().mark((function e(t,r){var n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bn(bn({},t.opts),{},{method:"GET"}),e.abrupt("return",this.call(null==t?void 0:t.operationName,this.buildURL(t.uri,t.query),n,r));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"post",value:(l=hn(vn().mark((function e(t,r){var n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bn(bn({},t.opts),{},{method:"POST"}),e.abrupt("return",this.call(null==t?void 0:t.operationName,this.buildURL(t.uri,t.query),n,r));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"buildURL",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{t=new URL(e)}catch(r){t=new URL(e,window.location.origin)}for(var n in r)t.searchParams.set(n,"".concat(r[n]));return t.toString().replace(/\/$/,"")}},{key:"constructPostRequest",value:function(e){var t=e.body,r=mn(e,dn);return bn(bn(bn({},Tn),r),{},{body:t?JSON.stringify(t):void 0})}},{key:"call",value:(a=hn(vn().mark((function e(t,r,n,o){var i,a,l,c,u,s;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=bn(bn({},this.retryLogic),o),a=0;case 2:if(l={},e.prev=3,!(a>0&&i.backoffStrategy)){e.next=8;break}return c=i.backoffStrategy(a),e.next=8,this.sleep(c);case 8:return e.next=10,this.fetchResponse(t,r,n,l);case 10:return u=e.sent,e.next=13,this.parseResponse(t,u,l);case 13:return s=e.sent,l.Success=1,e.abrupt("return",s);case 18:if(e.prev=18,e.t0=e.catch(3),!this.shouldRetry(e.t0,r,n,t,l,i)||a==i.maxRetries){e.next=24;break}return e.abrupt("continue",31);case 24:throw l.Failure=1,e.t0;case 26:return e.prev=26,0!=a&&(l.Retry=1),void 0!==t?this.logger.count(Pn[t],l):this.logger.count(fn.CallUndefined,l),a++,e.finish(26);case 31:if(a<=((null==i?void 0:i.maxRetries)||0)){e.next=2;break}case 32:return e.abrupt("return",Promise.reject());case 33:case"end":return e.stop()}}),e,this,[[3,18,26,31]])}))),function(e,t,r,n){return a.apply(this,arguments)})},{key:"parseResponse",value:(i=hn(vn().mark((function e(t,r,n){var o,i;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.json();case 3:o=e.sent,e.next=12;break;case 6:throw e.prev=6,e.t0=e.catch(0),i=new ln.xU(e.t0.message),this.logError(i,"Could not parse response",{operationName:t}),n.DeserializationException=1,i;case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e,t,r){return i.apply(this,arguments)})},{key:"fetchResponse",value:(o=hn(vn().mark((function e(t,r,n,o){var i,a,l;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(r,n);case 2:if(i=e.sent,o["StatusCode_".concat(i.status)]=1,i.ok){e.next=11;break}return e.next=7,i.text();case 7:throw a=e.sent,l=new ln.jZ(a,i.status),400===i.status?this.logger.count(sn.FetchResponseCode400,o,!0):403===i.status?this.logger.count(sn.FetchResponseCode403,o,!0):this.logError(l,"Non 2xx status code received",{statusCode:i.status,operationName:t,url:r,marketplaceId:this.context.marketplaceID,currentTerritory:this.context.currentTerritory,recordTerritory:this.context.recordTerritory,geoToken:this.context.geoToken,location:window.location.href}),l;case 11:return e.abrupt("return",i);case 12:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return o.apply(this,arguments)})},{key:"shouldRetry",value:function(e,t,r,n,o,i){return e instanceof ln.jZ&&i&&i.retryOnStatusCode?i.retryOnStatusCode(e,t,r):e instanceof ln.xU&&i&&i.retryOnDeserializationException?i.retryOnDeserializationException(e,t,r):(o.Exception=1,this.logError(e,"".concat(r.method," request threw an exception"),{url:t,operationName:n}),!(!i||!i.retryOnException)&&i.retryOnException(e,t,r))}}],r&&wn(t.prototype,r),n&&wn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function kn(e){return kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kn(e)}function In(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,An(n.key),n)}}function Cn(e,t,r){return t&&In(e.prototype,t),r&&In(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ln(e,t,r){return(t=An(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function An(e){var t=function(e,t){if("object"!==kn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==kn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===kn(t)?t:String(t)}var Nn=Cn((function e(){var t=this;jn(this,e),Ln(this,"store",new Map),Ln(this,"push",(function(e){var r=t.store.size+e.startTime;return t.store.set(r,e),r})),Ln(this,"delete",(function(e){t.store.delete(e)})),Ln(this,"values",(function(){return Array.from(t.store.values())})),Ln(this,"clear",(function(){t.store.clear()}))})),Dn=Cn((function e(t,r){var n=this;jn(this,e),Ln(this,"storage",void 0),Ln(this,"callback",void 0),Ln(this,"parameters",void 0),Ln(this,"interval",null),Ln(this,"timer",(function(){n.interval=setInterval(n.execute,1e3*n.parameters.duration)})),Ln(this,"add",(function(e){var t=n.storage.push(e);return n.storage.store.size===n.parameters.size?n.execute():null===n.interval&&n.timer(),t})),Ln(this,"remove",(function(e){n.storage.delete(e)})),Ln(this,"execute",(function(){n.callback(n.storage.values()),n.reset()})),Ln(this,"reset",(function(){n.storage.clear(),null!==n.interval&&clearInterval(n.interval),n.interval=null})),this.storage=new Nn,this.callback=r,this.parameters=t}));function Mn(e){return function(e){if(Array.isArray(e))return _n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Rn={hitType:Object.values(Jr),action:Object.values(Xr),pageType:Object.values(zr),subPageType:"string",clientVariant:[].concat(Mn(Object.values(Yr)),Mn(Object.values(Qr))),refMarker:"string",pageTypeId:"string",startTime:"number",deviceTypeId:"string",deviceId:"string",pageTypeIdSource:"string",preferredLanguage:"string",ue:"number",cf:"number",af:"number",id:"number",requiredProperties:["hitType","pageType","subPageType","startTime","deviceTypeId","action","clientVariant","refMarker"]};function Vn(e){return Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vn(e)}function Wn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bn(n.key),n)}}function Fn(e,t,r){return(t=Bn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bn(e){var t=function(e,t){if("object"!==Vn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Vn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Vn(t)?t:String(t)}var Un=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Fn(this,"clickstreamSchemaConfiguration",Rn),Fn(this,"isClickstreamPayload",(function(e,t){return!!(e&&"object"===Vn(e)&&e instanceof Object&&Object.getPrototypeOf(e)===Object.prototype)||(t.message="Clickstream payload is not an object",!1)})),t&&(this.clickstreamSchemaConfiguration=t)}var t,r,n;return t=e,(r=[{key:"isValid",value:function(e){var t={message:""};return this.isClickstreamPayload(e,t)&&this.checkProperties(e,t)?{isValid:!0}:{isValid:!1,errorMessage:t.message}}},{key:"checkProperties",value:function(e,t){return this.checkProperty(e,"hitType",t)&&this.checkProperty(e,"action",t)&&this.checkProperty(e,"refMarker",t)&&this.checkProperty(e,"pageType",t)&&this.checkProperty(e,"pageTypeId",t)&&this.checkProperty(e,"subPageType",t)&&this.checkProperty(e,"startTime",t)&&this.checkProperty(e,"deviceId",t)&&this.checkProperty(e,"deviceTypeId",t)&&this.checkProperty(e,"clientVariant",t)&&this.checkProperty(e,"preferredLanguage",t)&&this.checkProperty(e,"ue",t)&&this.checkProperty(e,"cf",t)&&this.checkProperty(e,"id",t)&&this.checkAdditionalData(e,"additionalData",t)&&this.checkTags(e,"tags",t)}},{key:"checkProperty",value:function(e,t,r){return this.isPropertyDefined(e,t)?this.isOfSpecifiedType(e,t,this.clickstreamSchemaConfiguration[t],r)&&this.propertySpecificCheck(e,t,r):this.handleUndefinedProperty(e,t,this.clickstreamSchemaConfiguration.requiredProperties,r)}},{key:"checkAdditionalData",value:function(e,t,r){return this.isPropertyDefined(e,t)?this.isPlainObject(e.additionalData,t,r):this.handleUndefinedProperty(e,t,this.clickstreamSchemaConfiguration.requiredProperties,r)}},{key:"checkTags",value:function(e,t,r){var n=this;return this.isPropertyDefined(e,t)?this.isArray(e.tags,"tags",r)&&e.tags.every((function(e){return n.isOfSpecifiedType(e,"tags","string",r)})):this.handleUndefinedProperty(e,t,this.clickstreamSchemaConfiguration.requiredProperties,r)}},{key:"handleUndefinedProperty",value:function(e,t,r,n){return!this.isRequired(e,t,r)||(this.setUndefinedErrorMessage(t,n),!1)}},{key:"isRequired",value:function(e,t,r){return r.indexOf(t)>=0||this.isMaybeRequired(e,t)}},{key:"isMaybeRequired",value:function(e,t){if("pageTypeId"===t){var r=e.pageType,n=e.hitType,o=e.action;return n==Jr.PageHit&&r==zr.ATVDetail&&o==Xr.Click||n==Jr.PageTouch&&(o==Xr.Download||o==Xr.PlayDownload)}return!1}},{key:"isPropertyDefined",value:function(e,t){return Object.hasOwnProperty.call(e,t)}},{key:"isPlainObject",value:function(e,t,r){var n=e instanceof Object&&Object.getPrototypeOf(e)===Object.prototype;return n||this.setIncorrectTypeErrorMessage(t,r,e),n}},{key:"isArray",value:function(e,t,r){var n=Array.isArray(e);return n||this.setIncorrectTypeErrorMessage(t,r,e),n}},{key:"isOfSpecifiedType",value:function(e,t,r,n){var o=Array.isArray(r)&&r.indexOf(e[t])>=0||Vn(e[t])===r;return o||this.setIncorrectTypeErrorMessage(t,n,e[t]),o}},{key:"setUndefinedErrorMessage",value:function(e,t){t.message="ClickstreamValidationFailed - ".concat(e," is not defined")}},{key:"setIncorrectTypeErrorMessage",value:function(e,t,r){Array.isArray(r)?r="Array":r instanceof Object&&Object.getPrototypeOf(r)===Object.prototype&&(r="Object"),t.message="ClickstreamValidationFailed - ".concat(e," is of incorrect type, received value is ").concat(r)}},{key:"propertySpecificCheck",value:function(e,t,r){switch(t){case"subPageType":return this.checkSubPageType(e,r);case"refMarker":return this.checkRefMarker(e,r);default:return!0}}},{key:"checkSubPageType",value:function(e,t){var r=e.subPageType;return r?r.match(/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/)?(t.message="ClickstreamValidationFailed - subPageType must not contain special characters, received value is ".concat(r),!1):r.charAt(0)===r.charAt(0).toUpperCase()||(t.message="ClickstreamValidationFailed - subPageType is not CapitalizedCamelCase, received value is ".concat(r),!1):(t.message="ClickstreamValidationFailed - subPageType must not be empty string",!1)}},{key:"checkRefMarker",value:function(e,t){var r=e.refMarker;return r.match("^[A-Za-z0-9_|\\-]*$")?r.match("^[A-Za-z].*")?r.match(".*[A-Za-z0-9]$")?r.match("^(?!.*([-_|]){2,}).*$")?!(r.length<2||r.length>64)||(t.message="ClickstreamValidationFailed - refMarker must be within the length limits, received value is ".concat(r),!1):(t.message="ClickstreamValidationFailed - refMarker must not contain repeating punctuation, received value is ".concat(r),!1):(t.message="ClickstreamValidationFailed - refMarker must end with alphanumeric character, received value is ".concat(r),!1):(t.message="ClickstreamValidationFailed - refMarker must start with alphabetic character, received value is ".concat(r),!1):(t.message="ClickstreamValidationFailed - refMarker must contain alphanumeric characters and punctuation only, received value is ".concat(r),!1)}}])&&Wn(t.prototype,r),n&&Wn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Hn(e){return Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(e)}function Gn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kn(n.key),n)}}function Qn(e,t,r){return t&&qn(e.prototype,t),r&&qn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yn(e,t,r){return(t=Kn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kn(e){var t=function(e,t){if("object"!==Hn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Hn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Hn(t)?t:String(t)}var Zn=Qn((function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Yn(this,"logger",void 0),Yn(this,"warn",(function(e,t){r.logger.warn(e,t)})),Yn(this,"error",(function(e,t,n){r.logger.error(t,n,e)})),Yn(this,"debug",(function(e,t){r.logger.debug(e,t)})),Yn(this,"info",(function(e,t){r.logger.info(e,t)})),Yn(this,"fatal",(function(e,t,n){r.logger.fatal(t,n,e)})),Yn(this,"count",(function(e,t,n){r.logger.count(e,1,!1),t&&Object.entries(t).forEach((function(t){var o=Gn(t,2),i=o[0],a=o[1];r.logger.count("".concat(e,"::").concat(i),a,!1,n)}))})),this.logger=t}));function Xn(e){return Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xn(e)}function Jn(){Jn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),l=new P(o||[]);return n(a,"_invoke",{value:E(e,r,l)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function p(){}function m(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,h=y&&y(y(O([])));h&&h!==t&&r.call(h,i)&&(v=h);var g=m.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(n,i,a,l){var c=s(e[n],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==Xn(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,l)}),(function(e){o("throw",e,a,l)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,l)}))}l(c.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function E(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return k()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var l=S(a,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:p,configurable:!0}),p.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,l,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function $n(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function eo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(r),!0).forEach((function(t){oo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ro(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,io(n.key),n)}}function no(e,t,r){return t&&ro(e.prototype,t),r&&ro(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oo(e,t,r){return(t=io(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function io(e){var t=function(e,t){if("object"!==Xn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Xn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Xn(t)?t:String(t)}var ao=no((function e(t){var r=this,n=t.context,o=t.DTID,i=t.logger,a=void 0===i?new Zn(new It.Oc("DVWebNode:ClickstreamClient")):i,l=t.batchParameters,c=t.homeRegion;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),oo(this,"DTID",void 0),oo(this,"context",void 0),oo(this,"serviceClient",void 0),oo(this,"queue",void 0),oo(this,"dcsSchemaValidator",new Un(Rn)),oo(this,"logger",void 0),oo(this,"homeRegion",void 0),oo(this,"buildURL",(function(){var t=new URLSearchParams(to(to({},on(r.context)),{},{deviceTypeID:r.DTID,firmware:"DVWebNode"}));return"".concat(nn(r.context,r.homeRegion),"/").concat(e.CLICKSTREAM_URL,"?").concat(t.toString())})),oo(this,"buildEntry",(function(e,t){return Object.assign(t,{hitType:e,startTime:Date.now(),deviceTypeId:r.DTID})})),oo(this,"getAdditionalParameters",(function(){return{isStressTest:String(Boolean(r.context.isTest)),clientIp:r.context.customerIPAddress,currentClientTime:Date.now(),currentTerritory:r.context.currentTerritory,customerId:r.context.customerID,deviceId:r.context.deviceID,deviceTypeId:r.DTID,identityContext:r.context.identityContext,marketplaceId:r.context.marketplaceID,preferredLanguage:r.context.locale,sessionId:r.context.sessionID,videoCountryOfRecord:r.context.recordTerritory}})),oo(this,"enqueue",(function(e){var t=r.dcsSchemaValidator.isValid(e);t.isValid||r.logger.debug("Invalid Clickstream entry",{validationError:(null==t?void 0:t.errorMessage)||"",invalidEntry:JSON.stringify(e)}),r.queue.add(e)})),oo(this,"call",function(){var t,n=(t=Jn().mark((function t(n){var o;return Jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=JSON.stringify(to({EntryList:n},r.getAdditionalParameters())),t.prev=1,t.next=4,r.serviceClient.post({operationName:xn.Clickstream,uri:r.buildURL(),opts:{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:o}},e.strategy);case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:case"end":return t.stop()}}),t,null,[[1,6]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(e){$n(i,n,o,a,l,"next",e)}function l(e){$n(i,n,o,a,l,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}()),oo(this,"hit",(function(e){var t=e.pageType,n=e.subPageType,o=e.clientVariant,i=e.refMarker,a=e.pageTypeId,l=e.A9SearchFields,c=r.buildEntry(Jr.PageHit,to(to(to({action:Xr.Click,pageType:t,subPageType:n,clientVariant:o},i&&{refMarker:i}),a&&{pageTypeId:a}),l&&{A9SearchFields:l}));r.enqueue(c)})),oo(this,"hva",(function(e){var t=e.pageType,n=e.subPageType,o=e.action,i=e.clientVariant,a=e.refMarker,l=e.pageTypeId,c=e.hitType,u=e.A9SearchFields,s=r.buildEntry(null!=c?c:Jr.PageTouch,to(to(to({action:o,pageType:t,subPageType:n,clientVariant:i},a&&{refMarker:a}),l&&{pageTypeId:l}),u&&{A9SearchFields:u}));r.enqueue(s)})),this.context=n,this.DTID=o,this.logger=a,this.serviceClient=new On({context:this.context,logger:a,logErrorAsWarning:!0}),this.queue=new Dn(l,this.call),this.homeRegion=c}));function lo(e){return lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lo(e)}function co(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yo(n.key),n)}}function uo(e,t){return uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uo(e,t)}function so(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=mo(e);if(t){var o=mo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return fo(this,r)}}function fo(e,t){if(t&&("object"===lo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return po(e)}function po(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mo(e){return mo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mo(e)}function vo(e,t,r){return(t=yo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yo(e){var t=function(e,t){if("object"!==lo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==lo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===lo(t)?t:String(t)}oo(ao,"CLICKSTREAM_URL","cdp/usage/Clickstream"),oo(ao,"strategy",{maxRetries:0,retryOnException:function(){return!1}});var ho={size:1,duration:1},go=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uo(e,t)}(i,e);var t,r,n,o=so(i);function i(e){var t,r=e.context,n=e.homeRegion,a=e.logger;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),vo(po(t=o.call(this,{context:r,DTID:i.getDTID(),logger:a,homeRegion:n,batchParameters:i.getBatchParameters()})),"previousParameters",void 0),vo(po(t),"onNavigation",void 0),vo(po(t),"backButtonData",void 0),vo(po(t),"getClientVariant",(function(e){return Zr[e]?Zr[e][Kr.Web]:Yr.Unknown})),vo(po(t),"getA9SearchFields",(function(){var e,t=new URLSearchParams(window.location.search),r=function(e){if(null===e)return null;var t=parseInt(e,10);return isNaN(t)?null:t},n=r(t.get("qid")),o=t.get("sr"),i=null===o?null:r(o.split("-")[1]);return null!==n&&null!==i&&i>0?{qid:n,searchPositionIndex:i,keyword:null!==(e=t.get("keywords"))&&void 0!==e?e:""}:void 0})),vo(po(t),"getRefmarker",(function(){var e=window.location.href.match(an.oA);return e&&e[1]||"atv_unknown"})),vo(po(t),"getParameters",(function(e,r,n,o){return{pageType:e,subPageType:r,refMarker:n||t.getRefmarker(),clientVariant:o||t.getClientVariant(e),A9SearchFields:t.getA9SearchFields()}})),vo(po(t),"recordBackButton",(function(){var e=t.getRefmarker();t.backButtonData={ref:e+"_back",hitType:Jr.BackForwardButton}})),vo(po(t),"clearBackButton",(function(){t.backButtonData=void 0})),vo(po(t),"navigation",(function(e){var r=e.pType,n=e.sPageType,o=e.ref,i=e.pageTypeId;try{var a=t.getParameters(r,n,o),l=a.pageType,c=a.subPageType,u=a.refMarker,s=a.clientVariant,f=a.A9SearchFields;t.previousParameters={pageType:l,subPageType:c,refMarker:u,clientVariant:s,A9SearchFields:f},t.backButtonData&&(t.hva({pageType:l,subPageType:c,action:Xr.Back,clientVariant:s,refMarker:t.backButtonData.ref,pageTypeId:i,hitType:t.backButtonData.hitType,A9SearchFields:f}),t.clearBackButton()),t.hit({pageType:l,subPageType:c,clientVariant:s,refMarker:u,pageTypeId:i,A9SearchFields:f}),t.onNavigation&&t.onNavigation({pageType:l,subPageType:c})}catch(e){t.logger.warn("PVClickstream navigation() error",e)}})),vo(po(t),"action",(function(e){var r=e.action,n=e.pType,o=e.sPageType,i=e.ref,a=e.pageTypeId,l=e.hitType,c=e.clientVariantOverride;try{var u=n&&o?t.getParameters(n,o,i,c):t.previousParameters,s=u.pageType,f=u.subPageType,d=u.refMarker,p=u.clientVariant;t.previousParameters={pageType:s,subPageType:f,refMarker:d,clientVariant:p},t.hva({pageType:s,subPageType:f,action:r,clientVariant:null!=c?c:p,hitType:l,refMarker:null!=i?i:d,pageTypeId:a})}catch(e){t.logger.warn("PVClickstream action() error",e)}})),vo(po(t),"setOnNavigation",(function(e){return t.onNavigation=e})),t.previousParameters={pageType:zr.ATVUnknown,subPageType:qr.Unknown,clientVariant:Qr.Unknown,refMarker:"atv_unknown"},t}return t=i,r&&co(t.prototype,r),n&&co(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(ao);vo(go,"getBatchParameters",(function(){return ho})),vo(go,"getDTID",(function(){return rn}));var bo=null,wo=function(e){return null==bo&&void 0!==(null==e?void 0:e.context)&&(bo=new go(e)),bo};function Eo(e,t,r,n,o,i,a,l){var c;o||(o=[void 0]);var u=l||wo();null===(c=o)||void 0===c||c.forEach((function(o){null==u||u.action({action:o||Xr.DefaultAction,pageTypeId:n,ref:e,sPageType:r,pType:t,hitType:i,clientVariantOverride:a})}))}var So=r("./node_modules/@amzn/dv-web-node-reftags/index.js");function To(e){return To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},To(e)}function xo(){xo=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),l=new P(o||[]);return n(a,"_invoke",{value:E(e,r,l)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function p(){}function m(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,h=y&&y(y(O([])));h&&h!==t&&r.call(h,i)&&(v=h);var g=m.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(n,i,a,l){var c=s(e[n],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==To(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,l)}),(function(e){o("throw",e,a,l)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,l)}))}l(c.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function E(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return k()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var l=S(a,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:p,configurable:!0}),p.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,l,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Po(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function Oo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ko(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(r),!0).forEach((function(t){Do(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Io(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mo(n.key),n)}}function Co(e,t){return Co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Co(e,t)}function jo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=No(e);if(t){var o=No(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Lo(this,r)}}function Lo(e,t){if(t&&("object"===To(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ao(e)}function Ao(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function No(e){return No=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},No(e)}function Do(e,t,r){return(t=Mo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mo(e){var t=function(e,t){if("object"!==To(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==To(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===To(t)?t:String(t)}var _o="DVWeb::Storefront::PreRollPlayer",Ro=.1,Vo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Co(e,t)}(u,e);var t,r,n,a,l,c=jo(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),Do(Ao(t=c.call(this,e)),"playHandler",void 0),Do(Ao(t),"stopHandler",void 0),Do(Ao(t),"updateHandler",void 0),Do(Ao(t),"errorHandler",void 0),Do(Ao(t),"waitingHandler",void 0),Do(Ao(t),"videoStarted",void 0),Do(Ao(t),"firstQuartileReached",void 0),Do(Ao(t),"midpointReached",void 0),Do(Ao(t),"thirdQuartileReached",void 0),Do(Ao(t),"expectedReadyState",void 0),Do(Ao(t),"wrappers",{}),Do(Ao(t),"fadeAudioIntervalHandle",void 0),Do(Ao(t),"api",new Ur.l),Do(Ao(t),"fadeAudio",(function(e){return new Promise((function(r){var n;t.fadeAudioIntervalHandle&&clearInterval(t.fadeAudioIntervalHandle),null!==(n=t.wrappers.videoPlayer)&&void 0!==n&&n.muted&&(t.wrappers.videoPlayer.muted=!1,t.wrappers.videoPlayer.volume=0);var o=function(){t.fadeAudioIntervalHandle&&(clearInterval(t.fadeAudioIntervalHandle),t.fadeAudioIntervalHandle=void 0),r()};t.fadeAudioIntervalHandle=setInterval((function(){if(t.wrappers.videoPlayer){var r=t.wrappers.videoPlayer.volume,n=r>e?r>e+Ro?r-Ro:e:r<e-Ro?r+Ro:e;t.wrappers.videoPlayer.volume=n,n===e&&o()}else o()}),30)}))})),Do(Ao(t),"fadeOutAudio",(function(){return t.fadeAudio(0)})),Do(Ao(t),"fadeInAudio",(function(){return t.state.originalVolume&&t.fadeAudio(t.state.originalVolume)})),Do(Ao(t),"toggleMute",(function(e){var r,n;if(0===e.button){e.preventDefault();var o=!t.props.videoContext.muted;null===(r=(n=t.props.videoContext).updateContext)||void 0===r||r.call(n,ko(ko({},t.props.videoContext),{},{muted:!t.props.videoContext.muted})),t.onMute(o)}})),Do(Ao(t),"toggleFullscreen",(function(e){if(0===e.button)return t.updateFullscreen(!t.props.videoContext.fullScreen)})),Do(Ao(t),"setWrapperRef",(function(e){t.wrappers.videoWrapper=e})),Do(Ao(t),"setVideoPlayerRef",(function(e){t.wrappers.videoPlayer=e})),t.state={hasError:!1,playing:!1,paused:!1},t.videoStarted=!1,t.firstQuartileReached=!1,t.midpointReached=!1,t.thirdQuartileReached=!1,t.expectedReadyState=4,t.onVideoError=t.onVideoError.bind(Ao(t)),t}return t=u,r=[{key:"componentDidMount",value:function(){var e;this.setState({originalVolume:null===(e=this.wrappers.videoPlayer)||void 0===e?void 0:e.volume}),this.wrappers.videoPlayer&&(this.wrappers.videoPlayer.preload="auto",this.wrappers.videoPlayer.muted=this.props.videoContext.muted)}},{key:"componentDidUpdate",value:function(e){var t=this,r=tr(this.props,this),n=tr(e,this);this.state.playing&&r!==n?r?setTimeout((function(){t.state.playing&&tr(t.props,t)&&t.resumeWhenPaused()}),1500):this.props.playerIsActive?this.stop():this.pauseButKeepVisible():er(this.props)&&this.state.paused&&this.stop(),this.props.prerolls!=e.prerolls&&(this.videoStarted=!1,this.firstQuartileReached=!1,this.midpointReached=!1,this.thirdQuartileReached=!1);var o=this.props.videoContext.muted;o!=e.videoContext.muted&&(this.props.enableAudioFading?o?this.fadeOutAudio():this.fadeInAudio():this.wrappers.videoPlayer&&(this.wrappers.videoPlayer.muted=o))}},{key:"componentWillUnmount",value:function(){this.removeEventListeners(),rr(this.props,this),this.removeVideoSource()}},{key:"isSuperOrStandardHero",value:function(){return[Kt.Superhero,Kt.StandardHero].includes(this.props.placement)}},{key:"startPlayer",value:function(){var e,t=this;if(this.playHandler=function(){return t.playAssumingReady()},this.stopHandler=function(){return t.onPlaybackComplete()},this.updateHandler=function(){return t.onTimeUpdate()},this.errorHandler=function(){return t.onLoadError()},this.waitingHandler=function(){return t.onWaiting()},this.addEventListeners(),this.props.playerIsActive||er(this.props)){var r,n,o,i,a,l;r=this.props,n=this,r.playerIsActive?null===(o=(i=r.videoContext).updateContext)||void 0===o||o.call(i,Jt(Jt({},r.videoContext),{},{activeActivePlayer:n})):null===(a=(l=r.videoContext).updateContext)||void 0===a||a.call(l,Jt(Jt({},r.videoContext),{},{activePassivePlayer:n}));var c,u=null===(e=this.wrappers.videoPlayer)||void 0===e?void 0:e.readyState;if(u&&u>=this.expectedReadyState)this.isSuperOrStandardHero()&&(null===(c=this.wrappers.videoPlayer)||void 0===c||c.load()),this.playHandler()}}},{key:"playAssumingReady",value:(a=xo().mark((function e(){var t,r,n,o,i,a,l,c=this;return xo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=null===(t=this.wrappers.videoPlayer)||void 0===t?void 0:t.readyState)&&r>=this.expectedReadyState)){e.next=6;break}return e.next=4,null===(n=this.props.parentListeners)||void 0===n||null===(o=n.onBeforePlay)||void 0===o?void 0:o.call(n);case 4:if(void 0!==(a=null===(i=this.wrappers.videoPlayer)||void 0===i?void 0:i.play()))a.then((function(){!c.videoStarted&&jt(c.props.prerolls,"defaultImpression"),!c.videoStarted&&c.isSuperOrStandardHero()&&(0,m.Lu)(),c.onPlayStart()})).catch((function(e){c.onPlayError(e.name),Nt("Pre-Roll Player Failed to play: ".concat(e,"."),e)}));else try{!this.videoStarted&&jt(this.props.prerolls,"defaultImpression"),!this.videoStarted&&this.isSuperOrStandardHero()&&(0,m.Lu)(),null===(l=this.wrappers.videoPlayer)||void 0===l||l.play(),this.onPlayStart()}catch(e){this.onPlayError(e),Nt("Pre-Roll Player Failed to play: ".concat(e,"."),e)}case 6:case"end":return e.stop()}}),e,this)})),l=function(){var e=this,t=arguments;return new Promise((function(r,n){var o=a.apply(e,t);function i(e){Po(o,r,n,i,l,"next",e)}function l(e){Po(o,r,n,i,l,"throw",e)}i(void 0)}))},function(){return l.apply(this,arguments)})},{key:"pauseButKeepVisible",value:function(){var e;null===(e=this.wrappers.videoPlayer)||void 0===e||e.pause(),!this.state.paused&&jt(this.props.prerolls,"pause"),this.setState({paused:!0})}},{key:"resumeWhenPaused",value:function(){var e;null===(e=this.wrappers.videoPlayer)||void 0===e||e.play(),this.state.paused&&jt(this.props.prerolls,"resume"),this.setState({paused:!1})}},{key:"stop",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({playing:!1,paused:!1},(function(){var r,n,o;null===(r=e.props.parentListeners)||void 0===r||null===(n=r.onPlayStop)||void 0===n||n.call(r),null===(o=e.wrappers.videoPlayer)||void 0===o||o.pause(),e.removeEventListeners(),t?nr(e.props):rr(e.props,e)}))}},{key:"restartVideo",value:function(){this.time=0}},{key:"time",set:function(e){var t;void 0!==(null===(t=this.wrappers.videoPlayer)||void 0===t?void 0:t.currentTime)&&(this.wrappers.videoPlayer.currentTime=e)}},{key:"updateFullscreen",value:function(e){var t,r;return this.updatePageScrolling(e?"hidden":"visible"),null===(t=(r=this.props.videoContext).updateContext)||void 0===t?void 0:t.call(r,ko(ko({},this.props.videoContext),{},{fullScreen:e}))}},{key:"updatePageScrolling",value:function(e){if(document){var t=document.getElementsByTagName("body")&&document.getElementsByTagName("body")[0];t&&(t.style.overflow=e)}}},{key:"onLoadError",value:function(){var e,t,r,n=this,o=null===(e=this.wrappers.videoPlayer)||void 0===e?void 0:e.error;o&&(o.code===MediaError.MEDIA_ERR_DECODE?jt(this.props.prerolls,"error"):jt(this.props.prerolls,"playbackBlocked")),null===(t=this.props.parentListeners)||void 0===t||null===(r=t.onLoadError)||void 0===r||r.call(t),(0,m.cL)("".concat(_o,"::loadError"),1,!1),setTimeout((function(){n.stop()}),4e3)}},{key:"onMute",value:function(e){e?(jt(this.props.prerolls,"mute"),Eo((0,So.i)("atv_trailer_auto_mute"),this.props.pageType,this.props.subPageType,void 0,void 0,void 0,this.props.clientVariant,this.props.clickstream)):(jt(this.props.prerolls,"unmute"),Eo((0,So.i)("atv_trailer_auto_unmute"),this.props.pageType,this.props.subPageType,void 0,void 0,void 0,this.props.clientVariant,this.props.clickstream))}},{key:"onPlaybackComplete",value:function(){var e,t;return jt(this.props.prerolls,"complete"),null===(e=this.props.parentListeners)||void 0===e||null===(t=e.onPlayComplete)||void 0===t||t.call(e),this.stop()}},{key:"onPlayError",value:function(e){var t,r;jt(this.props.prerolls,"NotAllowedError"===e?"playbackBlocked":"error"),null===(t=this.props.parentListeners)||void 0===t||null===(r=t.onPlayError)||void 0===r||r.call(t)}},{key:"onPlayStart",value:function(){var e=this;(0,m.cL)("".concat(_o,"::BUFFER::INITIALISED"),1,!1),this.videoStarted=!0,this.setState({playing:!0,paused:!1},(function(){var t,r;null===(t=e.props.parentListeners)||void 0===t||null===(r=t.onPlayStart)||void 0===r||r.call(t),!e.props.playerIsActive&&e.props.videoContext.activeActivePlayer&&e.pauseButKeepVisible()}))}},{key:"onTimeUpdate",value:function(){var e,t,r=null===(e=this.wrappers.videoPlayer)||void 0===e?void 0:e.duration,n=null===(t=this.wrappers.videoPlayer)||void 0===t?void 0:t.currentTime;r&&n&&(!this.thirdQuartileReached&&n>=.75*r?(this.thirdQuartileReached=!0,jt(this.props.prerolls,"thirdQuartile")):!this.midpointReached&&n>=.5*r?(this.midpointReached=!0,jt(this.props.prerolls,"midpoint")):!this.firstQuartileReached&&n>=.25*r&&(this.firstQuartileReached=!0,jt(this.props.prerolls,"firstQuartile")))}},{key:"onWaiting",value:function(){(0,m.cL)("".concat(_o,"::BUFFER::REINITIALISING"),1,!1)}},{key:"onVideoError",value:function(){var e,t;(0,m.cL)("".concat(_o,"::videoError"),1,!1),null===(e=this.props.parentListeners)||void 0===e||null===(t=e.onVideoError)||void 0===t||t.call(e)}},{key:"addEventListeners",value:function(){var e,t,r,n,o;this.playHandler&&(null===(e=this.wrappers.videoPlayer)||void 0===e||e.addEventListener("canplaythrough",this.playHandler)),this.stopHandler&&(null===(t=this.wrappers.videoPlayer)||void 0===t||t.addEventListener("ended",this.stopHandler)),this.updateHandler&&(null===(r=this.wrappers.videoPlayer)||void 0===r||r.addEventListener("timeupdate",this.updateHandler)),this.waitingHandler&&(null===(n=this.wrappers.videoPlayer)||void 0===n||n.addEventListener("waiting",this.waitingHandler)),this.errorHandler&&(null===(o=this.wrappers.videoPlayer)||void 0===o||o.addEventListener("error",this.errorHandler))}},{key:"removeEventListeners",value:function(){var e,t,r,n,o;this.playHandler&&(null===(e=this.wrappers.videoPlayer)||void 0===e||e.removeEventListener("canplaythrough",this.playHandler)),this.stopHandler&&(null===(t=this.wrappers.videoPlayer)||void 0===t||t.removeEventListener("ended",this.stopHandler)),this.updateHandler&&(null===(r=this.wrappers.videoPlayer)||void 0===r||r.removeEventListener("timeupdate",this.updateHandler)),this.errorHandler&&(null===(n=this.wrappers.videoPlayer)||void 0===n||n.removeEventListener("error",this.errorHandler)),this.waitingHandler&&(null===(o=this.wrappers.videoPlayer)||void 0===o||o.removeEventListener("waiting",this.waitingHandler))}},{key:"removeVideoSource",value:function(){var e=this.wrappers.videoPlayer;null==e||e.pause(),null==e||e.removeAttribute("src"),null==e||e.load()}},{key:"styleFromPlacementType",value:function(){switch(this.props.placement){case Kt.Superhero:return Mt;case Kt.Packshot:return Rt;case Kt.PackshotWithEntitlementCue:return Vt;case Kt.IntermissionHero:return Bt;case Kt.ChartsContainer:case Kt.ChartsCarousel:return Ht;case Kt.DetailHero:return Ft;case Kt.StandardHero:return _t;case Kt.StandardMiniDetails:return Wt;case Kt.TentpoleHero:return Gt}}},{key:"render",value:function(){var e,t=this;if(this.state.hasError||!this.props.prerolls||!this.props.prerolls.mediaFile||!this.props.videoContext)return null;var r=!this.state.playing&&!this.state.paused&&!this.props.videoContext.fullScreen,n=(this.props.parentListeners||{}).onClick,a=this.props.placement===Kt.Superhero?zt:this.props.videoFadeOverlay;return o.createElement("a",{className:i(Dt,this.styleFromPlacementType(),this.props.className,"tst-video-overlay-player-overlay","tst-preroll-player",(e={},Do(e,Qt,r),Do(e,Yt,!r),Do(e,Ut,this.props.videoContext.fullScreen&&this.props.enableFullscreen),Do(e,qt,this.props.useDefaultBackground),e)),href:this.props.link,ref:this.setWrapperRef,onClick:n,"aria-label":this.props.accessibilityLabel||"","data-testid":"preroll-player-link"},o.createElement("video",{className:"tst-video-overlay-player-html5",src:this.props.prerolls.mediaFile,ref:this.setVideoPlayerRef,"data-testid":"preroll-player",onContextMenu:function(e){t.props.videoContext.disableRightClick&&e.preventDefault()},onError:this.onVideoError}),o.createElement(Br,{disableUnmute:this.props.prerolls.disableUnmute,textMap:this.props.prerolls.textMap,toggleMute:this.toggleMute,enableFullscreen:this.props.enableFullscreen,toggleFullscreen:this.toggleFullscreen,videoContext:this.props.videoContext,placement:this.props.placement,useDefaultBackground:this.props.useDefaultBackground}),a&&o.createElement("div",{className:i(a)}),this.props.children)}}],r&&Io(t.prototype,r),n&&Io(t,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(o.PureComponent),Wo=function(e){return e.Init="init",e.Play="play",e.Pause="pause",e.Stop="stop",e.Error="error",e}({}),Fo=function(e,t){return"".concat(e,"->").concat(t)},Bo=new Set([Fo(Wo.Init,Wo.Play),Fo(Wo.Play,Wo.Stop),Fo(Wo.Play,Wo.Pause),Fo(Wo.Pause,Wo.Play),Fo(Wo.Play,Wo.Init),Fo(Wo.Stop,Wo.Init),Fo(Wo.Play,Wo.Error),Fo(Wo.Init,Wo.Error),Fo(Wo.Error,Wo.Init)]);function Uo(e,t){return Bo.has(Fo(e,t))?t:e}var Ho="YJ1MaA",Go="_1FUZFF";function zo(e){return zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zo(e)}function qo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qo(Object(r),!0).forEach((function(t){Yo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==zo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==zo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===zo(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ko(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Xo=function(e){return e[e.Restart=0]="Restart",e[e.Resume=1]="Resume",e}({}),Jo=function(e){var t=e.canPlay,r=e.prerolls,n=e.delay,i=e.playing,l=e.onStateChange,c=e.playback,u=e.className,s=e.placement,f=e.children,d=e.playerIsActive,p=void 0!==d&&d,m=e.link,v=e.draperClassName,y=e.draperParentListeners,h=e.videoFadeOverlayClassname,g=e.noBottomCornerRadiusLink,b=e.refMarker,w=e.titleID,E=o.useContext(kt),S=o.useContext(pe),T=S.clickstream,x=S.clickstreamPageContext,P=o.useRef(null),O=o.useRef(),k=Ko(o.useReducer(Uo,Wo.Init),2),I=k[0],C=k[1];o.useEffect((function(){null==l||l(I)}),[I]),o.useEffect((function(){var e,r=!1;switch(I){case Wo.Init:t?O.current=window.setTimeout((function(){return C(Wo.Play)}),n):clearTimeout(O.current);break;case Wo.Play:var o;if(t)r=!0,null===(o=P.current)||void 0===o||o.startPlayer();else c===Xo.Resume?C(Wo.Pause):c===Xo.Restart&&P.current&&(P.current.stop(),P.current.restartVideo());break;case Wo.Pause:var a,l;if(r=!0,t)null===(a=P.current)||void 0===a||a.startPlayer();else null===(l=P.current)||void 0===l||l.pauseButKeepVisible();break;case Wo.Error:null===(e=P.current)||void 0===e||e.stop();case Wo.Stop:}return null==i||i(r),function(){clearTimeout(O.current)}}),[t,n,I,c,i]),o.useEffect((function(){C(Wo.Init)}),[r]);var j=o.useMemo((function(){return Qo(Qo({onPlayComplete:function(){C(Wo.Stop)}},s!==Kt.ChartsContainer&&{onPlayStart:function(){C(Wo.Play)}}),{},{onClick:function(e){var t;null==y||null===(t=y.onClick)||void 0===t||t.call(y,e)},onVideoError:function(){C(Wo.Error)}})}),[C,y,s]),L=a()(v,Ho,Yo({},Go,g));return o.createElement("div",{className:u},o.createElement(Vo,{className:L,prerolls:r,ref:P,placement:null!=s?s:Kt.Superhero,videoContext:E,playerIsActive:p,enableFullscreen:!1,parentListeners:j,useDefaultBackground:!1,link:m,clickstream:T,pageType:null==x?void 0:x.pageType,subPageType:null==x?void 0:x.subPageType,clientVariant:null==x?void 0:x.clientVariant,videoFadeOverlay:h,refMarker:b,titleID:w}),f)},$o="om7nme",ei="u2YE+F",ti="KLNBWL",ri="Ah1hNY",ni=r("./src/util/utils/imageUtils/imageUtils.tsx");function oi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||ii(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ii(e,t){if(e){if("string"==typeof e)return ai(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ai(e,t):void 0}}function ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var li=function(e){return e.WIDTH="WIDTH",e.HEIGHT="HEIGHT",e}({}),ci=function(e){return e.gif="gif",e.jpg="jpg",e.pkmz="pkmz",e.png="png",e.webp="webp",e}({}),ui=[1.5,2],si={phone:"20em",phablet:"28em","phone-landscape":"47em",tablet:"55em","tablet-landscape":"65em",desktop:"90em",largeScreen:"118em","tablet-lowest":"28em","laptop-lowest":"55em","desktop-lowest":"80em","desktop-hd-lowest":"100em","desktop-uhd-lowest":"150em"},fi=RegExp("(".concat(Object.keys(si).join("|"),")$")),di=function(e){return e.replace(fi,(function(e){return"width: ".concat(si[e])}))},pi=function(e){return"string"==typeof e?e:"".concat(e,"px")},mi=function(e,t,r,n,o,i,a){var l=ui.map((function(l){return"".concat(vi({src:e,value:t*l,baseType:r,type:n,skipStripTags:o,supportTransparency:i,autoCrop:a})," ").concat(l,"x")}));return l&&l.unshift(vi({src:e,value:t,baseType:r,type:n,skipStripTags:o,supportTransparency:i,autoCrop:a})),l&&l.join(", ")},vi=function(e){var t=e.src,r=e.value,n=e.baseType,o=e.type,i=e.skipStripTags,a=e.supportTransparency,l=void 0!==a&&a,c=e.autoCrop;if(!t)return"";var u=new ni.e(t);return i||u.stripTags(),c&&u.autoCrop(),n===li.HEIGHT?u.scaleHeight(r):u.scaleWidth(r),o?u.forceFormat(o):l&&u.formatHasTransparencySupport&&u.forceFormat(u.urlFileFormat),u.getImageUrl()},yi=function(e,t,r,n,o,i){return t.map((function(t){return"".concat(vi({src:e,value:t,baseType:r,type:n,skipStripTags:o,autoCrop:i})," ").concat(t,"w")})).join(", ")},hi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=t.reduce((function(e,t){var r=oi(Object.entries(t)[0],2),n=r[0],o=r[1],i=di(n);return i&&o&&e.push("(".concat(i,") ").concat(pi(o))),e}),[]);return r.push(pi(e)),r.join(", ")};function gi(e){return gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gi(e)}function bi(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==gi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==gi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===gi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ei(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ei(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Si=o.memo((function(e){var t,r=e.src,n=e.baseValue,i=e.alt,l=e.aspectRatio,c=e.imageClassName,u=e.wrapperClassName,s=e.autoCrop,f=e.sizesOptions,d=e.srcSetWidths,p=e.parentListeners,m=e.shouldLazyLoad,v=e.debugID,y=o.useRef(),g=wi(o.useState(!1),2),b=g[0],w=g[1],E=o.useRef(null),S=new ni.e(r).urlFileFormat,T="png"==S?"image/png":"image/jpeg",x="png"==S?ci.png:ci.jpg,P=(0,h.L1)().logger,O=function(e){var t;(w(!0),e)&&(null==p||null===(t=p.onLoad)||void 0===t||t.call(p,e.currentTarget.currentSrc))};return o.useEffect((function(){var e;null!==(e=E.current)&&void 0!==e&&e.complete&&!b&&O()}),[]),o.createElement("div",{ref:y,className:a()($o,u),style:l?{aspectRatio:l}:{}},o.createElement("picture",null,o.createElement("source",{type:"image/webp",srcSet:d?yi(r,d,li.WIDTH,ci.webp,!0,s):mi(r,n,li.WIDTH,ci.webp,!0,void 0,s),sizes:f&&hi(f.defaultSrcSize,f.srcSizes)}),o.createElement("source",{type:T,srcSet:d?yi(r,d,li.WIDTH,x,!0,s):mi(r,n,li.WIDTH,x,!0,void 0,s),sizes:f&&hi(f.defaultSrcSize,f.srcSizes)}),o.createElement("img",{alt:null!=i?i:"",className:a()(c,ei,(t={},bi(t,ri,l),bi(t,ti,!l),t)),onLoad:O,onError:function(e){var t;null==p||null===(t=p.onError)||void 0===t||t.call(p);var n="dvWebClientImgLoadFailure";P.count(n,1,!1),P.warn(e,"[".concat(n,"] LazyImage failed to load an image for ").concat(v,". The image URL is: ").concat(r))},style:l?{aspectRatio:l}:{},src:vi({src:r,value:n,baseType:li.WIDTH,skipStripTags:!0,supportTransparency:void 0,autoCrop:s,type:ci.jpg}),loading:m?"lazy":"eager"})))}));Si.displayName="LazyImage";var Ti="km3sbT",xi="_3HZFFn",Pi="DXNI7M",Oi="_0Cq4rX",ki="jcqbgX",Ii="-xjO1Z",Ci="uYmIm1";function ji(e){return ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ji(e)}function Li(){Li=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),l=new P(o||[]);return n(a,"_invoke",{value:E(e,r,l)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function p(){}function m(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,h=y&&y(y(O([])));h&&h!==t&&r.call(h,i)&&(v=h);var g=m.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(n,i,a,l){var c=s(e[n],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==ji(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,l)}),(function(e){o("throw",e,a,l)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,l)}))}l(c.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function E(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return k()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var l=S(a,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:p,configurable:!0}),p.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,l,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Ai(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function Ni(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Di(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ni(Object(r),!0).forEach((function(t){_i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ni(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ri(n.key),n)}}function _i(e,t,r){return(t=Ri(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ri(e){var t=function(e,t){if("object"!==ji(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ji(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ji(t)?t:String(t)}var Vi=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_i(this,"context",void 0),_i(this,"logger",void 0),this.context=t,this.logger=new It.Oc("DVWebNode_ClientsideImpressionClient")}var t,r,n,o,i;return t=e,r=[{key:"buildClientsideImpressionUri",value:function(){var t=Di(Di({},on(this.context)),{},{deviceTypeID:e.html5DTID,deviceID:"Web",firmware:"DVWebNode"}),r=new URLSearchParams(t);return"".concat(nn(this.context),"/").concat(e.clientsideImpressionUrl,"?").concat(r.toString())}},{key:"getParameters",value:function(e){return Di(Di(Di({},on(this.context)),e),{},{sessionId:this.context.sessionID,deviceTypeID:(0,$r.dz)().deviceTypeId})}},{key:"logImpression",value:(o=Li().mark((function e(t){var r,n,o,i,a=this;return Li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.buildClientsideImpressionUri(),n=this.getParameters(t),!(o="sendBeacon"in navigator&&!Boolean(window.chrome))){e.next=9;break}return(0,m.cL)("DVWebNode::ClientsideImpressionClient::sendBeaconAttempt",1,!1),i=new Blob([JSON.stringify(n)],{type:"application/json"}),e.abrupt("return",navigator.sendBeacon(r,i));case 9:return(0,m.cL)("DVWebNode::ClientsideImpressionClient::fetchAttempt",1,!1),e.abrupt("return",fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n),keepalive:!0,credentials:"include"}).then((function(){return(0,m.cL)("DVWebNode::ClientsideImpressionClient::".concat(o?"sendBeacon":"fetch","Success"),1,!1),!0}),(function(){return(0,m.cL)("DVWebNode::ClientsideImpressionClient::".concat(o?"sendBeacon":"fetch","Reject"),1,!1),!1})).catch((function(e){return(0,m.cL)("DVWebNode::ClientsideImpressionClient::".concat(o?"sendBeacon":"fetch","Caught"),1,!1),a.logger.warn("Clientside impression fetch failed",e),!1})));case 11:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=o.apply(e,t);function a(e){Ai(i,r,n,a,l,"next",e)}function l(e){Ai(i,r,n,a,l,"throw",e)}a(void 0)}))},function(e){return i.apply(this,arguments)})}],r&&Mi(t.prototype,r),n&&Mi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();_i(Vi,"clientsideImpressionUrl","cdp/usage/ClientsideImpression"),_i(Vi,"html5DTID",rn);var Wi=r("./node_modules/uuid/dist/esm-browser/v4.js");function Fi(e){return function(e){if(Array.isArray(e))return Bi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Bi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ui(e){return Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ui(e)}function Hi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hi(Object(r),!0).forEach((function(t){qi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qi(n.key),n)}}function qi(e,t,r){return(t=Qi(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qi(e){var t=function(e,t){if("object"!==Ui(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ui(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ui(t)?t:String(t)}var Yi=function(e){return e[e.HandleIOEntries=0]="HandleIOEntries",e[e.GroupIndividualImpressions=1]="GroupIndividualImpressions",e[e.SendRequestsFromQueue=2]="SendRequestsFromQueue",e[e.__LENGTH=3]="__LENGTH",e}(Yi||{}),Ki=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"init",value:function(t){e.io||(e.io=new IntersectionObserver(e.onNewIoEntries,{threshold:[.5,.6,.7,.8,.9,1]})),e.logger||(e.logger=new It.Oc("DVWebNode_ImpressionTracker")),e.timeOrigin=Date.now()-performance.now(),e.elementToElementData||(e.elementToElementData=new Map),e.currentlyInViewItems||(e.currentlyInViewItems=new Map),e.intersectionObserverEntryQueue||(e.intersectionObserverEntryQueue=[]),e.pendingIndividualImpressionRecords||(e.pendingIndividualImpressionRecords=new Map),e.groupedImpressionsQueue||(e.groupedImpressionsQueue=[]),e.unobservedElements=0,e.minCarousel=0,e.maxCarousel=0,e.attachOnIdleCallback(),e.client=new Vi(t),e.pageLoaded||(e.pageLoaded=!1,window.addEventListener("load",(function t(){e.pageLoaded=!0,window.removeEventListener("load",t)}))),document.addEventListener("visibilitychange",this.onVisibilityChange),document.addEventListener("pagehide",e.onPageHide)}},{key:"observe",value:function(t,r,n){try{var o,i;if(e.io||e.init(n),null==r||!r.collectionImpressionData)return;if(!t)return void(0,m.cL)("DVWebNode::ImpressionTracker::ObserveNoElement",1,!1);null===(o=e.io)||void 0===o||o.observe(t),null===(i=e.elementToElementData)||void 0===i||i.set(t,r)}catch(t){var a;null===(a=e.logger)||void 0===a||a.error(t)}}},{key:"unobserve",value:function(t){var r;t?(null===(r=e.io)||void 0===r||r.unobserve(t),e.unobservedElements++,e.elementToElementData&&e.unobservedElements!==e.elementToElementData.size||e.disconnectAll()):(0,m.cL)("DVWebNode::ImpressionTracker::UnobserveNoElement",1,!1)}},{key:"disconnectAll",value:function(){var t;null===(t=e.io)||void 0===t||t.disconnect(),e.onIdleCallback({didTimeout:!0,timeRemaining:function(){return 50}}),e.io=void 0,e.elementToElementData=void 0,e.currentlyInViewItems=void 0,e.intersectionObserverEntryQueue=void 0,e.pendingIndividualImpressionRecords=void 0,e.unobservedElements=0,document.removeEventListener("visibilitychange",this.onVisibilityChange)}},{key:"addImpressionRecord",value:function(t,r){var n,o,i;(0,m.cL)("DVWebNode::ImpressionTracker::".concat(t.eventType,"ImpressionRecorded"),1,!1),null!==(n=e.pendingIndividualImpressionRecords)&&void 0!==n&&n.has(r)?null===(o=e.pendingIndividualImpressionRecords.get(r))||void 0===o||o.push(t):null===(i=e.pendingIndividualImpressionRecords)||void 0===i||i.set(r,[t])}},{key:"logManualImpression",value:function(t,r){var n,o,i=null===(n=e.elementToElementData)||void 0===n?void 0:n.get(t),a=null===(o=e.currentlyInViewItems)||void 0===o?void 0:o.get(t),l=performance.now();if(i&&i.collectionImpressionData&&a){var c=Gi(Gi(Gi({},i),a),{},{eventType:r,timeToView:a.impressionStartTime,inViewTime:l-a.impressionStartTime,eventTime:e.timeOrigin+l,elementSize:"".concat(t.scrollWidth,",").concat(t.scrollHeight)});e.addImpressionRecord(c,i.collectionImpressionData),"Select"===r?e.onIdleCallback({didTimeout:!0,timeRemaining:function(){return 50}}):e.attachOnIdleCallback()}else(0,m.cL)("DVWebNode::ImpressionTracker::ManualImpressionsNoElement",1,!1)}}],(r=null)&&zi(t.prototype,r),n&&zi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();qi(Ki,"io",void 0),qi(Ki,"timeOrigin",void 0),qi(Ki,"elementToElementData",void 0),qi(Ki,"intersectionObserverEntryQueue",void 0),qi(Ki,"pendingIndividualImpressionRecords",void 0),qi(Ki,"groupedImpressionsQueue",void 0),qi(Ki,"currentlyInViewItems",void 0),qi(Ki,"idleCallbackHandle",void 0),qi(Ki,"timeoutID",void 0),qi(Ki,"client",void 0),qi(Ki,"unobservedElements",void 0),qi(Ki,"pageLoaded",void 0),qi(Ki,"minCarousel",void 0),qi(Ki,"maxCarousel",void 0),qi(Ki,"logger",void 0),qi(Ki,"onVisibilityChange",(function(){"hidden"==document.visibilityState&&Ki.onPageHide()})),qi(Ki,"onNewIoEntries",(function(e){var t;null===(t=Ki.intersectionObserverEntryQueue)||void 0===t||t.push.apply(t,Fi(e)),Ki.attachOnIdleCallback()})),qi(Ki,"idleCallbackNextStep",0),qi(Ki,"callbackBuffer",10),qi(Ki,"minimumImpressions",3),qi(Ki,"onIdleCallback",(function(e){var t,r,n,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Ki.clearSavedCallback();for(var i=function(){return e.didTimeout||e.timeRemaining()>Ki.callbackBuffer};i()&&Ki.idleCallbackNextStep<3;)switch(Ki.idleCallbackNextStep){case Yi.HandleIOEntries:if(Ki.intersectionObserverEntryQueue){for(;Ki.intersectionObserverEntryQueue.length>0;)Ki.handleIoEntryQueue();Ki.recalculateMinAndMax()}Ki.idleCallbackNextStep++;break;case Yi.GroupIndividualImpressions:Ki.groupIndividualImpressionRecords(),Ki.idleCallbackNextStep++;break;case Yi.SendRequestsFromQueue:for(;Ki.groupedImpressionsQueue&&Ki.groupedImpressionsQueue.length>0&&(Ki.groupedImpressionsQueue.length>=Ki.minimumImpressions||o)&&i();)Ki.sendRequestFromQueue();Ki.idleCallbackNextStep++}Ki.idleCallbackNextStep>=Yi.__LENGTH&&(Ki.idleCallbackNextStep=0),(null!==(t=Ki.intersectionObserverEntryQueue)&&void 0!==t&&t.length||null!==(r=Ki.pendingIndividualImpressionRecords)&&void 0!==r&&r.size||null!==(n=Ki.groupedImpressionsQueue)&&void 0!==n&&n.length)&&Ki.attachOnIdleCallback()})),qi(Ki,"recalculateMinAndMax",(function(){var e=9999,t=0;Ki.currentlyInViewItems&&(Ki.currentlyInViewItems.forEach((function(r){e=Math.min(e,r.carouselPosition),t=Math.max(t,r.carouselPosition)})),Ki.minCarousel=e,Ki.maxCarousel=t)})),qi(Ki,"inferEventTrigger",(function(e){if(!e)return"Pageload";var t=e.carouselPosition||0;return Ki.pageLoaded?Ki.maxCarousel>=t&&t>=Ki.minCarousel?"Hscroll":"Vscroll":"Pageload"})),qi(Ki,"handleIoEntryQueue",(function(){var e,t;if(Ki.currentlyInViewItems&&0!=(null===(e=Ki.intersectionObserverEntryQueue)||void 0===e?void 0:e.length)){var r=null===(t=Ki.intersectionObserverEntryQueue)||void 0===t?void 0:t.shift();if(r)if(r.isIntersecting){var n=Ki.currentlyInViewItems.get(r.target);if(n)Ki.currentlyInViewItems.set(r.target,Gi(Gi({},n),{},{maxFractionInView:Math.max(r.intersectionRatio,n.maxFractionInView)}));else{var o,i=null===(o=Ki.elementToElementData)||void 0===o?void 0:o.get(r.target),a=Ki.inferEventTrigger(i),l=null==i?void 0:i.carouselPosition;void 0!==l?Ki.currentlyInViewItems.set(r.target,{impressionStartTime:r.time,maxFractionInView:r.intersectionRatio,eventTrigger:a,carouselPosition:l}):(0,m.cL)("DVWebNode::ImpressionTracker::NoCarouselPosition",1,!1)}}else{var c,u=Ki.currentlyInViewItems.get(r.target),s=null===(c=Ki.elementToElementData)||void 0===c?void 0:c.get(r.target);if(u&&s){var f=u.impressionStartTime,d=r.time,p=Gi(Gi(Gi({},s),u),{},{inViewTime:d-f,timeToView:f,eventTime:Ki.timeOrigin+f,elementSize:"".concat(r.target.scrollWidth,",").concat(r.target.scrollHeight),eventType:"View"});Ki.pageLoaded&&p.inViewTime>1e3&&Ki.addImpressionRecord(p,null==s?void 0:s.collectionImpressionData),Ki.currentlyInViewItems.delete(r.target)}}}})),qi(Ki,"groupIndividualImpressionRecords",(function(){var e,t;0!=(null===(e=Ki.pendingIndividualImpressionRecords)||void 0===e?void 0:e.size)&&(null===(t=Ki.pendingIndividualImpressionRecords)||void 0===t||t.forEach((function(e,t,r){var n,o=[],i=0;null==e||e.forEach((function(e,t){(0==t||Math.abs(e.eventTime-i/t)<2e3)&&(i+=e.eventTime,o.push(e))})),o.length==(null==e?void 0:e.length)?r.delete(t):r.set(t,e.filter((function(e){return!o.includes(e)}))),null===(n=Ki.groupedImpressionsQueue)||void 0===n||n.push(o)})))})),qi(Ki,"sendRequestFromQueue",(function(){var e,t,r,n=[],o=null===(e=Ki.groupedImpressionsQueue)||void 0===e?void 0:e.length;o&&o>20?(n=null===(r=Ki.groupedImpressionsQueue)||void 0===r?void 0:r.splice(0,20),(0,m.cL)("DVWebNode::ImpressionTracker::BatchSizeMaxed",1,!1)):(n=Ki.groupedImpressionsQueue,Ki.groupedImpressionsQueue=[]);if((n=null===(t=n)||void 0===t?void 0:t.filter((function(e){return e.length>0})))&&n[0]){var i={eventBatchTimestamp:Date.now(),ImpressionEntryList:n.map((function(e){return{items:e.map((function(e){return{ImpressionEntryEvent:{eventId:(0,Wi.Z)(),eventType:e.eventType,eventTrigger:e.eventTrigger,eventTimestamp:e.eventTime},ImpressionEntryView:{inViewTime:e.inViewTime,inViewStripe:Math.min(100*e.maxFractionInView,100),timeToView:e.timeToView},ImpressionEntryItem:{itemName:e.widgetType,itemContentId:e.titleID,itemCreativeId:Ki.extractCreativeIdFromImageUrl(e.imageURL),itemContentSize:e.elementSize,itemReftag:e.refMarker,itemSlotId:"".concat(e.itemPosition+1,",").concat(e.carouselPosition+1)},ImpressionEntryItemAnalytics:e.itemAnalytics}})),carouselAnalytics:e[0].collectionImpressionData,clientVariant:"PVWebsite"}}))};Ki.client.logImpression(i)}else(0,m.cL)("DVWebNode::ImpressionTracker::NoGroupedImpressions",1,!1)})),qi(Ki,"extractCreativeIdFromImageUrl",(function(e){var t=null==e?void 0:e.match("/([a-zA-Z0-9_-]+\\.[a-zA-Z0-9,_.]*(jpe?g|png))");return t&&t.length>1?t[1]:e})),qi(Ki,"attachOnIdleCallback",(function(){Ki.idleCallbackHandle||Ki.timeoutID||(window.requestIdleCallback?Ki.idleCallbackHandle=window.requestIdleCallback(Ki.onIdleCallback):Ki.timeoutID=window.setTimeout((function(){var e=Date.now();Ki.onIdleCallback({didTimeout:!1,timeRemaining:function(){return e+50-Date.now()}})}),2e3))})),qi(Ki,"detatchOnIdleCallback",(function(){window.cancelIdleCallback&&Ki.idleCallbackHandle?window.cancelIdleCallback(Ki.idleCallbackHandle):Ki.timeoutID&&window.clearTimeout(Ki.timeoutID),Ki.clearSavedCallback()})),qi(Ki,"clearSavedCallback",(function(){Ki.idleCallbackHandle=void 0,Ki.timeoutID=void 0})),qi(Ki,"onPageHide",(function(){var e;(0,m.cL)("DVWebNode::ImpressionTracker::OnPageHide",1,!1);var t=performance.now();if(Ki.currentlyInViewItems){var r=Array.from(Ki.currentlyInViewItems.keys()).map((function(e){return{isIntersecting:!1,target:e,time:t,intersectionRatio:0,rootBounds:null,intersectionRect:e.getBoundingClientRect(),boundingClientRect:e.getBoundingClientRect()}}));null===(e=Ki.intersectionObserverEntryQueue)||void 0===e||e.push.apply(e,Fi(r)),Ki.onIdleCallback({didTimeout:!0,timeRemaining:function(){return 100}},!0)}}));var Zi=function(e){var t=e.logOutcome;return function(e){var r=e.url;t({isSuccess:!0}),window.location.assign(r)}};function Xi(e){return Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xi(e)}function Ji(){Ji=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),l=new P(o||[]);return n(a,"_invoke",{value:E(e,r,l)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function p(){}function m(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,h=y&&y(y(O([])));h&&h!==t&&r.call(h,i)&&(v=h);var g=m.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(n,i,a,l){var c=s(e[n],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==Xi(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,l)}),(function(e){o("throw",e,a,l)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,l)}))}l(c.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function E(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return k()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var l=S(a,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:p,configurable:!0}),p.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,l,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function $i(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function ea(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){$i(i,n,o,a,l,"next",e)}function l(e){$i(i,n,o,a,l,"throw",e)}a(void 0)}))}}var ta="dv_web_dl_success",ra="dv_web_dl_failure",na=function(e){var t=e.logOutcome;return function(e){var r,n=e.url,o=e.fallbackUrl;null===(r=window.P)||void 0===r||r.when("mash").execute((function(e){var r;e.launchIntentURL({url:n,successCallback:function(){t({isSuccess:!0}),Eo(ta)},failCallback:(r=ea(Ji().mark((function e(){return Ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=7;break}return t({isSuccess:!0}),e.next=4,Eo(ta);case 4:window.location.assign(o),e.next=10;break;case 7:return t({isSuccess:!1}),e.next=10,Eo(ra);case 10:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})})}))}},oa=function(e){var t=e.logOutcome;return function(e){var r,n=e.url,o=e.fallbackUrl;null===(r=window.P)||void 0===r||r.when("mash").execute((function(e){var r;e.canLaunchIntentURL({url:n,successCallback:(r=ea(Ji().mark((function r(i){return Ji().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!i){r.next=7;break}return r.next=3,Eo(ta);case 3:t({isSuccess:!0}),e.launchIntentURL({url:n}),r.next=11;break;case 7:return r.next=9,Eo(ra);case 9:t({isSuccess:!1}),o&&e.launchIntentURL({url:o});case 11:case"end":return r.stop()}}),r)}))),function(e){return r.apply(this,arguments)}),failCallback:function(){t({isSuccess:!1}),Eo(ra)}})}))}},ia=new It.Oc("DVWbNode:deeplink"),aa="pv-hidden-iframe",la=function(e){var t,r;return null!==(t=null==e||null===(r=e.match(/^([^:]+)/))||void 0===r?void 0:r[1])&&void 0!==t?t:"unknown"},ca=function(e,t,r){var n=la(e);r?(Eo("dv_deeplink_".concat(n,"_noapp")),ia.count("DVWeb::Deeplink::".concat(n,"::NoApp"),1,!0),t({isSuccess:!0}),window.location.assign(r)):(t({isSuccess:!1}),ia.error("fallbackUrl param is required for deeplinking"))},ua=function(e,t){var r=la(e);Eo("dv_deeplink_".concat(r)),t({isSuccess:!0}),ia.count("DVWeb::Deeplink::".concat(r),1,!0)},sa=function(){return document.querySelector("#"+aa)||(e=document.body,t="about:blank",(r=document.createElement("iframe")).src=t,r.id=aa,r.style.display="none",e.appendChild(r),r);var e,t,r},fa=function(e,t,r){return e.addEventListener(t,r),function(){e.removeEventListener(t,r)}},da=function(e){var t=e.logOutcome;return function(e){var r=e.url,n=e.fallbackUrl;navigator.msLaunchUri&&navigator.msLaunchUri(r,(function(){return ua(r,t)}),(function(){return ca(r,t,n)}))}},pa=function(e){var t=e.logOutcome;return function(e){var r=e.url,n=e.fallbackUrl,o=setTimeout((function(){ca(r,t,n),a&&a()}),1e3),i=sa(),a=fa(window,"blur",(function(){clearTimeout(o),a&&a(),ua(r,t)}));i.contentWindow&&(i.contentWindow.location.href=r)}},ma=function(e){var t=e.logOutcome;return function(e){var r=e.url,n=e.fallbackUrl,o=sa();try{o.contentWindow&&(o.contentWindow.location.href=r),ua(r,t)}catch(e){"NS_ERROR_UNKNOWN_PROTOCOL"===e.name?ca(r,t,n):ia.error("Unexpected error with Firefox deeplinking",e)}}},va=function(e){var t=e.logOutcome;return function(e){for(var r=e.url,n=e.fallbackUrl,o=setTimeout((function(){ca(r,t,n),a&&a()}),1e3),i=window;i!=i.parent;)i=i.parent;var a=fa(i,"blur",(function(){clearTimeout(o),a&&a(),ua(r,t)}));window.location.assign(r)}},ya=new It.Oc("DVWebNode:deeplink"),ha=function(e,t){return e({logOutcome:function(e){var r=e.isSuccess;ya.count("".concat("DVWebNode:deeplinking",":").concat(t,":").concat(r?"success":"failure"),1,!1)}})},ga=function(){return{URL:ha(Zi,"url"),URL_EMBEDDED:ha(Zi,"urlEmbedded"),MSHOP_ANDROID:ha(oa,"mshopAndroid"),MSHOP_ANDROID_EMBEDDED:ha(oa,"mshopAndroidEmbedded"),MSHOP_IOS:ha(na,"mshopIos"),IOS_LEGACY:ha(Zi,"iosLegacy"),WIN10_EDGE:ha(da,"win10Edge"),WIN10_FIREFOX:ha(pa,"win10Firefox"),WIN10_FIREFOX_LEGACY:ha(ma,"win10FirefoxLegacy"),WIN10_CHROME:ha(va,"win10Chrome"),MAC_OS:ha(pa,"macOS")}};function ba(e){return ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ba(e)}function wa(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ba(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ba(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ba(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ea(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Sa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ta=[188,250,375,500],xa=[360,480,720,1080],Pa=[{"max-tablet-lowest":155},{"max-laptop-lowest":150},{"max-desktop-lowest":175},{"max-desktop-hd-lowest":175},{"max-desktop-uhd-lowest":245}],Oa=[{"max-tablet-lowest":260},{"max-laptop-lowest":260},{"max-desktop-lowest":390},{"max-desktop-hd-lowest":390},{"max-desktop-uhd-lowest":540}],ka=function(e){var t,r=e.isCircle,n=void 0!==r&&r,i=e.alternateText,l=e.fallbackTitle,c=e.imageUrl,u=e.className,s=e.imageWrapperClassName,f=e.imageClassName,d=e.url,p=e.deeplinkFallbackUrl,m=e.deeplinkType,v=e.backgroundTrailerConfig,y=e.hasProgress,h=e.parentElement,g=e.badge,b=e.cardOverlay,w=e.playButtonOverlay,E=e.onPackshotLinkKeyDown,S=e.linkAriaRole,T=e.noBottomCornerRadiusLink,x=e.refMarker,P=e.titleID,O=e.shouldLazyLoadImage,k=Ea(o.useReducer((function(){return!0}),!1),2),I=k[0],C=k[1],j=o.useContext(RT).container.containerType,L=function(e){h&&Ki.logManualImpression(h,"Charts"===j?"Highlight":"Select"),d&&!v&&m&&(ga()[m]({url:d,fallbackUrl:p}),e.preventDefault())},A=o.createElement("div",{className:Ii},o.createElement("div",{className:Ci},o.createElement(qe.Text,{string:null!=l?l:"",className:Oi}))),N=c?o.createElement(Si,{alt:i,src:c,imageClassName:f,wrapperClassName:a()(s),aspectRatio:n?Pt.OneByOne:Pt.SixteenByNine,sizesOptions:{defaultSrcSize:n?245:540,srcSizes:n?Pa:Oa},srcSetWidths:n?Ta:xa,baseValue:n?375:720,parentListeners:{onError:C},shouldLazyLoad:O,debugID:P}):o.createElement(o.Fragment,null);return o.createElement("div",{className:a()(Ti,u),"data-testid":"packshot"},d&&!v&&!w&&o.createElement("a",{href:d,className:a()(xi,wa({},Pi,T)),onClick:L,onKeyDown:E,role:S},l),v&&o.createElement(Jo,{prerolls:v.prerolls,canPlay:v.canPlay,delay:v.delay,placement:v.placement,className:null!==(t=v.className)&&void 0!==t?t:"",draperClassName:a()(wa({},ki,y&&v.canPlay)),draperParentListeners:{onClick:L},playback:Xo.Restart,playerIsActive:!0,link:d,noBottomCornerRadiusLink:T,refMarker:x,titleID:P}),c&&!I?N:A,g,b,w)},Ia="ngPjD-",Ca="iQ3mqd",ja="PdTBRa",La="XadxaR",Aa="O2fjyE",Na="wLYTNl",Da="QvLzEW",Ma="VdW1kY",_a="_1U2rMW",Ra="ivxXre",Va="hVkTbZ",Wa="kT254+",Fa="RPY2bm",Ba="ec67mb",Ua="Qky6bp",Ha="FG-9uo",Ga="_0Xxh5H",za="Fi9WuY",qa="omNIKl",Qa="O+WH8U",Ya="IUzlM1",Ka="ZdMG6X",Za="_3UuiDN",Xa="_0dqiQi",Ja="UFroed";function $a(e){return $a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(e)}function el(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==$a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==$a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tl(){return tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tl.apply(this,arguments)}var rl=function(e){var t=e.uniqueId,r=e.className,n=e.buttonIcon,i=e.label,l=e.labelClassName,c=e.dropdownElements,u=e.dropdownOpen,s=void 0!==u&&u,f=e.smallIconVariant,d=void 0!==f&&f,p=e.isDefaultCheck,m=void 0!==p&&p,v=e.onClick,y=m?{checked:s}:{defaultChecked:s};return o.createElement("aside",{className:a()(za,r),"data-testid":"dropdown-button"},o.createElement("input",tl({type:"checkbox",autoComplete:"off",id:t,className:qa,onChange:v},y)),o.createElement("label",{htmlFor:t,className:a()(Ya,el({},Ka,d))},o.createElement("span",{className:Qa},n)),i&&o.createElement("label",{className:a()(Za,l)},i),o.createElement("ul",{className:Xa},c.map((function(e,t){return o.createElement("li",{key:"dropdown-element-".concat(t),className:Ja},e)}))))},nl="VFWNV8",ol=r("./node_modules/@amzn/dvui/dist/Icons/Trailer.js"),il=r.n(ol),al=r("./node_modules/@amzn/dvui/dist/Icons/TrailerIcon.js"),ll=r.n(al),cl=function(e){var t=e.signInTrailerURL,r=e.trailer,n=e.onPlay,a=e.buttonStyle,l=e.textStyle,c=e.isInDropdown,u=r.playbackURL,s=r.playbackID,f=r.videoMaterialType,d=r.refMarker,p=r.text,m=function(e){n({playbackUrl:u,contentConfig:{asin:s,videoType:f,trailer:!0,ref:d},signInUrl:t,refMarker:(0,an.vA)(null!=d?d:"atv_unknown",f)}),e.preventDefault()},v=null==p?void 0:p.replace("{conditionalLineBreak}","");return o.createElement("form",{action:t||u,method:"GET"},c?o.createElement("button",{type:"submit",className:i(nl,a),onClick:m,"data-testid":"trailer"},o.createElement(il(),null),o.createElement(qe.Text,{className:l,string:v})):o.createElement(Tt,{onSecondaryButtonClick:m,label:v,labelClassName:l,className:a,isInverted:!1,isDisabled:!1,icon:o.createElement(ll(),{width:dt,height:ft}),smallIconVariant:!0,testID:"trailer"}))},ul=r("./node_modules/@amzn/dv-marin-tracking-js-library/dist/index.js");var sl=o.createContext({}),fl=(sl.Consumer,sl.Provider,function(e){return function(t){return o.createElement(e,t)}}),dl=function(e){return e.PlaybackClicked="PlaybackClicked",e.PlaybackClickUnhandled="PlaybackClickUnhandled",e.PlaybackStarted="PlaybackStarted",e.PlayerTitleChanged="PlayerTitleChanged",e.PlayerClosed="PlayerClosed",e.PlayerFailedToLoad="PlayerFailedToLoad",e.SignupClick="SignupClick",e.SignupComplete="SignupComplete",e.PurchaseClicked="PurchaseClicked",e.PurchaseCompleted="PurchaseCompleted",e}({}),pl=function(e){var t=e.action,r=e.logger,n=e.pageType,o=e.videoType;r.count("DVWeb::Actions::".concat(t,"::").concat(n,"::").concat("Web","::").concat(o),1,!0)};function ml(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yl="dv-web-player",hl={Detail:"f22dbddb-ef2c-48c5-8876-bed0d47594fd",DetailAndroid:"898eb3b8-96c0-4c6b-baa3-2d253860be8c",DetailAndroidMShop:"98d383c3-632a-4872-8ef8-7cc10d033066",Live:"b4f777f2-3153-4c55-8aa7-4645fe264be1",Home:"9ee9ba9b-f89c-41bb-8aa0-4db6e7f24cad",MyStuffLanding:"54cb2f2e-e96f-4e25-9d08-ea852a40588d",AIVWatchlist:"8e377055-28b0-4475-a3e7-f909ebcad6f1",YourVideoLibrary:"1e2f7321-aba1-4bd3-bdfc-a63777d869af",SPA:"933adc82-54c5-4fe0-9273-f1e188456161",PersonPage:"41e7965c-89b8-4967-bdd3-74e2a8f06636",ChannelsSubscription:"66d54d28-d754-4b11-b74d-427a03909d93",Following:"74392e3c-4c00-479e-90c8-f4d42aae8705",EPG:"bdd74b62-c362-46c8-86f0-47e300702607",Search:"47c62571-58c9-4572-9a75-52f68e019cea",Browse:"47c62571-58c9-4572-9a75-52f68e019cea",Genre:"47c62571-58c9-4572-9a75-52f68e019cea",Categories:"47c62571-58c9-4572-9a75-52f68e019cea"},gl=function(e){return hl[e]},bl={Detail:zr.Detail,Live:zr.ATVDetail,DetailAndroid:zr.ATVDetail,DetailAndroidMShop:zr.ATVDetail,Home:zr.ATVHome,MyStuffLanding:zr.ATVMyStuff,AIVWatchlist:zr.ATVMyStuff,YourVideoLibrary:zr.ATVMyStuff,SPA:zr.DVSPA,PersonPage:zr.ATVPerson,ChannelsSubscription:zr.ATVSubscription,Following:zr.ATVMyStuff,EPG:zr.ATVLive,Search:zr.ATVSearch,Browse:zr.ATVBrowse,Genre:zr.ATVGenre,Categories:zr.ATVCategories},wl=function(e){return bl[e]},El=function(e){var t,r,n=e.marketplaceId,o=e.sessionId,i=e.playerBeta,a=e.customerId,l=e.locale,c=e.pageType,u={marketplaceId:n,sessionId:o,playerBeta:i,customerId:a,locale:l,deviceId:e.deviceId,domElement:(t=document.getElementById(yl),t||((t=document.createElement("div")).setAttribute("id",yl),document.body.appendChild(t),t)),clientId:gl(c)};return(r=u)&&Object.entries(r).forEach((function(e){var t=ml(e,2),n=t[0];return void 0===t[1]&&delete r[n]})),u},Sl=r("./src/util/utils/pubSub.ts");function Tl(e){return Tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(e)}function xl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kl(n.key),n)}}function Ol(e,t,r){return(t=kl(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kl(e){var t=function(e,t){if("object"!==Tl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Tl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Tl(t)?t:String(t)}var Il=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new It.Oc("DVWebNodeSPA/UWPNotifier");xl(this,e),Ol(this,"myWindow",void 0),Ol(this,"logger",void 0),Ol(this,"pubSub",void 0),this.myWindow=t,this.logger=r,this.pubSub=(0,Sl.M)(),this.init()}var t,r,n;return t=e,n=[{key:"getInstance",value:function(){return this.instance||(this.instance=new e(window)),this.instance}}],(r=[{key:"isSubscribed",value:function(e){var t=this.pubSub.query(e);return t&&t.length>0}},{key:"subscribe",value:function(e,t){try{return this.pubSub.subscribe(e.toString(),t)}catch(r){this.logger.error("UWPNotifier failed to subscribe to an event from the native app",e,t,r)}}},{key:"unsubscribe",value:function(e,t){try{return this.pubSub.unsubscribe(e.toString(),t)}catch(n){var r="UWPNotifier failed to unsubscribe to an event from the native app";return this.logger.error(r,e,t,n),Promise.reject(new Error(r))}}},{key:"publish",value:function(e,t){var r=Date.now();try{this.notify(JSON.stringify({action:e,payload:t,timestamp:r}))}catch(n){this.logger.error("UWPNotifier failed to generate the payload and notify the native app",e,t,r,n)}}},{key:"init",value:function(){this.myWindow.primevideoUWPNotifierHandler=this.inputDispatcher.bind(this)}},{key:"notify",value:function(e){if(this.myWindow&&this.myWindow.external)try{this.myWindow.external.notify(e)}catch(e){}}},{key:"inputDispatcher",value:function(e,t){try{var r=JSON.parse(t);this.pubSub.publish(e,r)}catch(r){this.logger.error("UWPNotifier failed to parse the native action payload",e,t,r)}}}])&&Pl(t.prototype,r),n&&Pl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Ol(Il,"instance",void 0);var Cl,jl=function(e){return e.UWP="UWP",e.XP="XP",e}({});function Ll(e){return Ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(e)}function Al(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ll(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ll(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ll(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Nl=new It.Oc("DVWebNode:deeplink"),Dl=o.createContext({onPlay:null}),Ml=function(e,t){ga()[t]({url:e.playbackUrl,fallbackUrl:e.fallbackUrl})},_l=function(e){return(null==e?void 0:e.isBonus)||(null==e?void 0:e.sequenceNumber)&&e.sequenceNumber>=1&&e.sequenceNumber<=3},Rl=function(e){var t=e.onPlay,r=e.launchType,n=e.trailerLaunchType,o=e.playerConfigPageType,i=e.playerCapabilities,a=e.onDownloadAppRequired,l=e.enableMarinTracking,c=e.recordTerritory,u=e.downloadGateway,s=e.pageType,f=e.subPageType,d=e.clientVariant,p=e.clickstream;return function(e){var m,v,y=wl(o),h=null!=e&&e.triggerLocation?"".concat(o,":").concat(e.triggerLocation):o,g=null==e||null===(m=e.contentConfig)||void 0===m?void 0:m.asin,b=null==u?void 0:u.triggerNativeOfflinePlayback,w=null==u?void 0:u.hasDownloaded,E=null==u?void 0:u.isDownloadQueuedOrDownloading,S=null==u||null===(v=u.xp)||void 0===v?void 0:v.triggerXpOfflinePlayback,T=t?function(e){pl({action:dl.PlaybackClicked,pageType:y,logger:Nl,videoType:P}),t(e)}:null;var x=e.contentConfig.trailer;!l||x||e.isBonus||("Detail"===o||"DetailAndroid"===o?"Prime"===e.subscriptionName&&(0,ul.sendConversionTrackingRequest)(ul.ConversionType.SVOD_ANY_STREAM,null!=c?c:"INVALID_TERRITORY"):(0,ul.sendConversionTrackingRequest)(ul.ConversionType.UNDEFINED_ANY_STREAM,null!=c?c:"INVALID_TERRITORY"));var P=e.contentConfig.videoType||"unknown",O=P.toLowerCase(),k="trailer"===O?n:r;if(Nl.count("DVWebNode:LaunchType:".concat(o,":").concat(k),1,!1),Nl.count("DVWebNode:LaunchType:".concat(o,":").concat(O,":").concat(k),1,!1),"feature"===O&&function(e){return!e||e.supportsDrm}(i)&&["MSHOP_ANDROID_EMBEDDED","URL_EMBEDDED"].includes(k))"MSHOP_ANDROID_EMBEDDED"===k?function(e,t,r,n){var o,i=function(){_l(t)&&e?e(t):n?n():Ml(t,r)};null===(o=window.P)||void 0===o||o.when("mash").execute((function(e){e.canLaunchIntentURL({url:t.playbackUrl,successCallback:function(e){e?Ml(t,r):i()},failCallback:function(){i()}})}))}(T,e,k,a):function(e,t,r){_l(t)&&e?e(t):Ml(t,r)}(T,e,k);else if("EMBEDDED"===k)if("feature"===O&&w&&w(g,jl.UWP)&&b)b(g),Cl.count(un.PlaybackOriginNativePlayback,Al({},h,1));else if(T){var I=cn.DownloadFallBackStreaming;"feature"===O&&w&&w(g,jl.XP)&&S?(S(e,T),Cl.count(un.PlaybackOriginXpPlayback,Al({},h,1))):T(e),"feature"===O&&E&&E(g)&&Cl.count(I,{downloadingInComplete:1}),Eo(e.refMarker||e.contentConfig.ref||"atv_unknown",s,f,g,[Xr.Click],void 0,d,p)}else pl({action:dl.PlaybackClickUnhandled,pageType:y,logger:Nl,videoType:P}),Nl.error("Missing onPlay for Embedded Player",{pageType:s,subPageType:f});else ga().hasOwnProperty(k)?Ml(e,k):(pl({action:dl.PlaybackClickUnhandled,pageType:y,logger:Nl,videoType:P}),Nl.error("Unhandled Playback",{pageType:s,subPageType:f,launchTypeToApply:k}))}},Vl=function(e){var t,r,n,i=e.onPlay,a=e.launchType,l=e.trailerLaunchType,c=e.playerConfigPageType,u=e.playerCapabilities,s=e.onDownloadAppRequired,f=e.children,d=e.enableMarinTracking,p=e.context,m=e.downloadGateway,v=e.pageType,y=e.subPageType,h=e.clientVariant,g=e.clickstream,b=o.useContext(pe).clickstreamPageContext,w=null!==(t=null==b?void 0:b.pageType)&&void 0!==t?t:v,E=null!==(r=null==b?void 0:b.subPageType)&&void 0!==r?r:y,S=null!==(n=null==b?void 0:b.clientVariant)&&void 0!==n?n:h,T=Rl({onPlay:i,launchType:a,trailerLaunchType:l,playerConfigPageType:c,playerCapabilities:u,onDownloadAppRequired:s,enableMarinTracking:d,recordTerritory:null==p?void 0:p.recordTerritory,downloadGateway:m,pageType:w,subPageType:E,clientVariant:S,clickstream:g});return o.createElement(Dl.Provider,{value:{onPlay:T,launchType:a}},f)};Vl.displayName="PlaybackArea";var Wl=fl((0,y.s6)(Vl)),Fl=r("./node_modules/@amzn/dvui/dist/Icons/Overflow.js"),Bl=r.n(Fl),Ul=r("./node_modules/@amzn/dvui/dist/Icons/PlayArrow.js"),Hl=r.n(Ul),Gl=r("./node_modules/@amzn/dvui/dist/Icons/StartOver.js"),zl=r.n(Gl),ql=r("./node_modules/@amzn/dvui/dist/Icons/Tick.js"),Ql=r.n(ql),Yl=r("./node_modules/@amzn/dvui/dist/Icons/WishlistAdd.js"),Kl=r.n(Yl),Zl=r("./node_modules/@amzn/dvui/dist/Icons/RapidRecap.js"),Xl=r.n(Zl),Jl=r("./src/util/types/wps/shared.ts"),$l="m5ZWQf",ec="OAmKXk",tc="uIX1MD",rc=r("./node_modules/@amzn/dvui/dist/Icons/PlayButton.js"),nc=function(e){var t=e.href,r=e.label,n=e.onPlayButtonClick,a=e.className,l=e.labelClassName,c=t?"a":"button",u=o.createElement(c,{href:t,onClick:n,className:i(a,ec),"data-testid":"play","aria-label":"string"==typeof r?r:null==r?void 0:r.string},o.createElement(rc.PlayButton,{width:"100%",height:"100%"}));return r&&(u=o.createElement("label",{className:i(l,tc)},u,o.createElement(qe.Text,{string:r}))),o.createElement("div",{className:i($l)},u)},oc="cngOQC",ic="TVlaNW",ac="xi3ydU",lc=r("./node_modules/@amzn/dvui/dist/Button.js"),cc=r.n(lc);function uc(e){return uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(e)}function sc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==uc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==uc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===uc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fc=function(e){var t,r=e.icon,n=e.label,a=e.labelClassName,l=e.href,c=e.isInverted,u=e.disableInvertedOnHover,s=e.onCallToActionButtonClick,f=e.className,d=e.textAlign,p=e.testID,m=i(f,oc,(sc(t={},ic,c),sc(t,ac,u),t));return o.createElement(lc.Button,{use:Symbol("CallToActionButton"),className:m,href:l,onClick:s,textAlign:null!=d?d:"start",testID:p},r,n&&o.createElement(qe.Text,{string:n,className:a}))},dc=r("./node_modules/@amzn/dvui/dist/Icons/Close.js"),pc=r.n(dc),mc="d5QfMo",vc="oCjIRU",yc="lA7kc2",hc="xn14PB",gc="+eW92P",bc="WqE8n+",wc=["children","className"],Ec=["children","className"],Sc=["children","className"],Tc=["children","className"],xc=["children","className"],Pc=["children","className"];function Oc(){return Oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oc.apply(this,arguments)}function kc(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Ic=function(e){var t=e.children,r=e.className,n=kc(e,xc);return o.createElement("span",Oc({className:i(mc,r)},n),t)},Cc=function(e){var t=e.children,r=e.className,n=kc(e,Tc);return o.createElement("span",Oc({className:i(vc,r)},n),t)},jc=function(e){var t=e.children,r=e.className,n=kc(e,Pc);return o.createElement("p",Oc({className:i(yc,r)},n),t)},Lc=function(e){var t=e.children,r=e.className,n=kc(e,Sc);return o.createElement("h4",Oc({className:i(hc,r)},n),t)},Ac=function(e){var t=e.children,r=e.className,n=kc(e,Ec);return o.createElement("h3",Oc({className:i(gc,r)},n),t)},Nc=function(e){var t=e.children,r=e.className,n=kc(e,wc);return o.createElement("h2",Oc({className:i(bc,r)},n),t)},Dc={backgroundOverlay:"_1DR110",modalWrapper:"rvJd8n",fadeInFrames:"r9gEB4",modalContent:"t3E74H",xsModalSize:"fHwPje",sModalSize:"CGno9b",mModalSize:"tow9o1",lModalSize:"oAUzdo",headerWrapper:"_4CeEyk",closeButton:"q2lvVN",bodyWrapper:"UV6HKC",footerWrapper:"kZXeoZ",actionButton:"fuSZLL"},Mc=r("./node_modules/react-dom/index.js"),_c=function(e){var t=e.children,r=o.useRef(null);o.useEffect((function(){return document.addEventListener("keydown",n),function(){return document.removeEventListener("keydown",n)}}),[]);var n=function(e){var t;if("Tab"===e.key){var n,o=e.shiftKey&&"Tab"===e.key,i=Array.from((null===(n=r.current)||void 0===n?void 0:n.querySelectorAll('a[href],textarea,input,button,label,[tabindex]:not([tabindex="-1"])'))||[]),a=i.shift(),l=i.pop()||a,c=null===(t=r.current)||void 0===t?void 0:t.contains(document.activeElement),u=document.activeElement===(o?a:l)||null;c&&!u||function(e,t){t.preventDefault(),null==e||e.focus()}(o?l:a,e)}};return o.createElement("div",{ref:r,"data-testid":"focus-trap"},t)};function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rc.apply(this,arguments)}var Vc="modal-no-scroll",Wc=function(e){var t=e.isVisible,r=e.className,n=e.size,i=void 0===n?"m":n,l=e.testID,c=e.titleText,u=e.bodyText,s=e.primaryActionText,f=e.secondaryActionText,d=e.onRequestClose,p=e.onDismiss,m=e.onPrimaryAction,v=e.onSecondaryAction,y=e.header,h=e.disableHeader,g=e.disableCloseButton,b=e.body,w=e.disableBody,E=e.footer,S=e.disableFooter,T=e.rootElement,x=o.useRef(null);o.useEffect((function(){var e,r,n,o,i;t?(null===(e=document)||void 0===e||null===(r=e.documentElement)||void 0===r||r.classList.add(Vc),null==x||null===(n=x.current)||void 0===n||n.focus()):(null===(o=document)||void 0===o||null===(i=o.documentElement)||void 0===i||i.classList.remove(Vc),null==p||p());return function(){var e,t;null===(e=document)||void 0===e||null===(t=e.documentElement)||void 0===t||t.classList.remove(Vc)}}),[t]);if(!t)return null;var P=o.createElement("button",{type:"button",onClick:d,className:Dc.closeButton,"data-testid":"modal-close-button"},o.createElement(pc(),null)),O=o.createElement(qe.Text,{string:c,tag:"span",testID:"menu-header"}),k=o.createElement("div",{role:"presentation",onKeyDown:function(e){x.current&&"Escape"===e.key&&d()}},o.createElement("div",Rc({role:"dialog","aria-label":"Modal",ref:x,tabIndex:0,className:a()(Dc.modalWrapper,Dc["".concat(i,"ModalSize")],r)},l&&{"data-automation-id":l,"data-testid":l}),o.createElement(_c,null,o.createElement("div",{className:Dc.modalContent},!h&&o.createElement(Ac,{className:Dc.headerWrapper},null!=y?y:O,!g&&P),!w&&(null!=b?b:o.createElement(jc,{className:Dc.bodyWrapper},o.createElement(qe.Text,{string:u,tag:"span"}))),!S&&(null!=E?E:o.createElement("div",{className:Dc.footerWrapper},s&&o.createElement(fc,{testID:"primary-action-button",className:Dc.actionButton,isInverted:!0,onCallToActionButtonClick:m,label:s}),f&&o.createElement(fc,{testID:"secondary-action-button",className:Dc.actionButton,disableInvertedOnHover:!0,onCallToActionButtonClick:v,label:f})))))),o.createElement("div",{role:"presentation",className:Dc.backgroundOverlay,onClick:d}));return T?(0,Mc.createPortal)(k,T):k};Wc.displayName="Modal";var Fc="AHkGl-",Bc="jXfKn7",Uc="p6KLAQ",Hc="Koh1N4",Gc=r("./node_modules/@amzn/dvui/dist/Spacer.js"),zc=r("./node_modules/@amzn/dvui/dist/PlayButton.js"),qc="NyrD54",Qc="ROwEtB",Yc=r("./node_modules/@amzn/dvui/dist/Icon.js"),Kc=["playbackStatus","className","children"];function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zc.apply(this,arguments)}function Xc(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Jc=function(e){return e.WatchLive="LiveStreamWatchNow",e.FromEarliest="LiveStreamFromEarliest",e.FromBeginning="LiveStreamFromBeginning",e.FromBookmark="LiveStreamFromBookmark",e.RapidRecap="RapidRecap",e}({}),$c=function(e){var t=e.playbackStatus,r=t===Jc.RapidRecap,n=t===Jc.FromBeginning||t===Jc.FromBookmark||t===Jc.FromEarliest;return r?o.createElement(Xl(),null):n?o.createElement(zl(),null):o.createElement(Hl(),null)},eu=function(e){var t=e.playbackStatus,r=e.className,n=e.children,a=Xc(e,Kc),l=o.createElement($c,{playbackStatus:t}),c=t===Jc.FromBeginning||t===Jc.FromBookmark||t===Jc.FromEarliest||t===Jc.RapidRecap?lc.Button:lc.PrimeButton;return o.createElement(c,Zc({forceDoubleHeight:!0},a,{icon:l,className:i(r)}),o.createElement("span",null,n))},tu="_1EJvy-",ru="BRug1g",nu="zH2exL",ou=r("./src/util/types/wps/containers.ts"),iu=function(e){var t=e.playbackContent,r=e.isMShop,n=e.triggerPlayback;return t?o.createElement(zc.PlayButton,{onClick:n,href:r?void 0:t.playbackUrl,ariaLabel:t.label?t.label:"",label:t.label,"data-testid":"play"}):null},au=function(e){var t=e.playbackContent,r=e.isMShop,n=e.triggerPlayback;return t?o.createElement("div",{className:"".concat(tu," ").concat(qc," dv-shared-node-playback")},o.createElement(eu,{href:r?void 0:t.playbackUrl,onClick:n,playbackStatus:t.playbackStatus,className:Qc,"data-testid":"square-play"},o.createElement(qe.Text,{tag:"span",string:t.label}))):null},lu=function(e){switch(e){case ou.PO.FromEarliest:return Jc.FromEarliest;case ou.PO.FromBeginning:return Jc.FromBeginning;case ou.PO.FromBookmark:return Jc.FromBookmark;case ou.PO.RapidRecap:return Jc.RapidRecap;default:return Jc.WatchLive}};function cu(){return cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cu.apply(this,arguments)}var uu=function(e){var t=e.playbackContentList,r=e.playerConfigData,n=e.isMShop,i=e.triggerPlaybackList;return null!=t&&t.length&&null!=i&&i.length&&t.length==i.length?o.createElement(o.Fragment,null,t.map((function(e,t){var a={playbackContent:e,playerConfigData:r,isMShop:n};return t?o.createElement(au,cu({key:"action-box-playback-".concat(t)},a,{triggerPlayback:i[t]})):o.createElement(iu,cu({key:"action-box-playback-0"},a,{triggerPlayback:i[t]}))}))):null},su=r("./node_modules/@amzn/dvui/dist/Badge.js"),fu=function(e){var t=e.text;return e.isLive&&t?o.createElement("div",{className:"".concat(Fc," ").concat(nu," ").concat(ru)},o.createElement(su.Badge,{variant:su.BadgeVariant.live,testID:"live-state-badge"},t)):null},du=function(e){var t=e.isOpen,r=e.onClose,n=e.eventTitle,i=e.liveState,l=e.playbackContentList,c=e.isMShop,u=e.playerConfigData,s=e.triggerLocation,f=e.onPlay,d=e.logger;if(!t||!l)return null;var p=[];return l&&l.map((function(e){d&&e.refMarker&&function(e,t,r,n){Eo(t,zr.ATVModal,qr.SSM,n,[Xr.PageNavigate],Jr.PopUp),r&&e.count("DVWebNode::Live::Playback::".concat(r,"::Shown"),1,!1)}(d,e.refMarker,e.playbackStatus,e.contentConfig.asin);p.push((function(t){r(),f&&f(e),t.preventDefault(),d&&function(e,t,r,n){var o=r||"ATVUnknown";e.count("DVWebNode::Live::Playback::".concat(o,"::Clicked"),1,!1),n&&e.count("DVWebNode::Live::Playback::SSM::Clicked",1,!1),t&&e.count("DVWebNode::Live::Playback::".concat(t,"::Clicked"),1,!1)}(d,e.playbackStatus,s,!0)}))})),t&&l?o.createElement(Wc,{isVisible:t,onRequestClose:r,size:"s",className:a()(Bc,Hc),titleText:n,header:o.createElement("div",null,i&&o.createElement(fu,i),n&&o.createElement("h1",null,n)),body:o.createElement(Gc.Spacer,{alignItems:Gc.spacerAlignItems.center,space:Gc.spacerSpacing.m,className:a()(Bc,Uc)},o.createElement(uu,{isMShop:c,playerConfigData:u,playbackContentList:l,triggerLocation:s,triggerPlaybackList:p})),disableFooter:!0,testID:"stream-selector-modal"}):null};function pu(e){return pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(e)}function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mu.apply(this,arguments)}function vu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vu(Object(r),!0).forEach((function(t){hu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==pu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==pu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pu(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wu=o.createContext({});wu.displayName="SsmContext";var Eu=wu.Provider,Su=function(e){var t=e.children,r=gu((0,o.useState)({isOpen:!1}),2),n=r[0],i=r[1];(0,o.useEffect)((function(){var e=n.refMarkerPrefix,t=n.logger,r=n.triggerLocation,o=n.isOpen;e&&t&&function(e,t,r,n){var o=r||"Unknown";Eo("".concat(e,"_").concat(o.toLowerCase(),"_live_playmod").concat(n?"_back":""),zr.ATVModal,qr.SSM,void 0,void 0,Jr.PageTouch),t.count("DVWebNode::Live::SSM::".concat(o,"::").concat(n?"Closed":"Opened"),1,!1)}(e,t,r,!o)}),[n]);var a=(0,o.useMemo)((function(){return{openSsm:function(e){return i(yu(yu({},e),{},{isOpen:!0}))},isSsmOpen:n.isOpen}}),[n.isOpen]);return o.createElement(Eu,{value:a},t,o.createElement(du,mu({},n,{onClose:function(){return i(yu(yu({},n),{},{isOpen:!1}))}})))},Tu="rY7SY5",xu=function(e){var t=e.onClick;return o.createElement("button",{onClick:t,tabIndex:-1,"aria-hidden":!0,className:Tu,"data-testid":"invisible-play"})},Pu=function(e){return e[e.Circular=0]="Circular",e[e.Square=1]="Square",e[e.Secondary=2]="Secondary",e[e.Invisible=3]="Invisible",e}({}),Ou=function(e){var t,r=e.playbackAction,n=e.playbackGroup,i=e.streamSelectorProps,a=e.titleId,l=e.label,c=e.className,u=e.labelClassName,s=e.buttonVariant,f=void 0===s?Pu.Circular:s,d=e.secondaryButtonIcon,p=e.carouselRefTag,m=void 0===p?"atv_unknown":p,v=o.useContext(RT).actions.getEnrichments,y=o.useContext(wu).openSsm,g=o.useContext(pe).isInResiliencyMode,b=(0,h.L1)(),w="COLLAPSED"===(null==n?void 0:n.groupBehavior)?null===(t=n.groupTreatments)||void 0===t?void 0:t.displayTreatments.label:l;return o.createElement(Dl.Consumer,null,(function(e){var t=e.onPlay,l=e.launchType,s="PVVideoPlayerClosed",p=function e(){a&&v([a],!0),window.removeEventListener(s,e)},h=function(e){var o;window.addEventListener(s,p);var a,l=null!==(o=r.titleID)&&void 0!==o?o:r.channelId;if(t&&"COLLAPSED"===(null==n?void 0:n.groupBehavior)){var c,u,f={playbackActions:n.playbackActions,defaultResumeTime:0,carouselRefTag:m,triggerLocation:null==i?void 0:i.triggerLocation},d={logger:b.logger,refMarkerPrefix:"atv_hm",triggerLocation:null==i?void 0:i.triggerLocation,eventTitle:null==i?void 0:i.eventTitle,liveState:{text:null==i||null===(c=i.liveInfo)||void 0===c?void 0:c.label,isLive:"LIVE"===(null==i||null===(u=i.liveInfo)||void 0===u?void 0:u.status)},playbackContentList:(a=f,a.playbackActions.map((function(e){var t,r;return{playbackUrl:e.fallbackUrl,fallbackUrl:e.appFallbackUrl,signInUrl:e.signInUrl,contentConfig:{asin:null!==(t=e.titleID)&&void 0!==t?t:e.channelId,videoType:e.videoMaterialType,trailer:!1,position:e.resumeTime||a.defaultResumeTime,ref:e.refMarker,playbackEnvelope:null!==(r=e.playbackExperienceMetadata)&&void 0!==r&&r.playbackEnvelope?{envelope:e.playbackExperienceMetadata.playbackEnvelope,correlationId:e.playbackExperienceMetadata.correlationId,expiration:e.playbackExperienceMetadata.expiryTime}:void 0,playbackExperiences:e.playbackExperiences},triggerLocation:a.triggerLocation,playbackStatus:lu(e.playbackStatus),label:e.label,refMarker:(0,an.vA)(a.carouselRefTag,e.videoMaterialType,e.playbackStatus)}}))||[]),onPlay:t};y(d),e.preventDefault()}else if(t&&r.fallbackUrl&&l){var v,h=g?Jl.gz.LIVE:r.videoMaterialType;t({playbackUrl:r.fallbackUrl,fallbackUrl:r.appFallbackUrl,signInUrl:r.signInUrl,contentConfig:{asin:l,videoType:h,trailer:!1,position:r.resumeTime||0,ref:r.refMarker,playbackEnvelope:null!==(v=r.playbackExperienceMetadata)&&void 0!==v&&v.playbackEnvelope?{envelope:r.playbackExperienceMetadata.playbackEnvelope,correlationId:r.playbackExperienceMetadata.correlationId,expiration:r.playbackExperienceMetadata.expiryTime}:void 0,playbackExperiences:null==r?void 0:r.playbackExperiences},refMarker:(0,an.vA)(m,r.videoMaterialType,r.playbackStatus)}),e.preventDefault()}},E=Boolean(r.channelId)&&"EMBEDDED"===l?void 0:r.fallbackUrl;switch(f){case Pu.Circular:return o.createElement(nc,{className:c,labelClassName:u,href:E,onPlayButtonClick:h,label:null!=w?w:r.label});case Pu.Square:return o.createElement(fc,{icon:o.createElement(Hl(),{width:"20px",height:"17px"}),isInverted:!0,label:null!=w?w:r.label,labelClassName:u,className:c,href:E,onCallToActionButtonClick:h,testID:"play"});case Pu.Secondary:return o.createElement(Tt,{icon:d,label:null==r?void 0:r.label,labelClassName:u,smallIconVariant:!0,onSecondaryButtonClick:h,href:E});case Pu.Invisible:return o.createElement(xu,{onClick:h})}}))},ku=r("./node_modules/@amzn/dvui/dist/Icons/Delete.js"),Iu=r.n(ku),Cu="h-X7DN",ju=r("./src/util/types/wps/mystuff-cs.ts");function Lu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Au(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Au(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Au(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Nu=function(e){var t=e.text,r=e.icon,n=e.testId,i=e.modalProps,a=e.onDismiss,l=e.onPrimaryAction,c=e.requireModalConfirmation,u=void 0!==c&&c,s=e.buttonTestId,f=e.buttonStyle,d=e.textStyle,p=e.isInDropdown,m=Lu(o.useState(!1),2),v=m[0],y=m[1],h=function(e){e.preventDefault(),u?y(!0):(l(e),null==a||a())},g=function(){y(!1),null==a||a()},b=i||{},w=b.modalTestId,E=b.modalStyle,S=b.modalText,T=b.modalTextWarning,x=b.modalTitle,P=b.modalPrimaryActionText,O=b.modalSecondaryActionText;return o.createElement("div",{"data-testid":n},i&&o.createElement(Wc,{testID:w,className:E,isVisible:v,titleText:x,primaryActionText:P,secondaryActionText:O,onPrimaryAction:function(e){e.preventDefault(),l(e),g()},onSecondaryAction:g,onRequestClose:g,body:o.createElement(jc,{className:Dc.bodyWrapper},o.createElement(qe.Text,{string:S,tag:"p"}),T&&o.createElement(qe.Text,{string:T,tag:"p"}))}),p?o.createElement("button",{type:"submit",className:f,onClick:h,"data-testid":s},r,o.createElement(qe.Text,{string:t,className:d})):o.createElement(Tt,{onSecondaryButtonClick:h,label:t,labelClassName:d,className:f,isInverted:!1,isDisabled:!1,icon:r,smallIconVariant:!0,testID:s}))},Du=function(e){var t=e.titleID,r=e.action,n=e.icon,i=e.buttonStyle,a=e.textStyle,l=e.testId,c=e.onDismiss,u=e.isInDropdown,s=r.text,f=r.modalTitle,d=r.modalPrimaryActionText,p=r.modalSecondaryActionText,m=r.modalText,v=r.modalTextWarning,y=o.useContext(RT).actions.onLibraryAction;return o.createElement(Nu,{requireModalConfirmation:r.state===ju.GI.HIDDEN||r.state===ju.GI.REMOVED,text:s,icon:n,buttonStyle:i,buttonTestId:"library-item-action-button",textStyle:a,testId:l,modalProps:{modalTitle:f,modalPrimaryActionText:d,modalSecondaryActionText:p,modalTextWarning:v,modalText:m,modalStyle:Cu,modalTestId:"library-item-action-confirmation-modal"},onPrimaryAction:function(){y(t,r)},onDismiss:c,isInDropdown:u})},Mu=function(e,t,r,n,i,a){var l=void 0;switch(t.state){case ju.GI.HIDDEN:case ju.GI.REMOVED:l=o.createElement(Iu(),!n&&{width:dt,height:ft});break;case ju.GI.VISIBLE:l=o.createElement(zl(),!n&&{width:dt,height:ft})}return o.createElement(Du,{titleID:e,action:t,icon:l,buttonStyle:i,textStyle:r,isInDropdown:n,testId:"library-".concat(t.state.toLowerCase(),"-action"),onDismiss:a})};function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_u.apply(this,arguments)}var Ru=function(e){var t=e.playbackOrTitleArt,r=e.titleID,n=e.watchlistAction,i=e.signInTrailerURL,a=e.trailer,l=e.hideThisAction,c=e.hideThisCallback,u=e.dropdownUniqueId,s=e.dropdownCallback,f=e.secondaryPlaybackActions,d=e.libraryItemActions,p=e.carouselRefTag,m=o.useContext(RT).actions.onWatchlistToggle,v=o.useContext(Dl).onPlay,y=o.useContext(pe).getString,h=null==d?void 0:d.softDeleteAction,g=null==d?void 0:d.restoreAction,b=null==d?void 0:d.permanentDeleteAction;var w="remove"===(null==n?void 0:n.tag.toLowerCase()),E=[],S=a&&v,T=l&&"string"==typeof r,x=h&&"string"==typeof r,P=g&&"string"==typeof r,O=b&&"string"==typeof r,k=1===[S,T,x,P,O].filter(Boolean).length,I={buttonStyle:k?void 0:Ua,textStyle:k?Ga:Ha,isInDropdown:!k};if(S){var C=o.createElement(cl,_u({signInTrailerURL:i,trailer:a,onPlay:v},I));E.push(C)}if(T){var j=o.createElement(xt,_u({hideThisAction:l,titleID:r,callback:c},I));E.push(j)}if(x){var L=Mu(r,h,I.textStyle,I.isInDropdown,I.buttonStyle);E.push(L)}if(P){var A=Mu(r,g,I.textStyle,I.isInDropdown,I.buttonStyle);E.push(A)}if(O){var N=Mu(r,b,I.textStyle,I.isInDropdown,I.buttonStyle);E.push(N)}var D=function(e){switch(e){case ou.PO.FromEarliest:case ou.PO.FromBeginning:case ou.PO.FromBookmark:return o.createElement(zl(),{height:ft,width:dt});case ou.PO.RapidRecap:return o.createElement(Xl(),{height:ft,width:dt});default:return o.createElement(Hl(),{height:ft,width:dt})}};return o.createElement("section",{className:Wa},o.createElement("div",null,t),o.createElement("section",{className:Fa},null==f?void 0:f.slice(0,2).map((function(e){return o.createElement(Ou,{playbackAction:e,buttonVariant:Pu.Secondary,secondaryButtonIcon:D(e.playbackStatus),labelClassName:Ga,key:e.label})})),n&&o.createElement(Tt,{icon:w?o.createElement(Ql(),{height:ft,width:dt}):o.createElement(Kl(),{height:ft,width:dt}),isInverted:!1,onSecondaryButtonClick:function(e){"string"==typeof r&&m(e,r,p)},isDisabled:!1,label:y("DV_WEB_WATCHLIST_TOOLTIP"),labelClassName:Ga,smallIconVariant:!0,testID:w?"watchlist-remove":"watchlist-add"}),k&&1==E.length&&E[0],!k&&E.length>1&&u&&o.createElement(rl,{className:Ba,uniqueId:u,buttonIcon:o.createElement(Bl(),{height:ft,width:dt}),label:y("DV_WEB_OVERFLOW_MENU_TOOLTIP"),labelClassName:Ga,dropdownElements:E,smallIconVariant:!0,onClick:s})))},Vu="RmtlRt",Wu="NgkdA8",Fu="oeG1vb",Bu="dL5AME",Uu="Krg12D",Hu="EarBrV",Gu="YLGBUW",zu="xfAyx4",qu="BWkLNj",Qu=r("./node_modules/@amzn/dvui/dist/AgeRating.js"),Yu="Kwb7-Y",Ku="WZDhY+",Zu=o.memo((function(e){for(var t=e.full,r=e.half,n=void 0!==r&&r,i=e.total,a=void 0===i?5:i,l=e.className,c=Math.max(Math.min(t,a),0),u=[],s=0;s<a;s++)u.push(o.createElement("use",{key:s,href:"#full",x:24*s,className:s<c?Ku:Yu}));return c<a&&n&&u.push(o.createElement("use",{key:"half",href:"#half",x:24*c,className:Ku})),o.createElement("svg",{className:l,viewBox:"0 0 ".concat(24*a," 24"),fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("defs",null,o.createElement("symbol",{id:"full"},o.createElement("path",{d:"M1.2809 10.3315L6.02519 15.2548L4.81316 21.6846C4.65559 22.5206 5.54745 23.1589 6.28793 22.7402L11.9952 19.5132L17.8071 22.864C18.5354 23.2839 19.4253 22.6722 19.2942 21.8418L18.2102 14.9747L22.7218 10.2565C23.2775 9.67533 22.9548 8.7093 22.1614 8.57881L15.6881 7.51408L12.8897 1.57378C12.5241 0.797621 11.4149 0.812151 11.0697 1.59762L8.45025 7.55822L1.83786 8.65115C1.04318 8.7825 0.722003 9.75149 1.2809 10.3315Z"})),o.createElement("symbol",{id:"half"},o.createElement("path",{d:"M12 1.0001C11.6245 0.994797 11.2467 1.19602 11.0697 1.60111L8.45025 7.59652L1.83786 8.69583C1.04318 8.82795 0.722003 9.80259 1.2809 10.386L6.02519 15.338L4.81316 21.8054C4.65559 22.6462 5.54745 23.2883 6.28793 22.8672L11.9952 19.6213L12 19.6241V1.0001Z"}))),u)})),Xu="GrFd67",Ju="_5-C52A",$u=r("./node_modules/@amzn/dvui/dist/StarRating.js"),es=function(e){var t=e.customerReviews,r=e.className,n=(0,$u.sanitiseNumber)(t.value),a=Math.floor(n);return o.createElement("span",{className:i(Xu,Ju,r),"data-testid":"star-rating",role:"img","aria-label":t.customerReviewsText.string},o.createElement(Zu,{full:a,half:n!==a}))},ts={NZ:{g:{stringId:"vcc_maturity_rating_oflc_g",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/oflc/g.png"},pg:{stringId:"vcc_maturity_rating_oflc_pg",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/oflc/pg.png"},13:{stringId:"vcc_maturity_rating_cvod_13",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/cvod/13.png"},rp13:{stringId:"vcc_maturity_rating_oflc_rp13",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/oflc/rp13.png"},r13:{stringId:"vcc_maturity_rating_oflc_r13",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/oflc/r13.png"},r15:{stringId:"vcc_maturity_rating_oflc_r15",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/oflc/r15.png"},m:{stringId:"vcc_maturity_rating_oflc_m",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/oflc/m.png"},16:{stringId:"vcc_maturity_rating_cvod_16",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/cvod/16.png"},rp16:{stringId:"vcc_maturity_rating_oflc_rp16",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/oflc/rp16.png"},r16:{stringId:"vcc_maturity_rating_oflc_r16",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/oflc/r16.png"},18:{stringId:"vcc_maturity_rating_cvod_18",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/cvod/18.png"},rp18:{stringId:"vcc_maturity_rating_oflc_rp18",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/oflc/rp18.png"},r18:{stringId:"vcc_maturity_rating_oflc_r18",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/oflc/r18.png"},r:{stringId:"vcc_maturity_rating_oflc_r",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/oflc/r.png"}},BR:{l:{stringId:"vcc_maturity_rating_djctq_l",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/djctq/l.png"},10:{stringId:"vcc_maturity_rating_djctq_10",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/djctq/10.png"},12:{stringId:"vcc_maturity_rating_djctq_12",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/djctq/12.png"},14:{stringId:"vcc_maturity_rating_djctq_14",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/djctq/14.png"},16:{stringId:"vcc_maturity_rating_djctq_16",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/djctq/16.png"},18:{stringId:"vcc_maturity_rating_djctq_18",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/djctq/18.png"},al:{stringId:"vcc_maturity_rating_adjctq_al",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/adjctq/al.png"},a10:{stringId:"vcc_maturity_rating_adjctq_a10",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/adjctq/a10.png"},a12:{stringId:"vcc_maturity_rating_adjctq_a12",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/adjctq/a12.png"},a14:{stringId:"vcc_maturity_rating_adjctq_a14",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/adjctq/a14.png"},a16:{stringId:"vcc_maturity_rating_adjctq_a16",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/adjctq/a16.png"},a18:{stringId:"vcc_maturity_rating_adjctq_a18",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/adjctq/a18.png"}},ZA:{a:{stringId:"vcc_maturity_rating_fpb_a",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/fpb/a.png"},pg:{stringId:"vcc_maturity_rating_fpb_pg",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/fpb/pg.png"},"7-9-pg":{stringId:"vcc_maturity_rating_fpb_7_9_pg",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/fpb/7-9-pg.png"},"10-12-pg":{stringId:"vcc_maturity_rating_fpb_10_12_pg",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/fpb/10-12-pg.png"},13:{stringId:"vcc_maturity_rating_fpb_13",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/fpb/13.png"},16:{stringId:"vcc_maturity_rating_fpb_16",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/fpb/16.png"},18:{stringId:"vcc_maturity_rating_fpb_18",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/fpb/18.png"},x18:{stringId:"vcc_maturity_rating_fpb_x18",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/fpb/x18.png"},xx:{stringId:"vcc_maturity_rating_fpb_xx",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/fpb/xx.png"}}},rs=function(e){var t,r,n=e.locale,i=e.rating,a=e.title,l=e.className,c=(0,y.G4)().context;if(!i)return null;var u=null===(t=ts[null==c?void 0:c.recordTerritory])||void 0===t||null===(r=t[i])||void 0===r?void 0:r.url;return u?o.createElement(Qu.AgeRating,{ariaLabel:a,logoUrl:u,className:l}):o.createElement(Qu.AgeRating,{ariaLabel:a,rating:i,locale:n,className:l})},ns=function(e){var t=e.message,r=e.className;return o.createElement(l.Marker,{className:r,"data-testid":"high-value-msg"},t)},os="XkwSbj",is=r("./node_modules/@amzn/dvui/dist/TextBlock.js"),as=function(e){var t=e.synopsis,r=e.className;return o.createElement(is.TextBlock,{testID:"synopsis",className:a()(os,r)},t)},ls=function(e){var t=e.stationTitle,r=e.nextBroadcastTitle,n=e.nextBroadcastStartTime,i=e.nextUpText,a=n&&new Date(n).toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hourCycle:"h12"}).toLocaleUpperCase();return o.createElement("section",{className:Gu},t&&o.createElement("span",null,t),o.createElement("span",{className:zu},r&&o.createElement(o.Fragment,null,o.createElement("span",{className:qu},"Â·"),o.createElement("span",null,i,r)),a&&o.createElement(o.Fragment,null,o.createElement("span",{className:qu},"Â·"),o.createElement("span",null,a))))};function cs(){return cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cs.apply(this,arguments)}var us=function(e){var t,r=e.customerReviews,n=e.releaseYear,i=e.runtime,l=e.contentMaturityRating,c=e.maturityRatingBadge,u=e.highValueMessage,s=e.synopsis,f=e.linearProps,d=e.dateTime,p=null!=f?f:{},m=p.stationTitle,v=p.episodeTitle,y=p.currentBroadcastStartTime,h=p.nextBroadcastTitle,g=p.nextBroadcastStartTime,b={stationTitle:m,nextBroadcastTitle:h,nextBroadcastStartTime:g,nextUpText:p.nextUpText},w=y&&new Date(y).toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0}).toLocaleUpperCase();return o.createElement(o.Fragment,null,v&&o.createElement("section",{className:Vu},o.createElement(qe.Text,null,v)),o.createElement("section",{className:Vu},r&&o.createElement(es,{className:a()(Fu,Wu),customerReviews:r}),w&&o.createElement(qe.Text,{className:Fu},w),d&&o.createElement(qe.Text,{className:Fu,testID:"date-time"},d),n&&o.createElement(qe.Text,{className:Fu,testID:"release-year"},n),i&&o.createElement(qe.Text,{className:Fu,testID:"runtime"},i),c?o.createElement(Qu.AgeRating,{rating:c.displayText,locale:null===(t=c.countryCode)||void 0===t?void 0:t.toLowerCase(),logoUrl:c.logoUrl,title:c.description,ariaLabel:c.description,className:Bu}):l&&o.createElement(rs,cs({},l,{className:Bu}))),(null==u?void 0:u.message)&&o.createElement(ns,{className:Uu,message:u.message}),s&&o.createElement(as,{className:Hu,synopsis:s}),(m||h||g)&&o.createElement(ls,b))},ss="_4bPlFR",fs=function(e){return e.Mega="h2",e.Super="h2",e.Header="h3",e.SubHeader="h4",e}({}),ds=function(e){var t=e.title,r=e.titleLogoOptions,n=e.headingClassName,i=e.headingLevel,l=e.baseValue,c=e.providerLogoOptions,u=e.titleID,s="".concat(null!=i?i:fs.Header),f=r?o.createElement(Si,{alt:t,src:r.url,wrapperClassName:r.wrapperClassName,imageClassName:r.imageClassName,baseValue:l||500,autoCrop:!0,shouldLazyLoad:r.shouldLazyLoadImage,debugID:u}):t;return o.createElement(o.Fragment,null,c&&o.createElement(Si,{alt:c.alt,src:c.url,wrapperClassName:c.wrapperClassName,imageClassName:c.imageClassName,baseValue:500,autoCrop:!0,shouldLazyLoad:c.shouldLazyLoadImage,debugID:u}),o.createElement(s,{className:a()(ss,n),"data-testid":"title-art"},e.url?o.createElement("a",{href:e.url,tabIndex:-1,"aria-hidden":!0},f):f))};function ps(e){return ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ps(e)}function ms(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ps(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ps(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ps(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ys(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ys(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ys(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hs=function(e){var t=e.className,r=e.titleID,n=e.focusMessage,i=e.playbackAction,l=e.secondaryPlaybackActions,c=e.watchlistAction,u=e.trailer,s=e.hideThisAction,f=e.hideThisCallback,d=e.providerLogo,p=e.displayTitle,m=e.customerReviews,v=e.releaseYear,y=e.runtime,h=e.contentMaturityRating,g=e.maturityRatingBadge,b=e.highValueMessage,w=e.synopsis,E=e.linearProps,S=e.callToActionButtonLabel,T=e.callToActionButtonLink,x=e.dateTime,P=e.carouselRefTag,O=e.libraryItemActions,k=vs(o.useState(!1),2),I=k[0],C=k[1],j=i?o.createElement(Ou,{className:Na,labelClassName:Aa,playbackAction:i,label:i.label,titleId:r,carouselRefTag:P}):void 0,L=p?o.createElement(ds,{title:p,headingLevel:fs.SubHeader,headingClassName:_a,providerLogoOptions:d?{url:d.url,alt:d.alternateText,wrapperClassName:a()(Da,ms({},Ma,!j)),shouldLazyLoadImage:!1}:void 0,titleID:r}):void 0,A=null!=j?j:L,N="actn-drpdn-".concat(r);return o.createElement("article",{className:a()(Ia,t),"data-testid":"standard-mini-details"},o.createElement(ct,{className:ja,labelClassName:La,message:null==n?void 0:n.message,icon:null==n?void 0:n.icon}),!i&&S&&T&&o.createElement(fc,{className:Ra,labelClassName:Va,href:T,label:S,textAlign:"start",isInverted:!0,testID:"promotion"}),o.createElement(Ru,{playbackOrTitleArt:A,secondaryPlaybackActions:l,titleID:r,watchlistAction:c,trailer:u,hideThisAction:s,hideThisCallback:f,dropdownCallback:function(e){return C(e.target.checked)},dropdownUniqueId:N,libraryItemActions:O,carouselRefTag:P}),j&&L,o.createElement(us,{customerReviews:m,releaseYear:v,runtime:y,contentMaturityRating:h,maturityRatingBadge:g,highValueMessage:b,synopsis:w,linearProps:E,dateTime:x}),I&&o.createElement("label",{"data-testid":"".concat(N,"-overlay"),className:Ca,htmlFor:N,"aria-hidden":"true"}))},gs="Z9dd1d",bs="_6Ee48g",ws="_9DLJTq",Es="adbzBM",Ss="CPzlyj",Ts="pmtwKl",xs="l3Byg9",Ps="yLrUM0",Os="EltWag",ks="_0H0fS+",Is="Zwe5a0",Cs="yO1YXp",js="frgzFh",Ls="aIGd1S",As="rNCyT6",Ns="XGQ6I8",Ds="_7apyuU",Ms="E8zf-P",_s="SCwdFt",Rs="apGNVX",Vs="n+nE+S",Ws="YpimTj",Fs="OLpbif",Bs=o.createContext({});Bs.displayName="MiniDetailsContext";var Us=r("./src/util/utils/domUtils.ts"),Hs=r("./src/util/utils/titleType.ts"),Gs=function(e,t){var r=Date.now(),n=Math.max(t-e,1),o=r-e;if(!(o<0))return{percentage:Math.min(o/n*100,100),isLive:!0}},zs=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e){var r=Date.now(),n=e&&e.schedule.sort((function(e,t){return e.start-t.start}))||[],o=n.findIndex((function(e){return e.start<r&&e.end>r})),i=o>-1?n[o+t]:void 0;return i}},qs=function(e,t){var r,n;return null!==(r=null==e?void 0:e.metadata.seriesTitle)&&void 0!==r?r:null===(n=t.station)||void 0===n?void 0:n.name},Qs="j5ZgN-",Ys="r0m8Kk",Ks="zhBx7Q",Zs="zWk6SW",Xs="syyFPX",Js="IcdAu8",$s="gJwnOo",ef="_0rmWBt",tf="GzqpBB",rf="Yh+jMe",nf="_7pXMwt",of="umDKqv",af="YxFjm6",lf="s2b6VW",cf="K11N8U";function uf(e){return uf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(e)}function sf(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==uf(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==uf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===uf(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ff=function(e){var t=e.className,r=e.percentage,n=e.isLive;return r>0?o.createElement("span",{className:a()(af,t),"data-testid":"progress-bar"},o.createElement("span",{"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":r,className:a()(lf,sf({},cf,n)),style:{width:"".concat(r,"%")}})):null};function df(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mf=function(e){var t,r=e.className,n=e.broadcast,i=e.nextBroadcastCallback,a=null===(t=Gs(n.start,n.end))||void 0===t?void 0:t.percentage,l=df(o.useState(a),2),c=l[0],u=l[1];o.useEffect((function(){var e=setTimeout((function(){s()}),1e4);return function(){return clearTimeout(e)}}),[c]),o.useEffect((function(){s()}),[n]);var s=function(){var e,t=null===(e=Gs(n.start,n.end))||void 0===e?void 0:e.percentage;t&&(t>=100?i():u(t))};return c&&c>0?o.createElement(ff,{className:r,percentage:c,isLive:!0}):null};function vf(e){return vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(e)}function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yf.apply(this,arguments)}function hf(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==vf(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==vf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===vf(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gf,bf=function(e){var t,r,n,i,l=e.title,c=e.dateTime,u=e.progress,s=e.linearProgress,f=e.hovered,d=void 0!==f&&f,p=e.isSuperCarousel,m=void 0!==p&&p,v=e.playable,y=void 0!==v&&v;if(!(l||c||y||u||s))return null;var h=o.createElement(Yc.Icon,{className:a()(rf),use:Yc.IconType.PLAY_ARROW}),g=o.createElement("p",{className:a()(Js)},y&&h,o.createElement("span",{className:c||y?nf:of},l)),b=o.createElement("div",{className:a()(hf({},tf,d))},y&&!l&&h,l&&g,c&&o.createElement("p",{className:$s},c)),w=u||s,E=!w&&d,S=o.createElement("div",{className:a()(Ks,(t={},hf(t,ef,w),hf(t,tf,E),hf(t,Zs,m),t))});return o.createElement(o.Fragment,null,o.createElement("div",{className:a()(Qs,(r={},hf(r,Ys,w),hf(r,ef,w),r)),"data-testid":"card-overlay"},b,u&&!s&&o.createElement(ff,{className:Xs,isLive:null!==(n=u.isLive)&&void 0!==n&&n,percentage:null!==(i=u.percentage)&&void 0!==i?i:0}),s&&!u&&o.createElement(mf,yf({className:Xs},s))),S)},wf=r("./src/util/types/wps/storefront.ts"),Ef="vUebBe";function Sf(e){return Sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(e)}function Tf(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Sf(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Sf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Sf(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xf=function(e){var t=e.colour,r=e.label,n=e.className,i=e.testID,l=t?Pf[t]:su.BadgeVariant.default;return o.createElement(o.Fragment,null,r&&o.createElement(su.Badge,{className:a()(Ef,n),variant:l,testID:null!=i?i:"status-badge"},r))},Pf=(Tf(gf={},wf.T.LINEAR,su.BadgeVariant.linear),Tf(gf,wf.T.AVAILABILITY,su.BadgeVariant.availability),Tf(gf,wf.T.LIVE,su.BadgeVariant.live),gf),Of=function(e){var t=e.liveInfo,r=e.className,n=e.testID;if(!t)return null;var i="LIVE"===t.status?wf.T.LIVE:wf.T.AVAILABILITY;return o.createElement(xf,{colour:i,label:t.label,className:r,testID:n})};function kf(e){var t;return(null==e||null===(t=e.degradations)||void 0===t?void 0:t.includes(ou.l4.Playback))||null==e}function If(e,t){return Cf(null==e?void 0:e.playbackActions,t)}function Cf(e,t){var r;return kf(t)?null==e?void 0:e[0]:null==t||null===(r=t.playbackActions)||void 0===r?void 0:r[0]}function jf(e){var t;return kf(e)?void 0:{playbackActions:null!==(t=null==e?void 0:e.playbackActions)&&void 0!==t?t:[],groupTreatments:null==e?void 0:e.playbackGroupTreatments,groupBehavior:null==e?void 0:e.playbackGroupBehaviour}}function Lf(e){return Lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(e)}function Af(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==Lf(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Lf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Lf(i)?i:String(i)),n)}var o,i}var Nf=function(e){return e[e.PHONE=10]="PHONE",e[e.TABLET=20]="TABLET",e[e.LAPTOP=30]="LAPTOP",e[e.DESKTOP=40]="DESKTOP",e[e.DESKTOP_HD=50]="DESKTOP_HD",e[e.DESKTOP_UHD=60]="DESKTOP_UHD",e}({}),Df=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"is",value:function(e){return Mf()===e}},{key:"isAtleast",value:function(e){return Mf()>=e}},{key:"isAtmost",value:function(e){return Mf()<=e}},{key:"isSmallerThan",value:function(e){return Mf()<e}},{key:"isLargerThan",value:function(e){return Mf()>e}}],(r=null)&&Af(t.prototype,r),n&&Af(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Mf(){var e=H("--dv-current-target-screen");return e?parseInt(e):0}var _f="lzHv2t",Rf="UUey8g",Vf=function(e){var t=e.message,r=e.className,n=e.onUndo,a=e.undoText;return o.createElement("section",{className:i(Ds,r),"data-testid":"title-removed-overlay"},o.createElement("div",{className:Ms},o.createElement(qe.Text,{string:t,testID:"title-removed-overlay-message"}),a&&n&&o.createElement("button",{type:"submit",onClick:n,className:_f,"data-testid":"removed-card-undo-button"},o.createElement(qe.Text,{string:a,className:Rf}))))},Wf=function(e,t,r,n){var o=!1;switch(t){case"StandardHero":o=n>=2;break;case"Cover":case"Nodes":case"StandardCarousel":case"Charts":case"SuperCarousel":o=n>=5;break;case"Grid":o=n>=15}return function(e){return["Storefront","Search","Genre","Browse","Categories"].includes(e)}(e)&&(r>=3||o)};function Ff(e){return Ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(e)}function Bf(){return Bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bf.apply(this,arguments)}function Uf(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ff(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ff(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ff(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var zf=function(e,t,r){var n,o=Boolean(null===(n=t.link)||void 0===n?void 0:n.deeplinkFallbackUrl);return["ScheduleCard","BonusContentCard"].includes(r)&&o&&"EMBEDDED"!==e.launchType&&"NONE"!==e.launchType?e.launchType:void 0},qf=(0,y.s6)((function(e){var t,r,n,i,l,c,u,s,f,d,p,m,y,g,b,w=e.index,E=e.card,S=e.isVisible,T=e.wrapperClassName,x=e.enrichment,P=e.isCircle,O=void 0!==P&&P,k=e.context,I=e.renderGlanceSpaceIfNoGlanceMessage,C=e.onWrapperElementChange,j=(e.render,o.useContext(RT)),L=j.container,A=L.impressionData,N=L.containerType,D=j.consumingWidgetType,M=j.removedItemsMap,_=j.index,R=o.useContext(pe).theme,V=(0,h.L1)().logger,W=Hf(o.useState(),2),F=W[0],B=W[1],U=function(e){var t,r=null===(t=e.hideThisAction)||void 0===t?void 0:t.tag;e.success&&"Unhide"===r?(B(e.message),re(!1)):e.success&&"Hide"===r&&B(void 0)},G=o.useRef(null),z=o.useContext(pe),q=z.isHoverEnabled,Q=z.contingencies,Y=o.useContext(Bs),K=Y.connected,Z=Y.cardIndexWithMiniDetails,X=Y.actions,J=Z===w,$=!Boolean(null==Q?void 0:Q.disableHover)&&!(!q||null==E||null===(t=E.hoverInfo)||void 0===t||!t.canHover||F||!Df.isAtleast(Nf.TABLET)),ee=Hf(o.useState(!1),2),te=ee[0],re=ee[1],ne=Hf(o.useState(!1),2),oe=ne[0],ie=ne[1];o.useEffect((function(){var e;J&&oe&&((0,Us.sT)(null==G?void 0:G.current)||G.current&&(null===(e=(0,Us.GO)(G.current)[0])||void 0===e||e.focus()))}),[J,oe]);var ae=te||oe,le=null!=J?J:ae,ce=Hf(o.useState(!1),2),ue=ce[0],se=ce[1],fe=Hf(o.useState("default"),2),de=fe[0],me=fe[1],ve=o.useRef(),ye=void 0!==E.titleID?null==M?void 0:M[E.titleID]:void 0,he=void 0!==ye,ge=o.useCallback((function(){setTimeout((function(){var e;(0,Us.sT)(null==G?void 0:G.current)||(ie(!1),(null===(e=document)||void 0===e?void 0:e.activeElement).blur());re(!0)}),0)}),[]),be=o.useCallback((function(){re(!1)}),[]),we=o.useCallback((function(e){["Enter"," "].includes(e.key)&&(J||(e.preventDefault(),ie(!0)))}),[J]),Ee=(0,v.D)((function(){(0,Us.sT)(null==G?void 0:G.current)||ie(!1)}),100),Se=o.useCallback((function(e){var t=null==G?void 0:G.current;t||e===t?t&&!e&&Ki.unobserve(t):A&&Ye&&Ue&&He&&e&&Ki.observe(e,{collectionImpressionData:A,titleID:Be,imageURL:Ye,refMarker:He,widgetType:Ue,carouselPosition:_,itemPosition:w,itemAnalytics:E.itemAnalytics},k),G.current=e,null==C||C(e)}),[]);o.useEffect((function(){if(K){if("undefined"!=typeof window&&!le){var e,t=null==G||null===(e=G.current)||void 0===e?void 0:e.getBoundingClientRect(),r=parseFloat(H("--dv-carousel-column-margin")),n=parseFloat(H("--dv-carousel-column-gap"));if(t&&r&&n){me("default");var o=r+n,i=r+n,a=t.left<=o,l=window.innerWidth-t.right<=i;a&&me("left"),l&&me("right")}}if(ae&&!J){X.hoverCallback(w);var c=null==G?void 0:G.current;c&&(ve.current=window.setTimeout((function(){Ki.logManualImpression(c,"Highlight")}),300))}else!ae&&J&&(clearTimeout(ve.current),X.hoverCallback(null))}}),[ae]);var Te=o.useRef(),xe=Hf(o.useState(!1),2),Pe=xe[0],Oe=xe[1],ke=null==x?void 0:x.prerolls,Ie=o.useContext(RT).isTrailerAutoplayEnabled;o.useEffect((function(){le?Te.current=window.setTimeout((function(){return Oe(!0)}),1600):(clearTimeout(Te.current),Oe(!1))}),[le]);var Ce=Ie&&($||J)&&le&&ke?{prerolls:ke,canPlay:Pe,delay:1600,placement:Kt.StandardMiniDetails,className:Ss}:void 0,je=o.useRef();o.useEffect((function(){clearTimeout(je.current),le&&!ue?se(!0):!le&&ue&&(je.current=window.setTimeout((function(){return se(!1)}),100))}),[le]);var Le=O?Ws:gs,Ae=Hf(o.useState(!1),2),Ne=Ae[0],De=Ae[1];o.useEffect((function(){De(Boolean(E.progress&&!x))}),[]);var Me,_e,Re,Ve=Boolean(E.station)?null==E||null===(r=E.playbackActions)||void 0===r?void 0:r[0]:If(E,x),We=E.images,Fe=E.hideThisAction,Be=E.titleID,Ue=E.widgetType,He=E.refMarker,Ge=E.title,ze=E.liveInfo,Qe=E.entityType,Ye=null==We||null===(n=We.cover)||void 0===n?void 0:n.url,Ke=E.displayTitle,Ze=null==We||null===(i=We.cover)||void 0===i?void 0:i.alternateText,Xe=o.useContext(Dl),Je=Wf(D,N,_,w),$e=zf(Xe,E),et=E.synopsis,tt=E.releaseYear,rt=E.contentMaturityRating,nt=E.maturityRatingBadge,ot=null!==(l=null==x?void 0:x.entitlementCues)&&void 0!==l?l:E.entitlementCues;Ve&&Qf(Ue)&&(Re=o.createElement(Ou,{playbackAction:Ve,titleId:Be,carouselRefTag:E.refMarker,buttonVariant:Pu.Invisible}));var it=null!==(c=null==x?void 0:x.progress)&&void 0!==c?c:E.progress,at=Boolean((null==it?void 0:it.percentage)&&it.percentage>0),lt=Boolean(le||Ne),ut=at&&lt?it:void 0;_e=o.createElement(bf,{progress:ut,hovered:le});var st,ft,dt,pt,mt=Hf(o.useState(zs(E.station)),2),vt=mt[0],yt=mt[1],ht=zs(E.station,1),gt=function(e,t,r){var n,o,i;return{displayTitle:qs(t,e),stationTitle:null===(n=e.station)||void 0===n?void 0:n.name,episodeTitle:null==t?void 0:t.metadata.title,currentBroadcastStartTime:null==t?void 0:t.start,nextBroadcastTitle:null!==(o=null==r?void 0:r.metadata.seriesTitle)&&void 0!==o?o:null==r?void 0:r.metadata.title,nextBroadcastStartTime:null==r?void 0:r.start,nextUpText:null==e||null===(i=e.station)||void 0===i?void 0:i.strings.nextUp}}(E,vt,ht);if(vt){var bt,wt,Et,St,Tt,Pt,Ot;st={broadcast:vt,nextBroadcastCallback:function(){yt(zs(E.station))}},Ye=null===(bt=vt.metadata.image)||void 0===bt?void 0:bt.url,Ke=gt.displayTitle,Ze=null===(wt=vt.metadata.image)||void 0===wt?void 0:wt.alternateText,ft=null===(Et=E.promotedAcquisitionGroup)||void 0===Et?void 0:Et.label,dt=null===(St=E.link)||void 0===St?void 0:St.url;var kt=vt.metadata;et=kt.synopsis,tt=kt.releaseYear,rt=kt.contentMaturityRating,Me=o.createElement(xf,{colour:null===(Tt=vt.metadata.linearBadge)||void 0===Tt?void 0:Tt.colour,label:null===(Pt=vt.metadata.linearBadge)||void 0===Pt?void 0:Pt.label,className:Fs}),_e=o.createElement(bf,{title:null===(Ot=E.station)||void 0===Ot?void 0:Ot.name,playable:void 0!==Ve,hovered:le,linearProgress:st})}if((0,Hs.g2)(Qe)){var It,Ct,jt=Qe==Hs.Ze?null==ze?void 0:ze.timeBadge:void 0;_e=o.createElement(bf,{title:Ge,dateTime:jt,hovered:le}),Me=o.createElement(Of,{liveInfo:ze,className:Fs}),pt=null==x?void 0:x.playbackActions.slice(1),ft=null==x||null===(It=x.promotedAcquisitionGroup)||void 0===It?void 0:It.label,dt=null==x||null===(Ct=x.promotedAcquisitionGroup)||void 0===Ct?void 0:Ct.url}return o.useEffect((function(){if(!Ye){var e=E.station?"station: ".concat(E.channelId):"title ".concat(Be);V.count("MissingImageCard",1,!1),V.warn("Missing cover image in Card for ".concat(e))}}),[]),o.createElement("article",Bf({className:a()(Le,T,(u={},Uf(u,Vs,!S&&!le),Uf(u,Es,le),Uf(u,Os,ue),u))},$&&{onMouseOver:ge,onMouseLeave:be,onBlur:Ee},{ref:Se,"data-card-title":E.title,"data-card-entity-type":E.entityType,"data-card-position":w,"data-testid":"card"}),F&&Fe&&Be&&o.createElement("section",{className:Ds},o.createElement("div",{className:Ms},o.createElement(qe.Text,{string:F}),o.createElement(xt,{hideThisAction:Fe,titleID:Be,buttonStyle:_s,textStyle:Rs,isInDropdown:!1,callback:U}))),he&&ye.removedOverlayMessage&&o.createElement(Vf,{message:ye.removedOverlayMessage,undoText:ye.undoMessage,onUndo:ye.undo}),o.createElement("section",{className:a()(ks,Uf({},Is,!O))},!he&&!F&&o.createElement(o.Fragment,null,o.createElement(ka,{className:a()(bs,(s={},Uf(s,Cs,"left"===de),Uf(s,js,"right"===de),s)),imageClassName:Ts,imageWrapperClassName:ws,isCircle:O,imageUrl:Ye,alternateText:Ze,fallbackTitle:Ke,url:null==E||null===(f=E.link)||void 0===f?void 0:f.url,deeplinkFallbackUrl:null===(d=E.link)||void 0===d?void 0:d.deeplinkFallbackUrl,deeplinkType:$e,parentElement:G.current,backgroundTrailerConfig:Ce,hasProgress:at,badge:Me,cardOverlay:_e,playButtonOverlay:Re,linkAriaRole:J?"link":"button",onPackshotLinkKeyDown:we,noBottomCornerRadiusLink:J,refMarker:E.refMarker,titleID:null!==(p=E.titleID)&&void 0!==p?p:null===(m=E.station)||void 0===m?void 0:m.id,shouldLazyLoadImage:Je}),le&&o.createElement(hs,{className:a()(xs,(y={},Uf(y,As,"left"===de),Uf(y,Ns,"right"===de),Uf(y,Ls,"default"===de),y)),titleID:null==E?void 0:E.titleID,playbackAction:Ve,secondaryPlaybackActions:pt,providerLogo:null==We?void 0:We.providerLogo,displayTitle:Ke,watchlistAction:null==x?void 0:x.watchlistAction,trailer:null==x?void 0:x.trailer,hideThisAction:null==E?void 0:E.hideThisAction,customerReviews:null==E?void 0:E.customerReviews,releaseYear:tt,runtime:null==E?void 0:E.runtime,dateTime:null==ze?void 0:ze.timeBadge,contentMaturityRating:rt,maturityRatingBadge:nt,synopsis:et,entitlementType:null==ot?void 0:ot.entitlementType,focusMessage:null==ot?void 0:ot.focusMessage,highValueMessage:null==ot?void 0:ot.highValueMessage,hideThisCallback:U,linearProps:gt,callToActionButtonLabel:ft,callToActionButtonLink:dt,carouselRefTag:E.refMarker,libraryItemActions:null==E?void 0:E.libraryItemActions}))),!he&&!F&&o.createElement(ct,{message:null==ot||null===(g=ot.glanceMessage)||void 0===g?void 0:g.message,icon:null==ot||null===(b=ot.glanceMessage)||void 0===b?void 0:b.icon,className:Ps,hideIcon:"Store"===R,takeUpSpaceIfEmpty:I}))})),Qf=function(e){return"LiveLinearCard"===e},Yf="c3svnh",Kf="+OSZzQ",Zf="Xa7aAK",Xf="YxKE01",Jf="LLws87",$f="EPBbt1";function ed(e){return ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(e)}function td(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ed(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ed(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ed(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var od=function(e){var t=e.children,r=o.useContext(pe).isTouchDevice,n=o.useContext(ke),a=n.isCarouselHovered,l=n.isCarouselFocused,c=n.isHoveringNavArrows,u=n.state,s=n.scrollToCard,f=o.useContext(D),d=rd(o.useState(null),2),p=d[0],m=d[1],v=rd(o.useState(!r),2),y=v[0],h=v[1],g=o.useRef(),b=rd(o.useState(!1),2),w=b[0],E=b[1],S=o.useRef();o.useEffect((function(){clearTimeout(S.current),null===p?w&&(S.current=window.setTimeout((function(){return E(!1)}),100)):E(!0)}),[p]);var T=rd(o.useState(!1),2),x=T[0],P=T[1];o.useEffect((function(){var e=f.connected&&f.isScrolling;P(!!((a||l||e)&&!(c&&!e)))}),[a,l,f.connected&&f.isScrolling,c]),o.useEffect((function(){x||m(null)}),[x]),o.useEffect((function(){var e;y!==(e=!r&&!x)&&(clearTimeout(g.current),e?s(u.min):h(!1))}),[x]);var O=o.useMemo((function(){return{connected:!0,cardIndexWithMiniDetails:p,actions:{hoverCallback:m}}}),[p]);return o.createElement("div",{className:i(td({},Jf,w))},o.createElement(Bs.Provider,{value:O},t))},id="CUqrUf",ad="whIpcm",ld="fAKy1i",cd="o86fri",ud="wtkZWr",sd="u-vmzo";function fd(e){return fd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(e)}function dd(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==fd(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==fd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===fd(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pd=function(e){var t,r=e.title,n=e.facetText,i=e.offerType,l=e.entitlementType,c=e.children,u=e.className,s=r.trim();if(!s)return null;if("SVOD"===i)t=o.createElement("div",{className:ad},n&&o.createElement(qe.Text,{testID:"svod-facet-text",string:n,tag:"span",className:a()(ud,ld,sd)}),o.createElement(qe.Text,{testID:"carousel-title",tag:"span",string:s}));else{var f="NotEntitled"===l;t=o.createElement("div",{className:ad},n&&o.createElement(o.Fragment,null,o.createElement(qe.Text,{testID:"facet-text",string:n,tag:"span",className:a()(ld,dd({},cd,f))}),o.createElement(qe.Text,{string:":",tag:"span",className:a()(sd,dd({},cd,f))})),o.createElement(qe.Text,{testID:"carousel-title",string:s,tag:"span",className:a()(dd({},cd,f))}))}return o.createElement(Nc,{className:a()(id,u)},t,c)},md=r("./node_modules/@amzn/dvui/dist/Icons/LinkArrow.js"),vd=r.n(md),yd="KJx9ci",hd="GnSDwP",gd=function(e){return o.createElement("a",{href:e.url,"aria-label":null==e?void 0:e.label,className:i(yd,null==e?void 0:e.className),"data-testid":"see-more"},o.createElement("span",{className:hd},null==e?void 0:e.label),o.createElement(vd(),null))};function bd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ed=function(e){var t,r=null!==(t=e.text)&&void 0!==t?t:e.title;if(r){var n=null==e?void 0:e.entitlementCues,i=null==n?void 0:n.entitledCarousel,a=null==n?void 0:n.offerType,l=e.seeMoreLink,c=null==e?void 0:e.facetText;return o.createElement("section",{className:Yf},o.createElement(pd,{title:r,facetText:c,entitlementType:i,offerType:a},(null==l?void 0:l.url)&&o.createElement(gd,{url:l.url,label:null==l?void 0:l.label,className:"NotEntitled"===i&&"SVOD"!==a?Zf:void 0})))}return null},Sd=1.5,Td=2,xd=3,Pd=4,Od=5,kd=function(e){var t=e.entities,r=e.actions,n=e.enrichments,a=e.header,l=e.otherWrapperClassName,c=o.useContext(pe),u=c.isTouchDevice,s=c.pageWidth,f=c.hasPageMounted,d=o.useRef(Object.values(t).some((function(e){var t,r;return!(null===(t=e.entitlementCues)||void 0===t||null===(r=t.glanceMessage)||void 0===r||!r.message)}))),p=o.useCallback((function(){var e=Od;return Df.is(Nf.PHONE)?e=Sd:window.innerWidth<=680?e=Td:Df.is(Nf.TABLET)?e=xd:Df.is(Nf.LAPTOP)&&(e=Pd),e}),[]),m=bd(o.useState(f?p():Od),2),v=m[0],y=m[1];o.useEffect((function(){y(p())}),[]),o.useEffect((function(){y(p())}),[s]);var h=o.useCallback((function(e){if(!u){var n=t.filter((function(t,r){return e.has(r+1)}));if(n.length>0){var o=n.filter((function(e){var t;return null!==(t=e.entityID)&&void 0!==t?t:e.titleID})).map((function(e){var t;return null!==(t=e.entityID)&&void 0!==t?t:e.titleID}));r.getEnrichments(o)}}}),[u,t,r]),g=o.useCallback((function(e,t,r){var i,a;return o.createElement(qf,{card:e,isVisible:t,enrichment:null==n?void 0:n[null!==(i=null!==(a=e.entityID)&&void 0!==a?a:e.titleID)&&void 0!==i?i:""],index:r,renderGlanceSpaceIfNoGlanceMessage:d.current})}),[n]);return o.createElement(M,null,o.createElement(ze,{className:Xf,wrapperClassName:i(Kf,l),navigation:Be.Regular,cards:t,cardsVisibilityThreshold:.3,customCarouselContainer:od,header:a,renderCard:g,performantRender:{maxCardNum:v,onFirstTimeCardRender:h},testID:"standard-carousel"}))},Id=function(){return o.createElement(RT.Consumer,null,(function(e){var t=e.container,r=e.actions,n=e.enrichments;return o.createElement(kd,{entities:t.entities,actions:r,header:Ed(t),enrichments:n})}))};Id.displayName="StandardCarousel";var Cd=Id,jd="bv3JXH",Ld="hLPm0W",Ad="gUb7Qp",Nd="C81Ge2",Dd="LSqtDy",Md="_3gHUdf",_d="wrUgu5",Rd="bwragx",Vd="bNPVex",Wd="NAHZF5",Fd="_2eO272",Bd="zDj22O",Ud="ql6HCx",Hd="aoQ9tU",Gd="DYBas-",zd="Zgte-n",qd="hj9oUW",Qd="Dh0fsf",Yd="AIBqlu",Kd="buzKCX",Zd="Ozxx6Y",Xd="_8qiQr1",Jd="YQI101",$d="R1vcpH",ep="xcP7NY",tp="yCgBRs",rp="JBK4DO",np="K8HVp6",op="G3NyeE",ip="_2Mrhyf",ap=r("./node_modules/@amzn/dvui/dist/Icons/Add.js"),lp=r("./node_modules/@amzn/dvui/dist/Icons/Info.js"),cp="y3gsEM",up="gPlQH3",sp="kb934y",fp="QYsdaS",dp=function(e){var t=e.titleId,r=e.playbackAction,n=e.playbackGroup,a=e.streamSelectorProps,l=e.promotedAcquisitionGroup,c=e.link,u=e.isInverted,s=void 0!==u&&u,f=e.withTransparentIcons,d=void 0!==f&&f,p=e.useCircularPlayButton,m=void 0===p||p,v=e.className,y=e.carouselRefTag,h=o.useContext(pe).getString,g=o.useContext(RT).container,b=h("DV_WEB_MORE_DETAILS"),w=null==c?void 0:c.url,E="StandardHero"===g.containerType||"SuperCarousel"===g.containerType||"TentpoleHero"===g.containerType||"Charts"===g.containerType,S=null==l?void 0:l.label,T=E&&S?b:S;return o.createElement("div",{className:i(cp,v)},r&&o.createElement("div",{className:up},o.createElement(Ou,{buttonVariant:m?Pu.Circular:Pu.Square,playbackAction:r,playbackGroup:n,streamSelectorProps:a,label:r.label,titleId:t,carouselRefTag:y})),!r&&T&&w&&o.createElement(fc,{label:T,isInverted:!0,href:w,className:fp,testID:"promotion"}),t&&o.createElement(pp,{titleId:t,isInverted:s,withTransparentIcons:d,carouselRefTag:y}),w&&(!t&&b?o.createElement(fc,{label:b,href:w,isInverted:!0,testID:"details"}):o.createElement(Tt,{icon:o.createElement(lp.Info,null),href:w,isInverted:s,isTransparentBackground:d,label:h("DV_WEB_DETAILS_TOOLTIP"),testID:"details"})))},pp=function(e){var t=o.useContext(RT),r=t.actions,n=t.enrichments,i=o.useContext(pe).getString,a=e.titleId;if(a){var l,c=null===(l=n[a])||void 0===l?void 0:l.watchlistAction;if(c){var u="Remove"===c.tag;return o.createElement(Tt,{icon:u?o.createElement(ql.Tick,null):o.createElement(ap.Add,null),className:sp,isInverted:e.isInverted,isTransparentBackground:e.withTransparentIcons,onSecondaryButtonClick:function(t){r.onWatchlistToggle(t,a,e.carouselRefTag)},isDisabled:!a,ariaLabel:"string"==typeof c.text?c.text:c.text.string,label:i("DV_WEB_WATCHLIST_TOOLTIP"),testID:u?"watchlist-remove":"watchlist-add"})}}return null};function mp(e){return mp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(e)}function vp(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==mp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==mp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===mp(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yp.apply(this,arguments)}var hp=function(e){var t,r=e.displayTitle,n=e.playbackAction,a=e.playbackGroup,l=e.promotedAcquisitionGroup,c=e.link,u=e.highValueMessage,s=e.focusMessage,f=e.maturityRating,d=e.titleID,p=e.isCardActive,m=e.images,v=e.liveEventMetadata,y=e.enrichmentAttempted,h=e.carouselRefTag,g=e.shouldLazyLoadImage,b=m||{},w=b.providerLogo,E=b.titleLogo,S=o.useContext(pe).isInResiliencyMode,T=!o.useContext(RT).container.entities.some((function(e){return e.titleID}))||S,x=y||T,P={eventTitle:r,triggerLocation:"StandardHero",liveInfo:v},O=o.createElement("div",{className:i(ep)},o.createElement("div",{className:Jd},s&&o.createElement(ct,{icon:s.icon,message:s.message}),o.createElement(rs,yp({},f,{className:$d}))),o.createElement(dp,{className:i(tp,vp({},op,x)),playbackAction:n,playbackGroup:a,streamSelectorProps:P,link:c,titleId:d,promotedAcquisitionGroup:l,carouselRefTag:h})),k=void 0!==(null==E?void 0:E.url);return o.createElement("section",{className:i(Gd,vp({},np,p)),"data-testid":"title-details"},(null==u?void 0:u.message)&&o.createElement(ns,{message:u.message,className:i(Kd)}),v&&("UPCOMING"===v.status?o.createElement(Cc,{className:i(Zd)},v.timeBadge):o.createElement(Of,{liveInfo:v,className:i(Xd)})),r&&o.createElement(ds,{title:r,headingLevel:fs.Mega,headingClassName:i(rp,(t={},vp(t,Qd,k),vp(t,zd,!k),vp(t,qd,!k&&v),t)),titleLogoOptions:E?{url:E.url,imageClassName:ip,shouldLazyLoadImage:g}:void 0,providerLogoOptions:w?{url:w.url,alt:w.alternateText,wrapperClassName:i(rp,Yd),shouldLazyLoadImage:g}:void 0,url:null==c?void 0:c.url,titleID:d}),O)};function gp(e){return gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(e)}function bp(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==gp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==gp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===gp(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ep(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ep(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ep(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Sp=[1440,2160,2880,3840],Tp=[720,1080,1440,1920],xp=function(e){var t,r,n,a=e.images,l=e.displayTitle,c=e.isVisibleInCarousel,u=e.size,s=e.link,f=e.titleID,d=e.entitlementCues,p=e.index,m=e.refMarker,v=e.widgetType,y=e.context,g=e.liveInfo,b=e.contentMaturityRating,w=e.playbackActions,E=e.itemAnalytics,S=e.shouldAutoRotate,T=e.setAutoRotateActive,x=o.useRef(null),P=o.useRef(),O=wp(o.useState(!1),2),k=O[0],I=O[1],C=wp(o.useState(Wo.Init),2),j=C[0],L=C[1],A=o.useContext(RT),N=A.container,D=N.impressionData,M=N.containerType,_=A.enrichments,R=A.enrichmentAttempted,V=A.isTrailerAutoplayEnabled,W=A.index,F=A.consumingWidgetType,B=(0,h.L1)().logger,U=Wf(F,M,W,p),H=_[null!=f?f:""],G=null!=H?H:{},z=G.prerolls,q=G.promotedAcquisitionGroup,Q=Cf(w,H),Y=jf(H),K=H?H.entitlementCues:d,Z=o.useContext(ke).isCarouselVisible,X=o.useContext(pe),J=X.isPageVisible,$=X.pageWidth,ee=X.isTouchDevice,te=X.isDesktopDeviceVariant,re=X.shouldUseReducedMotion,ne=X.isPlayerVisible,oe=wp(o.useState(!1),2),ie=oe[0],ae=oe[1],le=wp(o.useState(!0),2),ce=le[0],ue=le[1],se=o.useContext(wu).isSsmOpen;o.useEffect((function(){ae(c&&Z&&J)}),[c,Z,J]);var fe=null==a||null===(t=a.hero)||void 0===t?void 0:t.url,de=o.useCallback((function(e){var t=null==x?void 0:x.current;t||e===t?t&&!e&&Ki.unobserve(t):D&&fe&&v&&m&&e&&Ki.observe(e,{collectionImpressionData:D,titleID:f,imageURL:fe,refMarker:m,widgetType:v,carouselPosition:W,itemPosition:p,itemAnalytics:E},y),x.current=e}),[]),me=o.useContext(ke),ve=(me.state,me.scrollToCard),ye=function(){var e=p+1+1;e>u?(T(!1),ve(1)):ve(e)};o.useEffect((function(){0}),[$]),o.useEffect((function(){ue(Df.isAtleast(ee?Nf.DESKTOP:Nf.LAPTOP))}),[$,ee]);var he=z&&ce&&V;o.useEffect((function(){if(!(re||ne||se)&&S){if(ie){var e,t,r=null!==(e=null===(t=x.current)||void 0===t?void 0:t.matches(":hover"))&&void 0!==e&&e;if(he){if(!k)if([Wo.Stop,Wo.Error].includes(j)){var n=j===Wo.Error?3e3:r?5e3:1e3;P.current=window.setTimeout((function(){ye()}),n)}else j===Wo.Init&&clearTimeout(P.current)}else P.current=window.setTimeout((function(){return ye()}),5e3)}else clearTimeout(P.current);return function(){return clearTimeout(P.current)}}}),[ie,k,re,j,se,S]),o.useEffect((function(){(re||ne)&&clearTimeout(P.current),T(!re&&!ne)}),[re,ne]),o.useEffect((function(){fe||(B.count("MissingImageStandardHeroCard",1,!1),B.warn("Missing hero image in StandardHeroCard for title ".concat(f)))}),[]);var ge=function(){null!=x&&x.current&&Ki.logManualImpression(null==x?void 0:x.current,"Select")};return o.createElement("article",{ref:de,className:i(Ld,(r={},bp(r,Md,!c),bp(r,Dd,he&&k),bp(r,Ad,!te),bp(r,Bd,ee),bp(r,Ud,!ee),r)),"data-testid":"standard-hero-card"},o.createElement("div",{className:i(Hd,jd)},fe&&o.createElement(o.Fragment,null,o.createElement(Si,{alt:null==a||null===(n=a.hero)||void 0===n?void 0:n.alternateText,src:fe,imageClassName:Vd,wrapperClassName:Nd,aspectRatio:te?Pt.ThreeByOne:Pt.SixteenByNine,sizesOptions:{defaultSrcSize:te?815:2260,srcSizes:[{"max-tablet-lowest":400},{"max-laptop-lowest":815},{"max-desktop-lowest":1300},{"max-desktop-hd-lowest":1650},{"max-desktop-uhd-lowest":2260}]},srcSetWidths:te?Sp:Tp,baseValue:te?2880:1440,shouldLazyLoad:U,debugID:f}),o.createElement("div",{className:i(bp({},Wd,te))})),o.createElement("a",{href:null==s?void 0:s.url,className:Fd,"data-testid":"image-link",onClick:ge,"aria-label":l},l),te&&o.createElement(hp,{displayTitle:l,link:s,titleID:f,playbackAction:Q,playbackGroup:Y,highValueMessage:null==K?void 0:K.highValueMessage,focusMessage:null==K?void 0:K.focusMessage,maturityRating:b,images:a,isCardActive:ie,promotedAcquisitionGroup:q,liveEventMetadata:g,enrichmentAttempted:R,carouselRefTag:m,shouldLazyLoadImage:U}),he&&ie&&!ne&&o.createElement(Jo,{key:f,canPlay:!0,delay:2e3,placement:Kt.StandardHero,playback:Xo.Restart,prerolls:z,onStateChange:L,playing:I,className:_d,playerIsActive:!1,link:k?null==s?void 0:s.url:void 0,draperParentListeners:{onClick:ge},videoFadeOverlayClassname:Rd,refMarker:m,titleID:f})))};xp.displayName="StandardHeroCard";var Pp=(0,y.s6)(xp),Op="jVpjZD",kp="cIbiJK",Ip="Dz+gPK";function Cp(e){return Cp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(e)}function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jp.apply(this,arguments)}function Lp(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Cp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Cp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Cp(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ap=function(e){var t=e.index,r=e.isActive,n=e.handleNavigation,a=o.useCallback((function(){return n(t)}),[t,n]);return o.createElement("li",jp({"aria-hidden":!0,className:i(kp,Lp({},Ip,r)),onClick:a},r&&{"data-testid":"active-dot"}))},Np=function(e){for(var t=e.size,r=e.handleNavigation,n=e.activeIndex,a=e.className,l=[],c=1;c<=t;++c)l.push(o.createElement(Ap,{key:c,index:c,isActive:n===c,handleNavigation:r}));return o.createElement("ul",{className:i(Op,a),"data-testid":"navigation-slider","aria-hidden":!0},l)},Dp="qYc0AS",Mp="PkqXx3";function _p(){return _p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_p.apply(this,arguments)}function Rp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Wp=function(e){var t=e.size,r=o.useContext(ke),n=r.state,i=r.scrollToCard;return o.createElement(Np,{size:t,handleNavigation:i,activeIndex:n.min,className:Dp})},Fp=function(){var e=o.useContext(RT),t=e.actions,r=e.container,n=Rp(o.useState(!0),2),i=n[0],a=n[1],l=r.entities,c=l.length>0;o.useEffect((function(){var e=l.filter((function(e){return e.titleID})).map((function(e){return e.titleID}));t.getEnrichments(e)}),[c]);var u=o.useCallback((function(e,t,r){return o.createElement(Pp,_p({shouldAutoRotate:i,setAutoRotateActive:a,isVisibleInCarousel:t,index:r},e,{size:l.length}))}),[i]);return o.createElement(ze,{cards:l,navigation:Be.Regular,className:W,wrapperClassName:Mp,renderCard:u,carouselVisibilityThreshold:.7,footer:l.length>1&&o.createElement(Wp,{size:l.length}),testID:"standard-hero"})};Fp.displayName="StandardHero";var Bp=Fp,Up="WKVLn6",Hp="w93mn5",Gp="Tspi18",zp="_76wgdZ",qp="ZJ+MZQ",Qp="LKIkHM",Yp="xzH5Px",Kp="wcr54O",Zp="sIyVVJ",Xp="JAd8bO",Jp="t4tVxF",$p="_0sEABY",em="anunnx",tm="CPHis2",rm="_2CfE4M",nm="ECbJrQ",om="Z0msKX",im="_5Weo1T",am="hkAVQf",lm="+a4baI",cm="VZKXTg",um="cVuct3";function sm(e){return sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(e)}function fm(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==sm(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==sm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===sm(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var dm=[1080,2160,2880,3840],pm=[1e3,1125,1500,2e3],mm=function(e){var t,r=e.url,n=e.ariaLabel,i=e.shouldBeVisible,l=e.shouldLazyLoadImage,c=e.titleID,u=o.useContext(pe),s=u.isDesktopDeviceVariant,f=u.isTabletDeviceVariant,d=!s&&!f;return o.createElement("div",{className:a()(tm,i?am:im,(t={},fm(t,rm,f),fm(t,nm,d),t)),"data-testid":"tentpole-hero-image"},o.createElement(Si,{alt:n,src:r,aspectRatio:s?Pt.SixteenByNine:Pt.TwoByThree,sizesOptions:{defaultSrcSize:s?2400:880,srcSizes:[{"max-tablet-lowest":450},{"max-laptop-lowest":880},{"max-desktop-lowest":1400},{"max-desktop-hd-lowest":1800},{"max-desktop-uhd-lowest":2400}]},srcSetWidths:s?dm:pm,baseValue:s?2880:1500,imageClassName:om,shouldLazyLoad:l,debugID:c}),o.createElement("div",{className:s?lm:f?um:cm}))},vm="FmypN+",ym="zLJeeH",hm="_4dHokH",gm="vQLwG0",bm="PtNZ1f",wm="INNVnS",Em="LQhFNd",Sm="ricmob",Tm="zsirBJ",xm="JEptkj",Pm="Rld4qj",Om="hd+LCp",km="jrYMAX",Im="PfW69h",Cm="gzWYBG",jm="JWMhG0",Lm="BJGaIn",Am="fDle0A",Nm="_5GvTVc",Dm="-a84F4",Mm="N+2-zX",_m="obgSGX",Rm="Z01qGr",Vm="pXqVOQ";function Wm(e){return Wm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(e)}function Fm(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Wm(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Wm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Wm(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bm=function(e){var t,r,n,a,l,c=o.useContext(pe),u=c.isDesktopDeviceVariant,s=c.isTabletDeviceVariant,f=e.containerItem,d=e.highValueMessage,p=e.trailerState,m=e.detailPageLink,v=null===(t=f.images)||void 0===t?void 0:t.titleLogo,h=null===(r=f.images)||void 0===r?void 0:r.providerLogo,g=p===Wo.Play,b=null!==(n=null===(a=(0,y.G4)().render)||void 0===a?void 0:a.isRTL)&&void 0!==n&&n;return o.createElement("div",{className:i(hm,Fm({},gm,g))},o.createElement("div",{className:i(bm,Fm({},wm,g))},(null==d?void 0:d.message)&&o.createElement(ns,{message:d.message})),o.createElement("div",{className:Em},o.createElement(Of,{liveInfo:e.containerItem.liveInfo,className:Sm})),f.displayTitle&&o.createElement(ds,{title:f.displayTitle,baseValue:1e3,headingLevel:fs.Mega,headingClassName:i(Pm,(l={},Fm(l,Om,null==v?void 0:v.url),Fm(l,Im,!(null!=v&&v.url)),Fm(l,Cm,g),l)),titleLogoOptions:v?{url:v.url,shouldLazyLoadImage:e.shouldLazyLoadImage}:void 0,providerLogoOptions:h?{url:h.url,wrapperClassName:i(km,Fm({},Cm,g)),alt:h.alternateText,shouldLazyLoadImage:e.shouldLazyLoadImage}:void 0,url:m,titleID:f.titleID}),(u||s)&&f.synopsis&&o.createElement(as,{synopsis:f.synopsis,className:i(Tm,Fm({},xm,g&&!b))}))},Um=function(e){var t,r=o.useContext(pe),n=r.isDesktopDeviceVariant,a=r.isTouchDevice,l=o.useContext(RT).enrichmentAttempted,c={eventTitle:e.containerItem.displayTitle,triggerLocation:"TentpoleHero",liveInfo:e.containerItem.liveInfo};return o.createElement("div",{className:i(vm,Fm({},Rm,e.isContainerActive)),"data-testid":"title-details"},o.createElement("div",{className:i(ym,Fm({},_m,e.trailerState===Wo.Play))},o.createElement(Bm,e),o.createElement("div",{className:i(jm,Fm({},Lm,e.trailerState===Wo.Play))},o.createElement("div",{className:i(Am)},o.createElement("div",{className:Dm},o.createElement(ct,e.focusMessage),o.createElement(rs,e.containerItem.contentMaturityRating)),o.createElement(dp,{playbackAction:e.playbackAction,playbackGroup:e.playbackGroup,titleId:e.containerItem.titleID,streamSelectorProps:c,link:e.containerItem.link,promotedAcquisitionGroup:e.promotedAcquisitionGroup,withTransparentIcons:!n||a,useCircularPlayButton:n&&!a,className:i(Nm,(t={},Fm(t,Mm,!n||a),Fm(t,Vm,l),t)),carouselRefTag:e.containerItem.refMarker})))))};function Hm(e){return Hm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(e)}function Gm(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Hm(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Hm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Hm(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qm=["StandardCarousel","SuperCarousel","Nodes"],Ym=function(){var e,t,r,n,a,l,c,u=o.useContext(pe),s=u.pageWidth,f=u.isDesktopDeviceVariant,d=u.isTabletDeviceVariant,p=u.isPageVisible,m=u.isPlayerVisible,v=o.useContext(RT),y=v.actions,g=v.container,b=v.enrichments,w=v.isTrailerAutoplayEnabled,E=v.nextContainer,S=v.consumingWidgetType,T=v.index,x=(0,h.L1)().logger,P=zm(o.useState(!1),2),O=P[0],k=P[1],I=zm(o.useState(!1),2),C=I[0],j=I[1],L=zm(o.useState(!1),2),A=L[0],N=L[1],D=zm(o.useState(void 0),2),M=D[0],_=D[1],R=o.useRef(null),V=o.useRef(!1),W=null===(e=g.entities)||void 0===e?void 0:e[0],F=(null==W?void 0:W.titleID)||"",B=null==b?void 0:b[F],U=null==B?void 0:B.prerolls;o.useEffect((function(){var e=g.entities.filter((function(e){return e.titleID})).map((function(e){return e.titleID}));y.getEnrichments(e)}),[]),o.useEffect((function(){V.current=Df.isSmallerThan(Nf.LAPTOP)}),[s]),o.useEffect((function(){k(C&&p)}),[C,p]);var H=o.useCallback((function(e){var t=zm(e,1)[0],r=t.isIntersecting,n=t.intersectionRatio;j(r&&n>=.7)}),[]);(0,Ee.S)({enabled:!0,target:R,onIntersect:H,threshold:.7});var G=!f&&!d,z=A?Xp:Jp,q=Qm.includes((null==E?void 0:E.containerType)||""),Q=q?qp:Hp,Y=q?Yp:Qp,K=!M||[Wo.Init,Wo.Stop,Wo.Pause,Wo.Error].includes(M),Z=null!==(t=null==B?void 0:B.entitlementCues)&&void 0!==t?t:W.entitlementCues,X=null==W||null===(r=W.images)||void 0===r||null===(n=r.hero)||void 0===n?void 0:n.url,J=null==W||null===(a=W.link)||void 0===a?void 0:a.url;o.useEffect((function(){X||(x.count("MissingImageTentpoleHero",1,!1),x.warn("Missing hero image in TentpoleHero for title ".concat(F)))}),[]);var $=Wf(S,g.containerType,T,-1);return o.createElement("section",{"data-testid":"tentpole-hero",className:i(Up),ref:R},o.createElement("div",{className:i(Q,(l={},Gm(l,zp,d),Gm(l,Gp,G),l)),"data-testid":"tentpole-hero-content"},X&&o.createElement(mm,{url:X,ariaLabel:null==W?void 0:W.title,shouldBeVisible:K,shouldLazyLoadImage:$,titleID:F}),!A&&o.createElement("a",{href:J,className:i(Y,(c={},Gm(c,zp,d),Gm(c,Gp,G),c)),"data-testid":"image-link"},W.displayTitle),f&&o.createElement(o.Fragment,null,U&&!V.current&&w&&O&&!m&&o.createElement(Jo,{key:F,className:i(Kp,z),canPlay:!0,delay:2e3,playback:Xo.Restart,playing:N,prerolls:U,onStateChange:_,placement:Kt.TentpoleHero,link:A?J:void 0,playerIsActive:!1,refMarker:W.refMarker,titleID:W.titleID}),o.createElement("div",{className:i(Zp,z)})),o.createElement("div",{className:i(em,$p)},o.createElement(Um,{containerItem:W,isContainerActive:O,playbackAction:If(W,B),playbackGroup:jf(B),highValueMessage:null==Z?void 0:Z.highValueMessage,focusMessage:null==Z?void 0:Z.focusMessage,promotedAcquisitionGroup:null==B?void 0:B.promotedAcquisitionGroup,trailerState:M,detailPageLink:J,shouldLazyLoadImage:$}))))},Km="GpKcvg",Zm="NAtV-m",Xm="Zsox55",Jm="_4HpUvK",$m="EpXO-Z",ev=function(e){return e[e.Show=0]="Show",e[e.TrailerPlaying=1]="TrailerPlaying",e[e.TrailerFinished=2]="TrailerFinished",e[e.Hidden=3]="Hidden",e[e.Error=4]="Error",e}({}),tv=function(e,t){return"".concat(e,"->").concat(t)},rv=new Set([tv(ev.Show,ev.TrailerPlaying),tv(ev.TrailerPlaying,ev.TrailerFinished),tv(ev.TrailerFinished,ev.Hidden),tv(ev.Hidden,ev.Show),tv(ev.Show,ev.Hidden),tv(ev.TrailerPlaying,ev.Hidden),tv(ev.Show,ev.Error),tv(ev.TrailerPlaying,ev.Error),tv(ev.Error,ev.Hidden)]);function nv(e,t){return rv.has(tv(e,t))?t:e}var ov=[720,1080,1440,1920],iv=function(e){var t=e.imageUrl,r=e.ariaLabel,n=e.state,i=e.shouldLazyLoadImage,l=e.titleID,c=[ev.Show,ev.TrailerFinished,ev.Error].includes(n)?$m:Jm,u=a()(Km,c);return o.createElement("div",{className:u,"data-testid":"backgroundImage"},o.createElement(Si,{alt:r,src:t,imageClassName:Zm,aspectRatio:Pt.SixteenByNine,sizesOptions:{defaultSrcSize:2400,srcSizes:[{"max-tablet-lowest":450},{"max-laptop-lowest":880},{"max-desktop-lowest":1400},{"max-desktop-hd-lowest":1800},{"max-desktop-uhd-lowest":2400}]},srcSetWidths:ov,baseValue:1440,shouldLazyLoad:i,debugID:l}),o.createElement("div",{className:Xm}))},av="RXvOVk",lv="lLEXNv",cv="_1Tpx9J",uv="TCZGs+",sv="_0qE1LZ",fv="xDJxMc",dv="hA8YWI",pv="RvRXeD",mv="_72MAz3",vv="_0bg6nq",yv="-VYF0N",hv="_1DUh6D",gv="cimRsP",bv="_5dRcc7",wv="Ms1fHj",Ev="_20+xJa",Sv="_9qBKft",Tv="nTe-n3",xv="jvC8FO",Pv="WQExo4",Ov="mLMMa3";function kv(e){return kv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kv(e)}function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iv.apply(this,arguments)}function Cv(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==kv(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==kv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===kv(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jv(e){return function(e){if(Array.isArray(e))return Lv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Lv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Av=function(e){var t,r,n,a,l,c=e.containerItem,u=e.highValueMessage,s=null===(t=c.images)||void 0===t?void 0:t.titleLogo,f=null===(r=c.images)||void 0===r?void 0:r.providerLogo,d=e.state===ev.TrailerPlaying||e.state===ev.Hidden,p=c.categorizedGenres,m=p?[p.primaryGenre].concat(jv(p.secondaryGenres||[])):void 0;return o.createElement("div",{className:i(av,bv,e.state===ev.Hidden?Ev:Sv)},o.createElement("div",{className:i(sv,Cv({},Pv,d))},(null==u?void 0:u.message)&&o.createElement(ns,{message:u.message})),c.displayTitle&&o.createElement(ds,{title:c.displayTitle,baseValue:1e3,headingLevel:fs.Mega,headingClassName:i(mv,(n={},Cv(n,fv,null==s?void 0:s.url),Cv(n,pv,!(null!=s&&s.url)),Cv(n,Tv,d),Cv(n,xv,e.state===ev.TrailerFinished),n)),titleLogoOptions:s?{url:s.url,shouldLazyLoadImage:e.shouldLazyLoadImage}:void 0,providerLogoOptions:f?{url:f.url,wrapperClassName:i(dv,(a={},Cv(a,Tv,d),Cv(a,xv,e.state===ev.TrailerFinished),a)),alt:f.alternateText,shouldLazyLoadImage:e.shouldLazyLoadImage}:void 0,url:null===(l=c.link)||void 0===l?void 0:l.url,titleID:c.titleID}),o.createElement("span",{className:i(vv,Cv({},Ov,d))},c.customerReviews&&o.createElement(es,{customerReviews:c.customerReviews}),o.createElement(rs,Iv({},c.contentMaturityRating,{className:uv})),m&&o.createElement("ol",{className:yv},m.slice(0,3).map((function(e){return o.createElement("li",{key:e},e)})))),c.synopsis&&o.createElement(as,{synopsis:c.synopsis,className:i(hv,Cv({},Ov,d))}))},Nv=function(e){return o.createElement("div",{className:lv,"data-testid":"title-details"},o.createElement(Av,e),o.createElement("div",{className:i(gv)},o.createElement("div",{className:i(wv,e.state===ev.Hidden?Ev:Sv)},o.createElement(ct,Iv({className:cv},e.focusMessage)),o.createElement(dp,{playbackAction:e.playbackAction,titleId:e.containerItem.titleID,link:e.containerItem.link,promotedAcquisitionGroup:e.promotedAcquisitionGroup,carouselRefTag:e.containerItem.refMarker}))))},Dv="OhPFdi",Mv="ervlKf",_v="_8b1OaE",Rv="wJ8-iy",Vv="NSnTtP",Wv="HDvWa4",Fv="dhiDpf",Bv="q2Vjv3",Uv="hEaNw+",Hv="JyV6ce",Gv="Yq5lwT",zv="UHv3jW",qv="ZMRR6G",Qv="_0s-2BE",Yv={numberWrapper:"ZkG5T5",svgNumber0:"ukoo6j",svgNumber1:"Gl+vBx",svgNumber2:"fGf4ej",svgNumber3:"aIIX2v",svgNumber4:"+WkHxJ",svgNumber5:"DZG0Bd",svgNumber6:"M3TwRJ",svgNumber7:"YO2sFH",svgNumber8:"perE98",svgNumber9:"uTXXpm",unselected:"wd1fAu",selected:"mG+ov4",nonDesktopNumber:"_6AsT3F",card:"DQJcsT",wrapper:"jG2zso",packshotWrapper:"aC2GcO"};function Kv(e){return Kv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kv(e)}function Zv(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Kv(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Kv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Kv(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xv=function(e){var t=o.useContext(pe).isDesktopDeviceVariant;return o.createElement("article",{className:Yv.card},o.createElement("button",{className:Yv.wrapper,onClick:function(t){return e.onClick(t,e.index)}},o.createElement("div",{className:a()(Yv.numberWrapper)},o.createElement("span",{className:a()(Yv["svgNumber".concat(e.index)],e.isSelected?Yv.selected:Yv.unselected,Zv({},Yv.nonDesktopNumber,!t))})),o.createElement("span",{className:Yv.packshotWrapper},o.createElement(qf,{card:e,isVisible:!0,isCircle:!1,index:e.index,onWrapperElementChange:e.onWrapperElementChange}))))},Jv="_9WNtgt",$v="UIMET9",ey="_4RAjpL",ty="Cd0vqs",ry="P20r-D",ny="rHLkWy",oy=function(e){var t=e.title,r=e.offerType,n=e.icon,a=function(e){if(!e)return ny;switch(e){case"SVOD":return ty;case"TVOD":case"Subscription":return ry;default:return ny}}(r);return o.createElement("div",{className:Jv},o.createElement(qe.Text,{string:t,className:i(ey,a),testID:"offer-type-header-title"}),n&&o.createElement("span",{className:i($v,a)},n))},iy=r("./node_modules/@amzn/dvui/dist/Icons/Top10.js"),ay=r.n(iy);function ly(e){return ly="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(e)}function cy(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ly(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ly(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ly(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uy.apply(this,arguments)}function sy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var dy=function(){var e,t,r,n,a,l,c,u,s=sy(o.useState(0),2),f=s[0],d=s[1],p=sy(o.useState(!1),2),m=p[0],v=p[1],y=sy(o.useReducer(nv,ev.Show),2),g=y[0],b=y[1],w=sy(o.useState(!1),2),E=w[0],S=w[1],T=sy(o.useState(null),2),x=T[0],P=T[1],O=sy(o.useState(Wo.Init),2),k=O[0],I=O[1],j=o.useRef(),L=o.useRef(),A=o.useRef(null),N=o.useRef(null),D=o.useRef(!1),M=o.useRef(!1),_=o.useContext(RT),R=_.actions,V=_.container,W=_.enrichments,F=_.isTrailerAutoplayEnabled,B=o.useContext(pe),U=B.isPageVisible,H=B.pageWidth,G=B.theme,z=B.shouldUseReducedMotion,q=B.isDesktopDeviceVariant,Q=B.isPlayerVisible,Y=(0,h.L1)().logger,K=sy(o.useState(!0),2),Z=K[0],X=K[1];o.useEffect((function(){X(E&&U)}),[E,U]);var J=V.entities[f].titleID||"",$=null==W?void 0:W[J],ee=null==$?void 0:$.prerolls,te=null===(e=V.entities)||void 0===e?void 0:e[f],re=null==V||null===(t=V.entities)||void 0===t?void 0:t.length,ne=function(e,t){!D.current&&q&&(e.preventDefault(),t!==f&&(clearTimeout(j.current),oe(t)))},oe=function(e){b(ev.Hidden),L.current=window.setTimeout((function(){d(e),b(ev.Show)}),300)},ie=o.useCallback((function(){f===re-1?(clearTimeout(j.current),v(!1),oe(0)):oe(f+1)}),[f]),ae=o.useCallback((function(e){e&&g===ev.Show?b(ev.TrailerPlaying):!e&&g===ev.TrailerPlaying&&Z?b(ev.TrailerFinished):k===Wo.Error&&b(ev.Error)}),[g,k,Z]);o.useEffect((function(){b(Q?ev.Hidden:ev.Show)}),[Q]),o.useEffect((function(){M.current=Df.isLargerThan(Nf.DESKTOP_HD),D.current=Df.isSmallerThan(Nf.LAPTOP)}),[H]),o.useEffect((function(){[ev.TrailerFinished,ev.Error].includes(g)&&m&&(j.current=window.setTimeout((function(){ie()}),g===ev.Error?3e3:1e3))}),[g]),o.useEffect((function(){m&&W&&Object.keys(W).length&&Z?ee||(j.current=window.setTimeout((function(){ie()}),5e3)):clearTimeout(j.current)}),[f,ee,m,Z]),o.useEffect((function(){var e=null==V?void 0:V.entities.filter((function(e){return e.titleID})).map((function(e){return e.titleID}));e.length&&(R.getEnrichments(e),v(!0))}),[]),o.useEffect((function(){(z||Q)&&clearTimeout(j.current),v(!z&&!Q)}),[z,Q]);var le=o.useCallback((function(e){var t=sy(e,1)[0],r=t.isIntersecting,n=t.intersectionRatio;S(r&&n>=.7)}),[]);(0,Ee.S)({enabled:!0,target:A,onIntersect:le,threshold:.7}),o.useEffect((function(){Z||g!==ev.TrailerPlaying&&g!==ev.TrailerFinished?b(ev.Show):b(ev.Hidden)}),[Z]);o.useEffect((function(){var e,t=f,r=Df.isLargerThan(Nf.DESKTOP_HD)?4:3,n=Math.floor(t/r)*r+1;null===(e=N.current)||void 0===e||e.scrollToCardFirstVisible(n)}),[f]);var ce=o.useCallback((function(e,t,r){return o.createElement(Xv,uy({index:r,isSelected:f===r,onClick:ne,onWrapperElementChange:P,isVisible:t},e))}),[f]),ue=function(){x&&Ki.logManualImpression(x,"Select")},se=g===ev.TrailerPlaying,fe=se?Uv:Hv,de=o.useContext(RT),me=de.index,ve=de.consumingWidgetType,ye=de.container.containerType,he=o.useContext(pe).containerVisibility,ge=((null==he?void 0:he.min)||0)-2<me&&me<((null==he?void 0:he.max)||0)+2,be=Wf(ve,ye,me,-1),we=null!==(r=null==$?void 0:$.entitlementCues)&&void 0!==r?r:te.entitlementCues,Se=null==te||null===(n=te.images)||void 0===n||null===(a=n.hero)||void 0===a?void 0:a.url;return o.useEffect((function(){Se||(Y.count("MissingImageChartsBackgroundImage",1,!1),Y.warn("Missing hero image in ChartsBackgroundImage for title ".concat(null==te?void 0:te.titleID)))}),[]),o.createElement("section",{"data-testid":"charts-container",className:Dv},V&&V.title&&o.createElement(oy,{title:V.title,offerType:null===(l=V.entitlementCues)||void 0===l?void 0:l.offerType,icon:o.createElement(ay(),null)}),o.createElement("div",{className:i(Vv,cy({},Wv,q)),ref:A,"data-testid":"charts-content"},q&&o.createElement(o.Fragment,null,Se&&o.createElement(iv,{imageUrl:Se,ariaLabel:null==te?void 0:te.title,state:g,shouldLazyLoadImage:be,titleID:null==te?void 0:te.titleID}),!se&&o.createElement("a",{href:null==te||null===(c=te.link)||void 0===c?void 0:c.url,className:Qv,"data-testid":"image-link",onClick:ue},null==te?void 0:te.displayTitle),ee&&g!==ev.TrailerFinished&&!D.current&&F&&Z&&!Q&&o.createElement(Jo,{key:J,className:i(Fv,fe),canPlay:!0,delay:2e3,playback:Xo.Restart,prerolls:ee,playing:ae,placement:Kt.ChartsContainer,playerIsActive:!1,link:se?null==te||null===(u=te.link)||void 0===u?void 0:u.url:void 0,draperParentListeners:{onClick:ue},refMarker:null==te?void 0:te.refMarker,titleID:null==te?void 0:te.titleID,onStateChange:I}),"Store"===G&&ge&&o.createElement("div",{className:qv,"data-testid":"charts-store-glow"})),o.createElement("div",{className:i(Bv,fe)}),o.createElement("div",{className:i(cy({},Mv,q))},q&&o.createElement("div",{className:i(Rv,_v),"data-testid":"charts-grid"},o.createElement(Nv,{containerItem:te,playbackAction:If(te,$),highValueMessage:null==we?void 0:we.highValueMessage,focusMessage:null==we?void 0:we.focusMessage,promotedAcquisitionGroup:null==$?void 0:$.promotedAcquisitionGroup,state:g,shouldLazyLoadImage:be})),o.createElement(ze,{cards:V.entities,wrapperClassName:Gv,navigation:Be.Framed,className:zv,renderCard:ce,onNavigate:function(e,t){v(!1);var r=t.min;if(e===C.Forward)return 1;var n=M.current?4:3;return M.current||8!==r?M.current&&7===r?-2:-n:-1},ref:N,scrollType:Ue.FirstVisible,testID:"charts-carousel"}))))},py="2 / 3",my="16 / 9",vy="data-active-card",yy="z6Be-S",hy="_9ZO7CZ",gy="NRrJ0c",by="+uiBxO",wy="KRgchP",Ey="rP-Fu8",Sy="UcQ6j5",Ty="_75e8mi",xy="d8MkGP",Py="btKtrY",Oy="YK5FqF",ky="RGWdWq",Iy=["imageUrl","children","titleID"];function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(this,arguments)}function jy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ly(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ly(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ly(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ay(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Ny=[720,1080,1440,1920],Dy=function(e){var t=e.imageUrl,r=e.children,n=e.titleID,i=Ay(e,Iy),a=jy(o.useState(void 0),2),l=a[0],c=a[1],u=o.useMemo((function(){var e={};return l&&(e.backgroundImage="url(".concat(l,")")),e}),[l]);return o.createElement("div",Cy({style:u},i,{"data-testid":"expanded-background-art"}),t&&o.createElement(Si,{src:t,wrapperClassName:Oy,aspectRatio:Pt.SixteenByNine,parentListeners:{onLoad:function(e){return c(e)}},sizesOptions:{defaultSrcSize:1150,srcSizes:[{"max-tablet-lowest":550},{"max-laptop-lowest":700},{"max-desktop-lowest":830},{"max-desktop-hd-lowest":830},{"max-desktop-uhd-lowest":1150}]},srcSetWidths:Ny,baseValue:1440,shouldLazyLoad:!1,debugID:n}),r)},My="Yo4IxL",_y="fNAExp",Ry="gdaliH",Vy="_4SWWvD",Wy="tnjXrr",Fy="h-x9gl",By="a6K0J3";function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy.apply(this,arguments)}var Hy=function(e){var t=e.entitlement,r=e.meta;return o.createElement("footer",{className:My},t&&o.createElement(ct,{message:t.message,icon:t.icon,className:Fy,labelClassName:By}),r.customerReviews&&o.createElement(es,{customerReviews:r.customerReviews}),o.createElement("div",{className:_y},r.liveInfo&&o.createElement(o.Fragment,null,o.createElement(Of,{liveInfo:r.liveInfo,testID:"meta-liveliness",className:Ry}),o.createElement(Ic,{className:Vy,"data-testid":"meta-date-time"},r.liveInfo.timeBadge)),o.createElement(rs,Uy({},r.contentMaturityRating,{className:Wy}))))},Gy="zDUKPq",zy="SjBBuH",qy="tmvccl",Qy="K0VLBB",Yy=function(e){var t=e.title,r=e.link,n=e.titleId,a=e.titleLogoUrl,l=e.entitlement,c=e.playback,u=e.playbackGroup,s=e.promotedAcquisitionGroup,f=e.meta,d=e.carouselRefTag,p=e.shouldLazyLoadImage,m=t?o.createElement(ds,{title:t,titleLogoOptions:a?{url:a,imageClassName:Qy,shouldLazyLoadImage:p}:void 0,headingClassName:qy,url:null==r?void 0:r.url,titleID:n}):null,v={eventTitle:t,triggerLocation:"SuperCarousel",liveInfo:f.liveInfo};return o.createElement("section",{className:i(Py),"data-testid":"card-controls"},m,o.createElement("span",null,o.createElement(dp,{titleId:n,link:r,playbackAction:c,playbackGroup:u,promotedAcquisitionGroup:s,className:c?Gy:zy,isInverted:!0,streamSelectorProps:v,carouselRefTag:d})),o.createElement(Hy,{entitlement:l,meta:f}))},Ky=r("./node_modules/@amzn/dvui/dist/Icons/Smile.js"),Zy="-KE+LZ",Xy="RC5WUV",Jy="AAcaWn",$y="GdzN4h",eh="+imlHX";function th(e){return th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(e)}function rh(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==th(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==th(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===th(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ih=[375,500,750,900],ah=function(e){var t,r,n=e.className,i=e.image,l=e.title,c=e.link,u=e.defaultCursor,s=e.onClick,f=e.liveEventMetadata,d=e.shouldLazyLoadImage,p=e.titleID,m=nh(o.useReducer((function(){return!1}),!0),2),v=m[0],y=m[1],h=function(e){var t=null==c?void 0:c.url;return t?o.createElement("a",{className:a()(Zy,n,rh({},Jy,u)),href:t,"aria-label":l,onClick:s},e):o.createElement("div",{className:a()(Zy,n)},e)};return f&&(t=o.createElement(bf,{dateTime:f.timeBadge,isSuperCarousel:!0}),r=o.createElement(Of,{liveInfo:f,className:eh})),h(i?o.createElement("div",{className:Xy},o.createElement(Si,{src:i,alt:l,aspectRatio:Pt.TwoByThree,imageClassName:$y,parentListeners:{onError:y},sizesOptions:{defaultSrcSize:430,srcSizes:[{"max-tablet-lowest":200},{"max-laptop-lowest":260},{"max-desktop-lowest":310},{"max-desktop-hd-lowest":310},{"max-desktop-uhd-lowest":430}]},srcSetWidths:ih,baseValue:750,shouldLazyLoad:d,debugID:p}),t,r):l||!v?o.createElement("div",null,o.createElement(Lc,null,l),t,r):o.createElement(Ky.Smile,null))},lh=dh(my),ch=dh(py),uh={element:void 0,prevElement:void 0,elementIndex:-1,prevElementIndex:-1};function sh(e,t){return{prevElement:e.element,prevElementIndex:e.elementIndex,element:t?t.element:void 0,elementIndex:t?t.index:-1}}function fh(e,t,r){if(e.element!==e.prevElement&&e.element){var n=function(e,t,r){var n=e.getBoundingClientRect(),o=n.height,i=n.left,a=n.right,l=t.getBoundingClientRect(),c=l.left,u=l.right;return r?{cardStartCoordinate:window.innerWidth-a-(window.innerWidth-u),height:o}:{cardStartCoordinate:i-c,height:o}}(e.element,t,r),o=n.cardStartCoordinate,i=n.height,a=!!e.prevElement&&e.prevElementIndex<e.elementIndex,l=i*ch,c=i*lh,u=t.clientWidth,s=a?o-(c-l):o,f=0,d=G("--dv-carousel-column-margin");return s<d?f=s-d:s+c+d>u&&(f=s+c+d-u),r?-f:f}}function dh(e){var t=e.split("/");return t[0]&&t[1]?parseInt(t[0])/parseInt(t[1]):0}function ph(e){return ph="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(e)}function mh(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ph(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ph(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ph(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hh=o.createContext({});hh.displayName="ScrollAnimationContext";var gh=(0,y.s6)((function(e){var t=o.useRef(),r=o.useRef(),n=o.useRef(),a=vh(o.useReducer(sh,uh),2),l=a[0],c=a[1],u=o.useContext(wu).isSsmOpen,s=function(e){clearTimeout(t.current),t.current=window.setTimeout((function(){c(e)}),250)},f=vh(o.useState(void 0),2),d=f[0],p=f[1],m=o.useContext(D),v=o.useContext(ke),y=v.isCarouselHovered,h=v.isHoveringNavArrows,g=v.isCarouselFocused,b=o.useCallback((function(e){m.connected&&m.scrollContainer.scrollBy({left:e})}),[m.connected&&m.scrollContainer]),w=o.useCallback((function(e){m.connected&&m.scrollContainer.scrollTo({left:e})}),[m.connected&&m.scrollContainer]),E=o.useCallback((function(){if(function(e){if(e.prevElement){var t=e.prevElement;t&&t.removeAttribute(vy)}if(e.element){var r=e.element;r&&r.setAttribute(vy,"true")}}(l),clearTimeout(r.current),m.connected){var t,n,o=null!==(t=null===(n=e.render)||void 0===n?void 0:n.isRTL)&&void 0!==t&&t,i=fh(l,m.scrollContainer,o);i&&(r.current=window.setTimeout((function(){b(i)}),o?300:0))}}),[l]),S=o.useCallback((function(){clearTimeout(n.current)}),[]),T=o.useCallback((function(){var o,i;clearTimeout(t.current),clearTimeout(r.current);var a=null!==(o=null===(i=e.render)||void 0===i?void 0:i.isRTL)&&void 0!==o&&o,c=function(e,t,r){var n,o;if(t?(n=t.element,o=t.index):(n=e.element,o=e.elementIndex),!n)return null;var i=n.getBoundingClientRect().height*ch,a=G("--dv-supercarousel-card-number"),l=(i*a+G("--dv-carousel-column-gap")*a)*Math.floor(o/a);return r?-l:l}(l,d,a);"number"==typeof c&&(w(c),a&&(n.current=window.setTimeout((function(){w(c)}),550))),s(void 0),p(void 0)}),[l,d]),x=o.useCallback((function(){d&&(s(d),p(void 0))}),[d]);o.useEffect((function(){E()}),[l.element]),o.useEffect((function(){u||(!1===y||!0===h?T():S())}),[y,h,u]),o.useEffect((function(){m.connected&&m.isScrolling||x()}),[m.connected&&m.isScrolling]);var P=o.useCallback((function(e,t){m.connected&&m.isScrolling?p({element:e.closest("li"),index:t}):s({element:e.closest("li"),index:t})}),[m.connected&&m.isScrolling]),O=o.useMemo((function(){return{openElementIndex:l.elementIndex,actions:{onMouseEnter:P}}}),[l.elementIndex,P]);return o.createElement("div",{className:i(mh({},wy,y||g))},o.createElement(hh.Provider,{value:O},e.children))}));function bh(e){return bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(e)}function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wh.apply(this,arguments)}function Eh(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==bh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==bh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===bh(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Th(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Th(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Th(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xh=o.memo((function(e){var t,r,n,a=e.contentMaturityRating,l=e.customerReviews,c=e.entitlementCues,u=e.hasSubtitles,s=e.images,f=e.releaseYear,d=e.link,p=e.displayTitle,m=e.isVisibleInCarousel,v=e.isOnlyPoster,y=e.titleID,g=e.refMarker,b=e.widgetType,w=e.index,E=e.context,S=e.liveInfo,T=e.playbackActions,x=e.itemAnalytics,P=Sh(o.useState(!1),2),O=P[0],k=P[1],I=Sh(o.useState(!1),2),C=I[0],j=I[1],L=o.useRef(null),A=Sh(o.useState(!1),2),N=A[0],D=A[1],M=o.useRef(),_=Sh(o.useState(!1),2),R=_[0],V=_[1],W=o.useContext(RT),F=W.enrichments,B=W.isTrailerAutoplayEnabled,U=W.container,H=U.impressionData,G=U.containerType,z=W.index,q=W.consumingWidgetType,Q=o.useContext(hh),Y=Q.openElementIndex,K=Q.actions,Z=(0,h.L1)().logger,X=Wf(q,G,z,w),J=o.useCallback((function(e){var t=null==L?void 0:L.current;if(t||e===t)t&&!e&&Ki.unobserve(t);else{var r,n=null==s||null===(r=s.poster2x3)||void 0===r?void 0:r.url;H&&n&&b&&g&&e&&Ki.observe(e,{collectionImpressionData:H,titleID:y,imageURL:n,refMarker:g,widgetType:b,carouselPosition:z,itemPosition:w,itemAnalytics:x},E)}L.current=e}),[]);o.useEffect((function(){return function(){window.clearTimeout(M.current)}}),[]),o.useEffect((function(){N?(window.clearTimeout(M.current),V(!0)):Y!==w&&(window.clearTimeout(M.current),M.current=window.setTimeout((function(){V(!1)}),2e3))}),[N,Y,w]),o.useEffect((function(){Y===w&&null!=L&&L.current&&Ki.logManualImpression(null==L?void 0:L.current,"Highlight")}),[Y,w]),o.useEffect((function(){if(!v){N&&m?(L.current&&K.onMouseEnter(L.current,w),k(!0)):k(!1)}}),[N,m]);var $,ee=o.useCallback((function(){D(!0)}),[]),te=o.useCallback((function(){D(!1)}),[]),re=function(){null!=L&&L.current&&Ki.logManualImpression(null==L?void 0:L.current,"Select")},ne=null==F?void 0:F[null!=y?y:""];null!=ne&&ne.prerolls&&B&&($=o.createElement(Jo,{className:xy,canPlay:O,prerolls:null==ne?void 0:ne.prerolls,delay:2e3,playback:Xo.Restart,playerIsActive:!0,link:C?null==d?void 0:d.url:void 0,playing:j,draperParentListeners:{onClick:re},refMarker:g,titleID:y}));var oe=Cf(T,ne),ie=jf(ne),ae=ne?ne.entitlementCues:c,le=o.useMemo((function(){return{contentMaturityRating:a,customerReviews:l,releaseYear:f,hasSubtitles:u,liveInfo:S}}),[]),ce=null==s||null===(t=s.poster2x3)||void 0===t?void 0:t.url;o.useEffect((function(){ce||(Z.count("MissingImageSuperCarouselCard",1,!1),Z.warn("Missing poster2x3 image in SuperCarouselCard for title ".concat(y)))}),[]);var ue={className:Sy,image:ce,title:p,link:!v&&R?void 0:d,liveEventMetadata:S,onClick:re,shouldLazyLoadImage:X,titleID:y};return o.createElement("article",{className:i(yy,gy,Eh({},by,!m)),"data-testid":"super-carousel-card",onMouseEnter:ee,onMouseLeave:te,ref:J},v?o.createElement(ah,ue):o.createElement(Dy,{className:Ty,imageUrl:null==s||null===(r=s.hero)||void 0===r?void 0:r.url,titleID:y},R&&o.createElement(o.Fragment,null,$,(null==d?void 0:d.url)&&!C&&o.createElement("a",{href:null==d?void 0:d.url,className:i(ky),onClick:re,"data-testid":"image-link"},p),o.createElement(Yy,{title:p,titleId:y,link:d,titleLogoUrl:null==s||null===(n=s.titleLogo)||void 0===n?void 0:n.url,entitlement:null==ae?void 0:ae.focusMessage,playback:oe,playbackGroup:ie,promotedAcquisitionGroup:null==ne?void 0:ne.promotedAcquisitionGroup,meta:le,carouselRefTag:g,shouldLazyLoadImage:X})),o.createElement(ah,wh({},ue,{defaultCursor:!0}))))})),Ph=(0,y.s6)(xh);function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oh.apply(this,arguments)}function kh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ih(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ih(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ih(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ch=2,jh=2,Lh=3,Ah=4,Nh=5,Dh=function(){var e=o.useContext(RT),t=e.actions,r=e.container,n=r.entities,i=o.useContext(pe),a=i.isHoverEnabled,l=i.pageWidth,c=i.hasPageMounted,u=i.contingencies,s=kh(o.useState(!0),2),f=s[0],d=s[1],p=o.useCallback((function(){var e=Nh;return Df.is(Nf.PHONE)?e=Ch:window.innerWidth<=680?e=jh:Df.is(Nf.TABLET)?e=Lh:Df.is(Nf.LAPTOP)&&(e=Ah),e}),[]),m=kh(o.useState(c?p():Nh),2),v=m[0],y=m[1];o.useEffect((function(){y(p())}),[]),o.useEffect((function(){d(!a||Df.isSmallerThan(Nf.LAPTOP)||Boolean(null==u?void 0:u.disableHover)),y(p())}),[a,l]);var h=o.useCallback((function(e,t,r){return o.createElement(Ph,Oh({isVisibleInCarousel:t},e,{canPlay:t,index:r,isOnlyPoster:f}))}),[f]),g=o.useCallback((function(e){if(a){var r=n.filter((function(t,r){return e.has(r+1)}));if(r.length>0){var o=r.filter((function(e){var t;return null!==(t=e.entityID)&&void 0!==t?t:e.titleID})).map((function(e){var t;return null!==(t=e.entityID)&&void 0!==t?t:e.titleID}));t.getEnrichments(o)}}}),[n,t]),b=null==r?void 0:r.entitlementCues;return o.createElement(M,null,o.createElement(ze,{cards:n,wrapperClassName:hy,navigation:Be.Framed,className:Ey,header:r.title&&o.createElement(pd,{title:r.title,entitlementType:null==b?void 0:b.entitledCarousel,facetText:r.facetText,offerType:null==b?void 0:b.offerType}),renderCard:h,cardsVisibilityThreshold:.3,customCarouselContainer:gh,performantRender:{maxCardNum:v,onFirstTimeCardRender:g},testID:"super-carousel"}))},Mh="d+y-VB",_h="PFB4Sx",Rh="mS+1wI",Vh="uAuoES",Wh="_08tkIy",Fh=[1080,2160,2880,3840],Bh=[{"max-tablet-lowest":450},{"max-laptop-lowest":880},{"max-desktop-lowest":1400},{"max-desktop-hd-lowest":1800},{"max-desktop-uhd-lowest":2400}],Uh=function(e){var t=e.backgroundImage,r=e.title,n=e.entitledCarousel,i=e.theme,a=e.shouldLazyLoadImage,l="NotEntitled"===n,c="Store"===i;return o.createElement("div",{className:Mh,"data-testid":"cover-background-root"},l&&!c&&o.createElement("div",{className:Wh,"data-testid":"cover-mobile-gradient"}),(null==t?void 0:t.url)&&o.createElement(Si,{alt:r,src:t.url,imageClassName:_h,aspectRatio:Pt.ThirtyTwoByFifteen,sizesOptions:{defaultSrcSize:2400,srcSizes:Bh},srcSetWidths:Fh,baseValue:2880,shouldLazyLoad:a,debugID:r}),o.createElement("div",{className:Rh,"data-testid":"cover-bottom-gradient"}),l&&!c&&o.createElement("div",{className:Vh,"data-testid":"cover-bottom-start-gradient"}))},Hh="_0rM3o9",Gh="VrD8pe",zh="bA1o9y",qh="uoTA0G",Qh="g73j2s",Yh="H0BsV3",Kh="JNvLP2",Zh="_1sT8of",Xh="Q4fi+w",Jh="S8BxNl";function $h(e){return $h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(e)}function eg(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==$h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==$h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$h(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tg=[690,1035,1380,2070],rg=function(e){var t=e.title,r=e.description,n=e.shouldHideTitleOnSmallerDevices;return o.createElement("div",{className:qh},t&&o.createElement("h2",{className:i(Qh,eg({},Yh,n))},t),r&&o.createElement("p",{className:Kh},r))},ng=function(e){var t=e.url,r=e.label,n=e.otherClassName;return o.createElement("div",{className:n},o.createElement(fc,{href:t,label:r,isInverted:!0,testID:"action"}))},og=function(e){var t=e.entities,r=e.title,n=e.description,i=e.logoImage,a=e.action,l=e.baseContainerActions,c=e.enrichments,u=e.shouldLazyLoadImage;return o.createElement("div",{className:Hh,"data-testid":"cover-content-root"},o.createElement("div",{className:Gh},(null==i?void 0:i.url)&&o.createElement(Si,{alt:i.alternateText,src:i.url,wrapperClassName:zh,aspectRatio:Pt.ThreeHundredFortyFiveByFiftySix,sizesOptions:{defaultSrcSize:920,srcSizes:[{"max-tablet-lowest":350},{"max-laptop-lowest":380},{"max-desktop-lowest":560},{"max-desktop-hd-lowest":650},{"max-desktop-uhd-lowest":920}]},srcSetWidths:tg,baseValue:1380,shouldLazyLoad:u,debugID:r}),(r||n)&&o.createElement(rg,{title:r,description:n,shouldHideTitleOnSmallerDevices:Boolean(r&&n&&(null==i?void 0:i.url))}),(null==a?void 0:a.url)&&(null==a?void 0:a.label)&&o.createElement(ng,{url:a.url,label:a.label,otherClassName:Zh})),o.createElement(kd,{entities:t,actions:l,enrichments:c,otherWrapperClassName:Jh}),(null==a?void 0:a.url)&&(null==a?void 0:a.label)&&o.createElement(ng,{url:a.url,label:a.label,otherClassName:Xh}))},ig="boWXU+",ag="vVQ5BU",lg="PEOk1j",cg=function(){var e=o.useContext(RT),t=e.container,r=e.actions,n=e.enrichments,a=e.consumingWidgetType,l=e.index,c=o.useContext(pe),u=c.theme,s=c.containerVisibility,f=t.entities,d=t.entitlementCues,p=t.backgroundImage,m=t.title,v=t.description,y=t.logoImage,h=t.action,g=t.containerType,b=null==d?void 0:d.entitledCarousel,w="Store"===u,E=((null==s?void 0:s.min)||0)-2<l&&l<((null==s?void 0:s.max)||0)+2,S=Wf(a,g,l,-1);return o.createElement("section",{className:i(ag,ig),"data-testid":"cover-container"},o.createElement(Uh,{backgroundImage:p,title:m,entitledCarousel:b,theme:u,shouldLazyLoadImage:S}),o.createElement(og,{title:m,description:v,logoImage:y,action:h,entities:f,baseContainerActions:r,enrichments:n,shouldLazyLoadImage:S}),w&&E&&o.createElement("div",{className:lg,"data-testid":"cover-page-store-glow"}))},ug="_8feUpB",sg="oMPh6r",fg="O80U9r",dg="qLBcsq",pg="v27j9y",mg="glGxL6",vg="+pD1ii",yg="_845O7N",hg="oXTJJt";function gg(e){return gg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(e)}function bg(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==gg(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==gg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===gg(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Eg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Eg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Sg=1.5,Tg=2,xg=3,Pg=4,Og=5,kg=function(){var e=o.useContext(pe),t=e.pageWidth,r=e.hasPageMounted,n=o.useContext(RT),a=n.container,l=n.consumingWidgetType,c=a.title,u=a.entities,s=a.firstEntityGroupSize,f=a.unentitledText,d=a.seeMoreLink,p=o.useRef(null),m=o.useRef(Object.values(u).some((function(e){var t,r;return!(null===(t=e.entitlementCues)||void 0===t||null===(r=t.glanceMessage)||void 0===r||!r.message)}))),v="MyStuff"===l,y=(null!=s?s:0)-1,h=null!=s?s:0,g=h>0,b=null==a?void 0:a.entitlementCues,w=null==b?void 0:b.offerType,E={"--first-unentitled-card-index":h},S=o.useCallback((function(){var e=Og;return Df.is(Nf.PHONE)?e=Sg:window.innerWidth<=680?e=Tg:Df.is(Nf.TABLET)?e=xg:Df.is(Nf.LAPTOP)&&(e=Pg),e}),[]),T=wg(o.useState(r?S():Og),2),x=T[0],P=T[1];o.useEffect((function(){P(S())}),[]),o.useEffect((function(){P(S())}),[t]);return o.createElement(ze,{className:F,navigation:Be.Regular,cards:u,renderContainer:function(e){var t;return o.createElement("div",{className:hg,ref:p,style:{}},o.createElement("div",{className:ug,style:E},o.createElement("section",{className:fg},c&&g&&o.createElement("div",{"data-testid":"carousel-header",className:i((t={},bg(t,vg,!v),bg(t,pg,v),t))},o.createElement(pd,{title:c,className:yg,offerType:w},v&&d&&o.createElement(gd,{url:d.url,label:d.label}))),!v&&f&&o.createElement("div",{"data-testid":"carousel-upsell-header",className:dg},o.createElement(pd,{title:f,entitlementType:"NotEntitled",offerType:w},d&&o.createElement(gd,{url:d.url,label:d.label,className:mg})))),e))},renderCard:function(e,t,r){var n=r<h;return o.createElement(qf,{card:e,isVisible:t,isCircle:n,index:r,wrapperClassName:i(bg({},sg,!v&&r===y)),renderGlanceSpaceIfNoGlanceMessage:m.current})},overrideScrollContainerRef:p,cardsVisibilityThreshold:1,testID:"nodes-carousel",performantRender:{maxCardNum:x,startIndexForVirtualisation:h+1}})};kg.displayName="Nodes";var Ig=kg,Cg="xMo82q",jg="_20Qx4g",Lg="Qpmg1P",Ag="_9pxNG4",Ng="vDmXS1",Dg="wH7mLc",Mg="xkvvgo",_g="Io0kUZ",Rg="mMpZEW",Vg=(0,h.ty)((function(e){var t=e.titleID,r=e.text,n=e.dismissModal,i=e.buttonStyle,a=e.textStyle,l=e.testID,c=void 0===l?"watchlist-toggle-dropdown-action":l,u=e.logger,s=o.useContext(RT).actions.onWatchlistToggle;return o.createElement(Nu,{testId:c,requireModalConfirmation:!1,text:r,icon:o.createElement(Iu(),null),buttonStyle:i,buttonTestId:"watchlist-toggle",textStyle:a,isInDropdown:!0,onPrimaryAction:function(e){s(e,t,void 0).then((function(){n()})).catch((function(e){u.error("Failed to toggle watchlist",e)}))}})})),Wg="vWki92",Fg="QLcL+3",Bg="wBtWAb",Ug="yMBuvX",Hg="BkVXA+",Gg="Ve1A8x";function zg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qg=(0,h.ty)((function(e){var t=e.disabled,r=e.rootElement,n=e.card,i=e.logger,a=o.useContext(RT).consumingWidgetType,l=zg(o.useState(!1),2),c=l[0],u=l[1],s=o.useCallback((function(e){null==e||e.preventDefault(),u(!0)}),[]),f=o.useCallback((function(e){null==e||e.preventDefault(),u(!1)}),[]),d=Yg({card:n,dismissModal:f,consumingWidgetType:a,logger:i}),p=d.overflowActions,m=d.overflowMenuHeader;return 0===p.length?null:o.createElement("div",{"data-testid":"actions-overflow-menu",className:Wg},o.createElement(cc(),{testID:"actions-menu-button",className:Fg,icon:o.createElement(Bl(),{height:"var(--dvui-icon-height)",width:"var(--dvui-icon-width)"}),onClick:s,disabled:t}),!t&&c&&o.createElement(Wc,{className:Bg,testID:"actions-menu-modal",isVisible:c,onRequestClose:f,disableFooter:!0,titleText:m,body:o.createElement("ul",{className:Ug},p.filter((function(e){return null!==e})).map((function(e,t){return o.createElement("li",{key:"action-".concat(t),"data-testid":"action-menu-item-".concat(t),className:"action-menu-item"},e)}))),rootElement:r}))})),Yg=function(e){var t=e.card,r=t.titleID,n=t.overflowMenu,i=e.consumingWidgetType,a=e.dismissModal,l=e.logger;return"MyStuff"!==i||"string"!=typeof r||void 0===n?{overflowActions:[],overflowMenuHeader:void 0}:{overflowMenuHeader:n.title,overflowActions:n.items.map((function(e){switch(e.itemType){case ou.Np.LibraryAction:return Mu(r,e.action,Gg,!0,Hg,a);case ou.Np.WatchlistAction:var t=e;return o.createElement(Vg,{titleID:r,text:t.text,dismissModal:a,buttonStyle:Hg,textStyle:Gg});default:return l.error("Unhandled menu item type '".concat(e.itemType,"'")),null}}))}};function Kg(e){return Kg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kg(e)}function Zg(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Kg(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Kg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Kg(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xg=(0,y.s6)((function(e){var t,r,n,i,l,c,u,s=e.card,f=e.enrichment,d=e.index,p=e.context,m=e.modalRootElement,v=o.useRef(null),y=o.useContext(RT),g=y.consumingWidgetType,b=y.container,w=b.impressionData,E=b.containerType,S=y.index,T=y.removedItemsMap,x=(0,h.L1)().logger,P=Wf(g,E,S,d),O=s.images,k=s.displayTitle,I=s.displayTitle,C=s.widgetType,j=s.refMarker,L=s.titleID,A=void 0!==s.titleID?null==T?void 0:T[s.titleID]:void 0,N=void 0!==A,D=null==A?void 0:A.removedOverlayMessage,M=null!==(t=null==A?void 0:A.canUndoRemoval)&&void 0!==t&&t,_=null==O||null===(r=O.cover)||void 0===r?void 0:r.url;o.useEffect((function(){_||(x.count("MissingImageRanOverCard",1,!1),x.warn("Missing cover image in RanOverCard for title ".concat(L)))}),[]);var R=null!==(n=null==f?void 0:f.entitlementCues)&&void 0!==n?n:s.entitlementCues,V=o.useCallback((function(e){var t=null==v?void 0:v.current;t||e===t?t&&!e&&Ki.unobserve(t):w&&_&&C&&j&&e&&Ki.observe(e,{collectionImpressionData:w,titleID:L,imageURL:_,refMarker:j,widgetType:C,carouselPosition:S,itemPosition:d,itemAnalytics:s.itemAnalytics},p),v.current=e}),[]);return o.createElement(o.Fragment,null,o.createElement("a",{ref:V,href:null==s||null===(i=s.link)||void 0===i?void 0:i.url,"aria-label":I,"data-testid":"flat-card","data-card-position":d,"data-card-title":s.title,"data-card-entity-type":s.entityType,onClick:function(e){Ki.logManualImpression(e.currentTarget,"Select")}},o.createElement("div",{"data-testid":"ran-over-card-container",className:Cg},o.createElement("div",{className:Lg},!N&&o.createElement(ka,{className:a()(jg),imageClassName:Ag,imageUrl:_,alternateText:null==O||null===(l=O.cover)||void 0===l?void 0:l.alternateText,fallbackTitle:k,parentElement:v.current,refMarker:s.refMarker,titleID:s.titleID,shouldLazyLoadImage:P}),N&&D&&o.createElement(Vf,{message:D,className:Rg})),o.createElement("div",{className:a()(Ng,Zg({},_g,N))},o.createElement(Ac,{className:Dg},I),o.createElement("div",{className:Mg},o.createElement(jc,null,null==s?void 0:s.releaseYear),o.createElement(jc,null,null==s?void 0:s.runtime)),R&&o.createElement(ct,{icon:null===(c=R.glanceMessage)||void 0===c?void 0:c.icon,message:null===(u=R.glanceMessage)||void 0===u?void 0:u.message})),o.createElement(Qg,{card:s,disabled:N&&!M,rootElement:m}))))})),Jg="bUIMWe",$g="IouS5j",eb="evYCfE",tb="_9qXVlg",rb="gg1gAB",nb="zw56GT",ob="YSJgrZ",ib="D6IcFw",ab="rnNSvV",lb="kwztA9";function cb(e){switch(e){case"Bottom_Left":return a()(ob,ab);case"Bottom_Right":return a()(ob,lb);case"Bottom_Center":return a()(ob,ib);case"Top_Left":return a()(nb,ab);case"Top_Right":return a()(nb,lb);case"Top_Center":return a()(nb,ib);case"Center_Left":return a()(rb,ab);case"Center_Right":return a()(rb,lb);default:return a()(rb,ib)}}var ub=function(e){var t,r,n,i=e.card,l=e.index,c=o.useContext(RT),u=c.container,s=c.consumingWidgetType,f=c.index,d=Wf(s,u.containerType,f,l),p=i.images,m=null==p||null===(t=p.cover)||void 0===t?void 0:t.url,v=i.displayTitle,y=null==p||null===(r=p.cover)||void 0===r?void 0:r.alternateText,h=null!=u&&u.title?"h3":"h2";return o.createElement(h,{"aria-label":v,className:Jg,"data-testid":"genre-card"},o.createElement("a",{"data-card-position":l,href:null==i||null===(n=i.link)||void 0===n?void 0:n.url,"aria-label":v},o.createElement(ka,{imageWrapperClassName:$g,imageClassName:eb,imageUrl:m,alternateText:y,refMarker:i.refMarker,titleID:i.titleID,shouldLazyLoadImage:d}),v&&o.createElement("span",{className:a()(tb,cb(null==i?void 0:i.overlayTextPosition))},o.createElement("span",null,v))))},sb="OKS56b",fb="K0Kf63",db="_9kJogN",pb="AcFiK7",mb="_0B0vPr",vb="NwPFrz";function yb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gb=function(e){var t=e.children,r=yb(o.useState(null),2),n=r[0],i=r[1],a=o.useMemo((function(){return{connected:!0,cardIndexWithMiniDetails:n,actions:{hoverCallback:i}}}),[n]);return o.createElement("div",{"data-testid":"grid-mini-details-controller"},o.createElement(Bs.Provider,{value:a},t))},bb=r("./src/util/utils/math.ts");function wb(e){return wb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wb(e)}function Eb(e){return function(e){if(Array.isArray(e))return Sb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Sb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tb(Object(r),!0).forEach((function(t){Pb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pb(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==wb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==wb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===wb(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ob={init:!1,actualRowHeights:new Map,compoundedHeight:[]};function kb(e,t){var r=t.context,n=r.entitiesLength,o=r.commonRowHeight,i=r.cardsPerRow,a=r.logger,l=Math.ceil(n/i);if("INIT"===t.action){for(var c=[],u=0;u<l;u++){var s,f=null!==(s=c[u-1])&&void 0!==s?s:0;c[u]=o+f}return xb(xb({},Ob),{},{init:!0,compoundedHeight:c})}if(!e.init)return a.error("[Grid container] heightsReducer(): Should not call ".concat(t.action," before INIT")),e;var d=Eb(e.compoundedHeight);if(l>d.length)for(var p=d.length;p<l;p++){var m,v=null!==(m=d[p-1])&&void 0!==m?m:0;d[p]=o+v}if("SET"==t.action){var y=t.data,h=y.rowIndex,g=y.height;if(e.actualRowHeights=new Map(e.actualRowHeights.set(h,g)),g!==o)for(var b=h;b<l;b++){var w,E,S=null!==(w=d[b-1])&&void 0!==w?w:0,T=null!==(E=e.actualRowHeights.get(b))&&void 0!==E?E:o;d[b]=S+T}}return e.compoundedHeight=d,e}function Ib(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Cb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jb=40,Lb=20;function Ab(e,t,r,n){var i,a,l,c=(0,h.L1)().logger,u=o.useContext(pe),s=u.isDesktopDeviceVariant,f=u.pageWidth,d=s?jb:Lb,p=Ib(o.useState(r>d),2),m=p[0],y=p[1],g=Ib(o.useReducer(kb,Ob),2),b=g[0],w=g[1],E=Ib(o.useState(0),2),S=E[0],T=E[1],x=Ib(o.useState(d),2),P=x[0],O=x[1],k=o.useRef(0),I=o.useCallback((function(e){e=Math.max(0,e);var t=r-P;e>t&&(e=Math.ceil(t/n)*n),e!==S&&T(e)}),[n,P,r,S]),C=o.useRef(0),j=o.useCallback((function(){if(m&&"undefined"!=typeof window&&C.current!==f){C.current=f;for(var t,o,i,a=G("--dv-carousel-column-gap"),l=window.innerHeight,u=[],s=Math.ceil(P/n),d=0;d<s;d++){var p=(o=d*n,i=void 0,null!==(i=null==(t=e)?void 0:t.children[o])&&void 0!==i?i:null);p&&u.push(p.offsetHeight+a)}var v=bb.m.mostRepeated(u);if(null!==v){var y=Math.ceil(l/v)*n;k.current=v,O(2*y),w({action:"INIT",context:{entitiesLength:r,commonRowHeight:v,cardsPerRow:n,logger:c}})}}}),[e,P,n,m,r,c,f]),L=o.useCallback((function(){if(m&&t&&"undefined"!=typeof window){var e=window.scrollY,o=e-(0,Us.q7)(t,e)-.5*window.innerHeight,i=Object.entries(b.compoundedHeight).find((function(e){var t=Ib(e,2);t[0];return t[1]>o}));if(i){var a=Ib(i,2),l=a[0];a[1];I(parseInt(l)*n)}else I(r-1)}}),[n,m,r,b.compoundedHeight,I,t]),A=o.useCallback((function(){if(m)for(var t,o,i=Math.floor(S/n),a=Math.min(S+P-1,r-1),l=Math.floor(a/n),u=i;u<=l;u++){var s=u*n;if(!b.actualRowHeights.has(u)){var f=(o=s,null==(t=e)?void 0:t.querySelector('[data-card-position="'.concat(o,'"]'))),d=G("--dv-carousel-column-gap");f&&w({action:"SET",data:{rowIndex:u,height:f.offsetHeight+d},context:{entitiesLength:r,commonRowHeight:k.current,cardsPerRow:n,logger:c}})}}}),[e,P,n,m,r,b.actualRowHeights,c,S]);if(o.useEffect((function(){j()}),[]),o.useEffect((function(){j()}),[f]),o.useEffect((function(){var e,t=(0,v.D)(L,10);return m&&(j(),e=t,window.addEventListener("scroll",e)),function(){return function(e){window.removeEventListener("scroll",e)}(t)}}),[m,L]),o.useEffect((function(){m||y(r>d)}),[r]),o.useEffect((function(){A()}),[S,P]),o.useEffect((function(){m&&b.init&&w({action:"NEW_ENTITIES",context:{entitiesLength:r,commonRowHeight:k.current,cardsPerRow:n,logger:c}})}),[r]),!m)return{firstCardIndex:0,lastCardIndex:r-1,topSpacing:0,bottomSpacing:0};var N=S,D=Math.floor(N/n)-1,M=null!==(i=b.compoundedHeight[D])&&void 0!==i?i:0,_=Math.min(S+P-1,r-1),R=Math.floor(_/n),V=b.compoundedHeight.length-1;return{firstCardIndex:N,lastCardIndex:_,topSpacing:M,bottomSpacing:(null!==(a=b.compoundedHeight[V])&&void 0!==a?a:0)-(null!==(l=b.compoundedHeight[R])&&void 0!==l?l:0)}}var Nb=r("./node_modules/react-intersection-observer/lib/index.js"),Db=r("./node_modules/@amzn/dvui/dist/Icons/Spinner.js"),Mb=r.n(Db),_b="_8SdHse",Rb="_5aEY3d";function Vb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Fb=function(e){return e.CannotPaginate="CannotPaginate",e.CanPaginate="CanPaginate",e.CanRequestLock="CanRequestLock",e.HasLock="HasLock",e.IsPaginating="IsPaginating",e}(Fb||{}),Bb=[Fb.HasLock,Fb.IsPaginating],Ub=[Fb.CanPaginate,Fb.CanRequestLock,Fb.HasLock],Hb=function(e){var t=e.onPaginateContainer,r=o.useContext(RT),n=r.index,i=r.hasMoreItems,a=r.isPaginatingContainer,l=r.container,c=o.useContext(oe),u=c.entityWithLock,s=c.actions,f=Vb(o.useState(!1),2),d=f[0],p=f[1],m=Vb(o.useState(Fb.CannotPaginate),2),v=m[0],y=m[1];return o.useEffect((function(){"EpgGroup"===l.containerType&&s.hideBelow(n)}),[]),o.useEffect((function(){i||s.unhideBelow(n)}),[i]),o.useEffect((function(){var e=Fb.CannotPaginate,t="CONTAINER"===u.type&&u.containerIndex===n;a?e=Fb.IsPaginating:i&&(e=Fb.CanPaginate,d&&(e=Fb.CanRequestLock,t&&(e=Fb.HasLock))),y(e)}),[n,u,i,d,a,v]),o.useEffect((function(){v===Fb.CanRequestLock?s.lock(n):Bb.includes(v)||s.unlock(n),v===Fb.HasLock&&t(),Ub.includes(v)||p(!1)}),[v]),o.createElement(o.Fragment,null,a&&o.createElement("div",{className:Rb},o.createElement(Mb(),null)),Ub.includes(v)&&o.createElement(Nb.Z,{rootMargin:"".concat("150%"," 0px"),onChange:function(e){return p(!!e)}},o.createElement("div",{className:_b})))};function Gb(e){return function(e){if(Array.isArray(e))return zb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return zb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qb=function(){var e,t,r,n,i=o.useContext(RT),l=i.actions,c=i.container,u=i.consumingWidgetType,s=i.enrichments,f=c.entities,d=o.useContext(pe),p=d.isDesktopDeviceVariant,m=d.isTouchDevice,v=o.useRef(new Set),y=o.useRef(null),h=o.useRef(null),g=o.useRef(null);n="Categories"===u?"GenreCard":p?"Card":"RanOverCard";var b,w=o.useCallback((function(){switch(n){case"RanOverCard":return"undefined"==typeof window||window.innerWidth>=680?2:1;case"Card":return Df.is(Nf.LAPTOP)?4:Df.is(Nf.TABLET)?3:Df.is(Nf.PHONE)?1:5;case"GenreCard":return Df.is(Nf.LAPTOP)?4:Df.is(Nf.TABLET)?3:Df.is(Nf.PHONE)?2:5}}),[n]);switch(n){case"Card":b=db;break;case"RanOverCard":b=pb;break;case"GenreCard":b=mb}var E="Card"===n?gb:o.Fragment,S=Ab(y.current,h.current,f.length,w()),T=S.firstCardIndex,x=S.lastCardIndex,P=S.topSpacing,O=S.bottomSpacing;o.useEffect((function(){if("GenreCard"!==n&&!m){for(var e=new Set,t=T;t<=x;t++)v.current.has(t)||e.add(t);v.current=new Set([].concat(Gb(v.current),Gb(e)));var r=f.filter((function(t,r){return e.has(r)}));if(r.length>0){var o=r.filter((function(e){var t;return null!==(t=e.entityID)&&void 0!==t?t:e.titleID})).map((function(e){var t;return null!==(t=e.entityID)&&void 0!==t?t:e.titleID}));l.getEnrichments(o)}}}),[T,x]);var k=null==c||null===(e=c.entitlementCues)||void 0===e?void 0:e.entitledCarousel,I=null==c||null===(t=c.entitlementCues)||void 0===t?void 0:t.offerType,C=null==c?void 0:c.facetText,j=null!==(r=c.text)&&void 0!==r?r:c.title,L="MyStuff"!==u&&j;return o.createElement("div",{className:sb,"data-testid":"grid-container"},L&&o.createElement(pd,{title:j,entitlementType:k,offerType:I,facetText:C}),o.createElement("div",{className:vb,ref:h,style:{height:P}}),o.createElement(E,null,o.createElement("div",{className:a()(fb,b),ref:y},f.map((function(e,t){var r,i,a;if(!(t<T||t>x)){var l=null==s?void 0:s[null!==(r=null!==(i=e.entityID)&&void 0!==i?i:e.titleID)&&void 0!==r?r:""];switch(n){case"Card":return o.createElement(qf,{key:t,index:t,card:e,isVisible:!0,enrichment:l});case"RanOverCard":return o.createElement(Xg,{key:t,index:t,card:e,enrichment:l,modalRootElement:null!==(a=g.current)&&void 0!==a?a:void 0});case"GenreCard":return o.createElement(ub,{key:t,index:t,card:e})}}})))),o.createElement("div",{className:vb,style:{height:O}}),l.onPaginateContainer&&o.createElement(Hb,{onPaginateContainer:l.onPaginateContainer}),o.createElement("div",{ref:g}))},Qb="DOAFpy",Yb=function(){var e,t,r,n=o.useContext(RT).container,i=null!==(e=n.text)&&void 0!==e?e:n.title;return i?o.createElement("div",{className:Qb},o.createElement(pd,{title:i,entitlementType:null==n||null===(t=n.entitlementCues)||void 0===t?void 0:t.entitledCarousel,offerType:null==n||null===(r=n.entitlementCues)||void 0===r?void 0:r.offerType})):null},Kb="ixM6h0",Zb="_1Hokx8",Xb="_1LtlWp",Jb="-M3nlU",$b="J89F1+",ew="RTVlok",tw="NtaKT3",rw="Xc8EKK",nw="UJUN21";function ow(e){return ow="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ow(e)}function iw(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ow(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ow(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ow(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aw(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return lw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lw(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var cw=function(e,t,r){var n=e?o.createElement(Si,{src:e,alt:r,wrapperClassName:ew,imageClassName:tw,baseValue:120,debugID:r}):o.createElement("div",{className:Jb,"data-testid":"fixed-header-no-image"},o.createElement(Yc.Icon,{use:Yc.IconType.LOGO_PRIMEVIDEO}));return null!=t&&t.url?o.createElement("a",{href:t.url,className:$b,"aria-label":r,"data-testid":"fixed-header-image-link"},n):n},uw=function(){var e=o.useContext(RT),t=e.container,r=e.enrichments,n=e.actions,i=t.entities;if(i.length<2)return null;var l=i.some((function(e){var t,r;return Boolean(null===(t=e.entitlementCues)||void 0===t||null===(r=t.glanceMessage)||void 0===r?void 0:r.message)}));return o.createElement("section",{className:Kb},Ed(t),function(e){var t,i,c,u=aw(e),s=u[0],f=u.slice(1);return o.createElement("div",{className:a()(Zb,iw({},nw,l)),"data-testid":"fixed-header-carousel-row"},o.createElement("div",{className:Xb,"data-testid":"fixed-header-cell"},(t=s)&&"Image"==t.itemType?cw(null===(i=t.image)||void 0===i?void 0:i.url,t.link,null===(c=t.image)||void 0===c?void 0:c.alternateText):o.createElement(o.Fragment,null)),o.createElement("div",{className:rw},o.createElement(kd,{entities:f,actions:n,enrichments:r})))}(i))};uw.displayName="FixedHeaderCarousel";var sw=uw,fw="laynrO",dw="bLzkzY",pw="nH-Hic",mw="_3qkAoe",vw="TdyVo+",yw="_9AsXJt",hw="_1LHq2x",gw="cZr6v2",bw="_6FJYb7",ww="F9VBPM",Ew="b+eUmA",Sw="J-j+b4",Tw="NpF2DH",xw="g2R9ou",Pw="i4aaP5",Ow="l44tNo",kw="VV7ouy",Iw="hG+XO3",Cw="mzDTzk";function jw(e,t){return(t-e)/6e4}var Lw="wo2RUy",Aw="a-gASW",Nw=function(e){var t=e.startTime,r=e.endTime,n=YE(),i=Math.round(jw(t,n)),a=Math.round(jw(n,r)),l=Math.round(jw(t,r));return n<t?null:o.createElement("label",null,o.createElement("span",{className:Aw},"currently airing, at ",i," minutes of ",l," minutes of content play time,"),o.createElement("progress",{role:"presentation",className:Lw,value:l-a,max:l}))},Dw="KcRaco",Mw="rYx5A1",_w="eIS29O",Rw="_8UtsXN",Vw="VDb1tV",Ww="_8BeN8H",Fw="JtXtue",Bw="_8L7oBG",Uw="PqeoiE",Hw="d7Pa0a",Gw="RE4ima",zw="YBTqCI",qw="bxc7QD",Qw="xB+4W9",Yw="PhG3dl",Kw="_5Afe1u",Zw="AYllr7",Xw="Cgc+on",Jw=o.memo((function(e){var t=e.title,r=e.titleImage,n=e.startTime,i=e.endTime,l=e.showPlayArrow,c=a()(Vw,Fw);return o.createElement("div",{className:Dw},l&&o.createElement("div",{className:c},o.createElement("div",{className:Mw},o.createElement(Hl(),{color:"white"}))),o.createElement("img",{src:r,alt:t}),o.createElement("div",{className:Rw}),o.createElement("div",{className:_w},o.createElement(Nw,{startTime:n,endTime:i})))})),$w="wr9qCt",eE=function(e){var t=e.renderButton,r=e.channelId,n=e.appFallbackUrl,i=e.fallbackUrl,a=e.signInUrl,l=e.refMarker,c=e.resumeTime,u=e.videoMaterialType,s=e.playbackEnvelope,f=e.correlationId,d=e.expiryTime,p=e.playbackExperiences,m=function(){var e=o.useContext(Dl);if(void 0===e)throw new Error("usePlayerContext must be used within a PlayerContext.Provider");return e}(),v=m.onPlay,y=m.launchType,h=QE(),g=function(e){r&&h.has(r)&&Ki.logManualImpression(h.get(r),"Select"),v&&i&&r&&(v({playbackUrl:i,fallbackUrl:n,signInUrl:a,contentConfig:{asin:r,videoType:u,trailer:!1,position:c||0,ref:l,playbackEnvelope:f&&s&&d?{correlationId:f,envelope:s,expiration:d}:void 0,playbackExperiences:p}}),e.preventDefault())},b=Boolean(r)&&"EMBEDDED"===y?void 0:i;return Boolean(r&&i)?b?o.createElement("a",{href:b,className:$w,onClick:g,"data-testid":"play"},t(!0)):o.createElement("button",{type:"button",className:$w,onClick:g,"data-testid":"play"},t(!0)):o.createElement("div",{className:$w,"data-testid":"play"},t(!1))},tE="FlYT9D",rE="K9ePet",nE="ycnM5z",oE="KESUHB",iE="gwKqfB",aE="G-CC66",lE="fjkdWn",cE="zsNkr6",uE="zOzYMz",sE="qffqGg",fE="nymCS8",dE="++IOBQ";function pE(e){var t=e.nowPlaying,r=e.titleImage,n=e.title,i=e.seriesTitle,a=e.entitlementMessage,l=e.entitlementIcon,c=e.entitlementType,u=e.startTime,s=e.endTime,f=e.synopsis,d=e.stationTitle,p=e.nextBroadcastTitle,m=e.nextBroadcastStartTime,v=e.nextUp,y=e.contentMaturityRating,h=e.contentMaturityTitle,g=e.subscriptionLabel,b=e.subscriptionURL,w=e.onNowLabel,E=e.timeRemaining,S=e.label,T=e.appFallbackUrl,x=e.signInUrl,P=e.channelId,O=e.disableJs,k=e.fallbackUrl,I=e.playbackStatus,C=e.refMarker,j=e.resumeTime,L=e.sessionID,A=e.videoMaterialType,N=e.playbackEnvelope,D=e.correlationId,M=e.expiryTime,_=null;return t&&(_=o.createElement(eE,{appFallbackUrl:T,signInUrl:x,channelId:P,disableJs:O,fallbackUrl:k,playbackStatus:I,refMarker:C,resumeTime:j,sessionID:L,videoMaterialType:A,playbackEnvelope:N,correlationId:D,expiryTime:M,renderButton:function(e){return e?o.createElement(o.Fragment,null,o.createElement(rc.PlayButton,{width:"2.5em",height:"2.5em"}),S):null}})),c===ou.Uz.UNENTITLED&&g&&b&&(_=o.createElement("a",{className:dE,href:b},o.createElement(qe.Text,null,g))),o.createElement("article",{className:tE},o.createElement("div",{className:rE},o.createElement(Jw,{title:null!=i?i:n,titleImage:r,startTime:u,endTime:s,showPlayArrow:!1})),a&&l&&o.createElement("div",{className:nE},o.createElement(ct,{message:a,icon:l})),_&&o.createElement("div",{className:oE},_),o.createElement("h2",{id:"airingTitle",className:iE},null!=i?i:n),i&&i!==n&&o.createElement("span",{id:"episodeTitle",className:aE},n),o.createElement("div",{className:lE},t&&o.createElement(o.Fragment,null,o.createElement(su.Badge,{variant:su.BadgeVariant.linear},w),o.createElement("span",null,E)),!t&&o.createElement(o.Fragment,null,o.createElement("span",{className:cE},"upcoming"),o.createElement("span",null,new Date(u).toLocaleTimeString(void 0,{timeStyle:"short"})))),y&&h&&o.createElement("div",{className:uE},o.createElement(Qu.AgeRating,{rating:y,ariaLabel:h})),f&&o.createElement("p",{id:"airingSynopsis",className:sE},f),d&&p&&m&&v&&o.createElement("div",{className:fE},o.createElement(ls,{stationTitle:d,nextBroadcastTitle:p,nextBroadcastStartTime:m,nextUpText:v})),o.createElement("div",null))}function mE(e){var t=o.useRef(null),r=o.useRef(!1);return o.useEffect((function(){if(t.current){var n,o=document.activeElement,i=t.current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]');null===(n=i[0])||void 0===n||n.focus();var a=function(e,t){var r=0;return function(n){if("Escape"!==n.key){if("Tab"===n.key){if(n.preventDefault(),1===e.length)return void e[0].focus();var o=n.shiftKey?-1:1;e[r+o]?(e[r+o].focus(),r+=o):-1===o?(e[e.length-1].focus(),r=e.length-1):(e[0].focus(),r=0)}}else t()}}(i,e.callback);return document.addEventListener("keydown",a,!0),function(){r.current||o.focus(),document.removeEventListener("keydown",a,!0)}}}),[e.callback]),o.useEffect((function(){document.addEventListener("mousemove",(function(){r.current=!0}),{capture:!0,once:!0})}),[]),o.createElement("div",{ref:t},e.children)}var vE="bpVmS+",yE="Ma4ABE",hE="z8Dbfb",gE="cYg4dC",bE="G3SOut",wE="Dbdrp-",EE="pRjoNj",SE="_75EooI",TE="_3h0S8g",xE="XyimnG",PE="_9Fy55v";function OE(e){var t=o.useRef(null),r=o.useRef(!1);o.useEffect((function(){return document.documentElement.style.overflow="hidden",setTimeout((function(){var e;null===(e=t.current)||void 0===e||e.classList.add(EE),setTimeout((function(){var e,n,o;null===(e=t.current)||void 0===e||e.addEventListener("transitionend",(function(){var e;r.current=!0,null===(e=t.current)||void 0===e||e.classList.remove(EE)}),{capture:!0,once:!0}),null===(n=t.current)||void 0===n||n.classList.add(bE),null===(o=t.current)||void 0===o||o.scrollTo({top:0})}),100)}),100),function(){document.documentElement.style.overflow=""}}),[]);var n=function(){var n,o;r.current&&(r.current=!1,null===(n=t.current)||void 0===n||n.addEventListener("transitionend",e.onClose,{capture:!0,once:!0}),null===(o=t.current)||void 0===o||o.classList.add(wE))};return o.createElement("div",{className:vE},o.createElement("button",{"data-testid":"station-modal-background-button",className:yE,onClick:n}),o.createElement("div",{"data-testid":"station-modal",className:hE,id:gE,ref:t,role:"dialog","aria-modal":"true","aria-labelledby":"airingTitle","aria-describedby":"airingSynopsis"},o.createElement(mE,{callback:n},o.createElement("div",null,e.children),o.createElement("button",{type:"button",onClick:n,className:SE},o.createElement("div",{className:TE}),o.createElement("div",{className:"".concat(TE," ").concat(xE)}),o.createElement("span",{className:PE},"Close modal")))),o.createElement("div",null))}var kE="(max-width: 27.99em)",IE="(min-width: 28em) and (max-width: 55em)",CE="(min-width: 54.99em) and (max-width: 87.5em)",jE="(min-width: 87.49em) and (max-width: 112.5em)",LE="(min-width: 112.49em) and (max-width: 150em)",AE="(min-width: 150.01em)";function NE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return DE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DE(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ME(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var RE=function(e){return Date.now()};function VE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return WE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WE(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var FE=o.createContext(void 0),BE=o.createContext(void 0),UE=o.createContext(void 0),HE=o.createContext(void 0),GE=function(e){var t=VE(o.useState(null),2),r=t[0],n=t[1],i=o.useRef(new Map),a=function(){var e=NE((0,o.useState)({label:"phone",mobile:!0,pixelsPerMinute:7,nowPlayingThumbnailWidth:0,nowPlayingExtraWidth:72,epgGapWidth:4}),2),t=e[0],r=e[1];return(0,o.useEffect)((function(){var e=[{mediaQueryList:window.matchMedia(kE),breakPointInfo:{label:"phone",mobile:!0,pixelsPerMinute:6,nowPlayingThumbnailWidth:0,nowPlayingExtraWidth:72,epgGapWidth:4}},{mediaQueryList:window.matchMedia(IE),breakPointInfo:{label:"tablet",mobile:!0,pixelsPerMinute:6,nowPlayingThumbnailWidth:0,nowPlayingExtraWidth:72,epgGapWidth:4}},{mediaQueryList:window.matchMedia(CE),breakPointInfo:{label:"tablet-landscape",mobile:!0,pixelsPerMinute:6,nowPlayingThumbnailWidth:0,nowPlayingExtraWidth:72,epgGapWidth:8}},{mediaQueryList:window.matchMedia(jE),breakPointInfo:{label:"laptop",mobile:!1,pixelsPerMinute:6,nowPlayingThumbnailWidth:176,nowPlayingExtraWidth:92,epgGapWidth:12}},{mediaQueryList:window.matchMedia(LE),breakPointInfo:{label:"desktop",mobile:!1,pixelsPerMinute:6,nowPlayingThumbnailWidth:208,nowPlayingExtraWidth:126,epgGapWidth:16}},{mediaQueryList:window.matchMedia(AE),breakPointInfo:{label:"desktop-large",mobile:!1,pixelsPerMinute:6,nowPlayingThumbnailWidth:240,nowPlayingExtraWidth:174,epgGapWidth:24}}];function t(e){return function(t){t.matches&&r(e)}}var n="function"==typeof e[0].mediaQueryList.addEventListener;return e.forEach((function(e){e.mediaQueryList.matches&&r(e.breakPointInfo),n?e.mediaQueryList.addEventListener("change",e.listener=t(e.breakPointInfo)):e.mediaQueryList.addListener(e.listener=t(e.breakPointInfo))})),function(){e.forEach((function(e){n?e.mediaQueryList.removeEventListener("change",e.listener):e.mediaQueryList.removeListener(e.listener)}))}}),[]),t}(),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e4,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RE,r=ME(o.useState(Date.now()),2),n=r[0],i=r[1];return o.useEffect((function(){var r=new Date,n=1e3*(60-r.getSeconds())+r.getMilliseconds(),o=0,a=window.setTimeout((function(){i(t),clearTimeout(a),o=window.setInterval((function(){i(t)}),e)}),n);return function(){clearTimeout(a),clearInterval(o)}}),[e,t]),n}(e.interval,e.useTimeCallback);return o.createElement(UE.Provider,{value:i.current},o.createElement(HE.Provider,{value:l},o.createElement(FE.Provider,{value:n},o.createElement(BE.Provider,{value:a},e.children)),r&&o.createElement(OE,{onClose:function(){n(null)}},o.createElement(pE,r))))},zE=function(){var e=o.useContext(FE);if(void 0===e)throw new Error("useDispatchContext must be used within a StationContextProvider");return e},qE=function(){var e=o.useContext(BE);if(void 0===e)throw new Error("useBreakpointContext must be used within a StationContextProvider");return e},QE=function(){var e=o.useContext(UE);if(void 0===e)throw new Error("useCSMElementContext must be used within a StationContextProvider");return e},YE=function(){var e=o.useContext(HE);if(void 0===e)throw new Error("useTimeContext must be used within a StationContextProvider");return e},KE=function(e,t,r,n){var o,i=(o=(t-e)/6e4)/30,a=0;return i>1&&(a=(i-1)*n),o*r+a};function ZE(e){var t=new Date(e);t.setSeconds(0),t.setMilliseconds(0);var r=new Date(e);r.setSeconds(0),r.setMilliseconds(0);var n=0,o=0,i=t.getMinutes();return i<30?(n=i,t.setMinutes(0),o=30-i,r.setMinutes(30)):(n=i-30,t.setMinutes(30),o=60-i,r.setHours(r.getHours()+1),r.setMinutes(0)),{next:r.getTime(),minutesToNext:o,previous:t.getTime(),minutesFromPrevious:n}}var XE="bNT+0W",JE="q2n-hv",$E="WNW5uE",eS="hzMlL9",tS="_0RPEHW";function rS(e){return rS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rS(e)}function nS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nS(Object(r),!0).forEach((function(t){iS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function iS(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==rS(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==rS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rS(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var aS=function(e){var t,r,n,i,l,c=YE(),u=c>e.endTime,s=null!==(t=null===(r=(0,y.G4)().render)||void 0===r?void 0:r.isRTL)&&void 0!==t&&t,f=zE(),d=qE(),p=o.useRef(null),m=o.useRef(null),v=o.useRef({collapsedDetailsWidth:0,hoveredDetailsWidth:0,hoveredDetailsOffset:0,initialImageWidth:0,initialDetailsWidth:0}),h=ZE(c),g=h.minutesFromPrevious,b=h.previous,w=KE(b,e.endTime,d.pixelsPerMinute,d.epgGapWidth)+d.nowPlayingExtraWidth;o.useEffect((function(){if(p.current&&m.current){var t;v.current.initialImageWidth=p.current.clientWidth;var r=document.createElement("div");r.style.width="auto",r.style.position="absolute",r.style.whiteSpace="nowrap",r.style.top="0px",r.style.padding="var(--dvui-spacing-400)";var n=document.createElement("span");n.style.fontSize="var(--font-size-body)",n.textContent=null!==(t=e.seriesTitle)&&void 0!==t?t:e.title;var o=document.createElement("span");o.style.fontSize="var(--font-size-metadata)",o.style.fontWeight="700",o.textContent=e.seriesTitle?e.title:"",r.appendChild(n),r.appendChild(document.createElement("br")),r.appendChild(o),m.current.appendChild(r),v.current.initialDetailsWidth=r.clientWidth,m.current.removeChild(r)}}),[e.title,e.seriesTitle]),o.useEffect((function(){if(m.current){var e=1.25*v.current.initialImageWidth-v.current.initialImageWidth,t=-1*e;v.current=oS(oS({},v.current),{},{collapsedDetailsWidth:w,hoveredDetailsWidth:Math.max(v.current.initialDetailsWidth,w),hoveredDetailsOffset:s?t:e}),m.current.style.setProperty("--width-collapsed","".concat(v.current.collapsedDetailsWidth,"px")),m.current.style.setProperty("--width-hovered","".concat(v.current.hoveredDetailsWidth,"px")),m.current.style.setProperty("--offset-hovered","".concat(v.current.hoveredDetailsOffset,"px"))}}),[w,s]);var E=function(){u||(f(e),e.logModalOpen())};o.useEffect((function(){if(m.current){var e=g/30*100,t=(30-g)/30*100,r=d.nowPlayingExtraWidth/100*t,n="calc(".concat(e,"% + ").concat(r,"px)");m.current.style.setProperty("--gradient-progress",n),m.current.style.setProperty("--background-size","".concat(30*d.pixelsPerMinute+d.epgGapWidth+d.nowPlayingExtraWidth,"px"))}}),[d.epgGapWidth,d.pixelsPerMinute,d.nowPlayingExtraWidth,g]);var S=w+v.current.initialImageWidth,T={width:0!==v.current.collapsedDetailsWidth?"".concat(S,"px"):"auto"},x=a()(Ww,(iS(n={},XE,!u),iS(n,Hw,u),iS(n,Gw,e.isEntitled),n)),P=a()(Uw,$E,iS({},Hw,u)),O=null!==(i=e.seriesTitle)&&void 0!==i?i:e.title,k=e.titleImage,I=e.startTime,C=e.endTime;return u&&e.nextBroadcastTitle&&(O=e.nextBroadcastTitle,k=e.nextBroadcastTitleImage,I=e.nextBroadcastStartTime,C=e.nextBroadcastEndTime),o.createElement("div",{className:x,style:T},o.createElement("div",{className:Bw,ref:p},o.createElement(eE,{appFallbackUrl:e.appFallbackUrl,signInUrl:e.signInUrl,channelId:e.channelId,disableJs:e.disableJs,fallbackUrl:e.fallbackUrl,playbackStatus:e.playbackStatus,refMarker:e.refMarker,resumeTime:e.resumeTime,sessionID:e.sessionID,videoMaterialType:e.videoMaterialType,playbackEnvelope:e.playbackEnvelope,correlationId:e.correlationId,expiryTime:e.expiryTime,renderButton:function(t){var r=o.createElement(Jw,{title:O,titleImage:k,startTime:I,endTime:C,showPlayArrow:t});return t?o.createElement(o.Fragment,null,r,o.createElement("span",{className:Xw},e.label)):o.createElement("button",{type:"button",onClick:E,className:Yw},r)}})),o.createElement("button",{type:"button",className:P,ref:m,onClick:E,"data-testid":"details"},!u&&o.createElement("div",{className:JE},o.createElement("div",{className:zw},e.timeRemaining),o.createElement("div",{className:Zw},null!==(l=e.seriesTitle)&&void 0!==l?l:e.title),e.seriesTitle&&e.seriesTitle!==e.title&&o.createElement("div",{className:qw},e.title),o.createElement("div",{className:Qw},e.contentMaturityRating),o.createElement("div",{className:Kw},o.createElement(Nw,{startTime:e.startTime,endTime:e.endTime})))))},lS="izZL9w",cS="mrWrKI",uS="VRbPRZ",sS="jVDLUF",fS="_5u7sLm",dS="LoAxCB",pS="OM3sZv";function mS(e){return mS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mS(e)}function vS(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==mS(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==mS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===mS(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var yS=o.memo((function(e){var t,r=zE(),n=qE(),i=n.pixelsPerMinute,l=n.epgGapWidth,c=KE(e.startTime,e.endTime,i,l),u={width:"".concat(c,"px")},s=o.useRef(null);o.useEffect((function(){if(s.current){var t,r=document.createElement("div");r.style.width="auto",r.style.position="absolute",r.style.whiteSpace="nowrap",r.style.top="0px",r.style.padding="var(--dvui-spacing-400)";var n=document.createElement("span");n.style.fontSize="var(--font-size-body)",n.textContent=null!==(t=e.seriesTitle)&&void 0!==t?t:e.title;var o=document.createElement("span");o.style.fontSize="var(--font-size-metadata)",o.style.fontWeight="700",o.textContent=e.seriesTitle?e.title:"",r.appendChild(n),r.appendChild(document.createElement("br")),r.appendChild(o),s.current.appendChild(r),s.current.style.setProperty("--width-collapsed","".concat(c,"px")),s.current.style.setProperty("--width-hovered","".concat(Math.max(r.clientWidth,c),"px")),s.current.removeChild(r)}}),[e.title,e.seriesTitle,c]);var f=a()(lS,eS,vS({},uS,e.isEntitled)),d=a()(cS,$E),p=new Date(e.startTime).toLocaleTimeString(void 0,{timeStyle:"short"});return o.createElement("button",{type:"button",className:f,style:u,onClick:function(){r(e),e.logModalOpen()},"data-testid":"details"},o.createElement("span",{className:d,ref:s},o.createElement("div",{className:JE},o.createElement("div",{className:sS,suppressHydrationWarning:!0},p),o.createElement("div",{className:pS},null!==(t=e.seriesTitle)&&void 0!==t?t:e.title),e.seriesTitle&&e.seriesTitle!==e.title&&o.createElement("div",{className:fS},e.title),o.createElement("div",{className:dS},e.contentMaturityRating))))})),hS=function(e){var t,r,n=e.children,i=e.startTime,a=YE(),l=null!==(t=null===(r=(0,y.G4)().render)||void 0===r?void 0:r.isRTL)&&void 0!==t&&t,c=qE(),u=c.pixelsPerMinute,s=c.epgGapWidth,f=o.useRef(null),d=ZE(a),p=d.previous,m=d.minutesFromPrevious;return o.useEffect((function(){if(f.current){var e="".concat(m/30*100,"%"),t=jw(p,i),r="".concat(l?"right -":"left -").concat(t*u+s,"px top 0");f.current.style.setProperty("--gradient-progress",e),f.current.style.setProperty("--background-size","".concat(30*u+s,"px")),f.current.style.setProperty("--background-position",r)}}),[a,i,u,s,l,p,m]),o.createElement("div",{ref:f},n)},gS="u3F+dS",bS="dmXGs0",wS=o.memo((function(e){var t=e.startTime,r=e.endTime,n=qE(),i=n.pixelsPerMinute,a=n.epgGapWidth,l=KE(t,r,i,a),c={width:"".concat(l,"px")};return o.createElement("div",{className:bS,style:c})}));function ES(){return ES=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ES.apply(this,arguments)}var SS=function(e){var t=QE(),r=e.stationName,n=e.programs,i=e.refMarker,a=o.useContext(pe),l=a.clickstream,c=a.clickstreamPageContext,u=function(){c&&Eo(null!=i?i:"atv_unknown",c.pageType,c.subPageType,void 0,[Xr.Click],void 0,c.clientVariant,l)};return o.createElement("ol",{className:gS,onMouseEnter:function(){e.titleId&&t.has(e.titleId)&&Ki.logManualImpression(t.get(e.titleId),"Highlight")},onClick:function(){e.titleId&&t.has(e.titleId)&&Ki.logManualImpression(t.get(e.titleId),"Select")},role:"presentation"},n.map((function(e,t){return o.createElement("li",{"data-testid":"card",key:"".concat(t,"_").concat(r,"_").concat(e.title,"_").concat(e.startTime.toString())},function(e,t,r){return 0===t?o.createElement(aS,ES({},e,{logModalOpen:r})):e.startsWithinOnNowSegment?o.createElement(hS,{startTime:e.startTime},o.createElement(yS,ES({},e,{logModalOpen:r}))):e.endsAfterScheduledTimeLimit?o.createElement(wS,{startTime:e.startTime,endTime:e.endTime}):o.createElement(yS,ES({},e,{logModalOpen:r}))}(e,t,u))})))},TS="pz+MqK",xS="_9btrqy",PS="_5Ca0h3";function OS(e){return OS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OS(e)}function kS(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==OS(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==OS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===OS(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var IS=o.memo((function(e){var t=(0,y.G4)(),r=QE(),n=o.useCallback((function(n){e.metrics.csm.titleID&&(n&&!r.has(e.metrics.csm.titleID)?(Ki.observe(n,e.metrics.csm,t.context),r.set(e.metrics.csm.titleID,n)):null===n&&r.has(e.metrics.csm.titleID)&&(Ki.unobserve(r.get(e.metrics.csm.titleID)),r.delete(e.metrics.csm.titleID)))}),[]),i=a()(TS,kS({},xS,e.isEntitled));return o.createElement("div",{className:i,ref:n},o.createElement("div",{className:PS},o.createElement("img",{src:e.url,alt:e.title})))})),CS="gdjPtR",jS="lqLx8N",LS=Array.from({length:16}),AS=o.memo((function(e){var t=e.previous,r=e.onNowLabel,n=qE(),i=30*n.pixelsPerMinute;return o.createElement("div",{className:CS},LS.map((function(e,a){var l=new Date(t);l.setMinutes(l.getMinutes()+30*a);var c={width:"".concat(i,"px")};return 0===a&&(c={width:"".concat(i+n.nowPlayingExtraWidth,"px")}),o.createElement("div",{key:l.toString(),className:jS,style:c},0===a?null!=r?r:"On now":l.toLocaleTimeString(void 0,{timeStyle:"short"}))})))}));function NS(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return DS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DS(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){throw e})),f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){l=!0,i=e})),f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function DS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MS(e){return MS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MS(e)}function _S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function RS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_S(Object(r),!0).forEach((function(t){VS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function VS(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==MS(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==MS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===MS(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return FS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BS(e){var t,r,n=qE(),i=n.pixelsPerMinute,l=n.epgGapWidth,c=n.nowPlayingThumbnailWidth,u=n.nowPlayingExtraWidth,s=n.mobile,f=o.useRef(null),d=o.useRef(null);o.useEffect((function(){!function(e,t,r){var n,o=new Set(document.querySelectorAll("[data-station-scroll-sync]")),i=30*e*16+15*t+r,a=NS(o);try{var l=function(){var e,t,r=n.value;r.className===Iw&&(r.removeEventListener("wheel",r.programsWheel,!1),r.addEventListener("wheel",r.programsWheel=function(e){if(r.scrollLeft+r.clientWidth>=i)return e.preventDefault(),e.stopPropagation(),!1},{passive:!0})),r.removeEventListener("scroll",r.syncOthersOnScroll,!1),r.storedScrollOffset=0,null===(e=r.parentElement)||void 0===e||e.classList.toggle(dw,!1),null===(t=r.parentElement)||void 0===t||t.classList.toggle(vw,r.scrollLeft!==i-r.clientWidth-1),r.addEventListener("scroll",r.syncOthersOnScroll=function(){var e,t,n=r.scrollLeft,a=n!==r.storedScrollOffset;if(r.storedScrollOffset=n,r.className===Iw)if(null===(e=r.parentElement)||void 0===e||e.classList.toggle(dw,Math.abs(n)>0),r.scrollLeft+r.clientWidth>=i)r.scrollLeft=i-r.clientWidth-1,null===(t=r.parentElement)||void 0===t||t.classList.toggle(vw,!1);else if(r.scrollLeft!==i-r.clientWidth-1){var l;null===(l=r.parentElement)||void 0===l||l.classList.toggle(vw,!0)}var c,u=NS(o);try{for(u.s();!(c=u.n()).done;){var s,f,d=c.value;d!==r&&(d.storedScrollOffset=n,a&&Math.round(d.scrollLeft-n)&&(d.scrollLeft=n),d.className===Iw&&(null===(s=d.parentElement)||void 0===s||s.classList.toggle(dw,Math.abs(n)>0),r.scrollLeft+r.clientWidth>=i&&(null===(f=d.parentElement)||void 0===f||f.classList.toggle(vw,!1))))}}catch(e){u.e(e)}finally{u.f()}},{passive:!0})};for(a.s();!(n=a.n()).done;)l()}catch(e){a.e(e)}finally{a.f()}}(i,l,c);var e=null;return d.current&&(e=new IntersectionObserver((function(e){var t=WS(e,1)[0];return t.target.classList.toggle(xw,t.intersectionRatio<1&&t.boundingClientRect.top<=0)}),{threshold:[1]})).observe(d.current),function(){var t;null===(t=e)||void 0===t||t.disconnect()}}),[i,l,c]);var p=o.useCallback((function(t){var r=t.currentTarget;if(f.current){var n=r.dataset.direction,o=30*i*3,a=Math.floor(f.current.scrollLeft),l=e.isRTL?a+o:a-o;"end"===n&&(l=e.isRTL?a-o:a+o),f.current.scrollTo({top:0,left:l,behavior:"auto"})}}),[i,e.isRTL]),m=a()(fw,VS({},ww,e.isEntitled)),v=a()(Ew,tS),y=ZE(e.currentTime),h=y.previous,g=y.minutesFromPrevious,w="".concat(g/30*100,"%"),E=e.isRTL?{right:w}:{left:w},S={width:"".concat(30*i+l,"px")},T=e.isRTL?RS(RS({},S),{},{right:"".concat(u,"px")}):RS(RS({},S),{},{left:"".concat(u,"px")});return o.createElement("section",{className:m,"data-testid":"epg-container"},o.createElement("div",{className:bw},o.createElement("h2",null,e.blockTitle)),o.createElement("div",{className:"".concat(pw," ").concat(mw)},o.createElement("button",{type:"button",className:"".concat(hw," ").concat(mw),"data-direction":"start",onClick:p,"data-testid":"left-arrow"},o.createElement(b(),null),o.createElement("span",{className:gw},"Scroll toward carousel start"))),o.createElement("div",{className:"".concat(pw," ").concat(yw)},o.createElement("button",{type:"button",className:"".concat(hw," ").concat(yw),"data-direction":"end",onClick:p,"data-testid":"right-arrow"},o.createElement("span",{className:gw},"Scroll toward carousel end"),o.createElement(b(),null))),o.createElement("ul",{className:Sw},e.stations.map((function(t){return o.createElement("li",{key:t.title,className:v},o.createElement(IS,{url:t.url,title:t.title,isEntitled:e.isEntitled,metrics:t.metrics}))}))),!s&&o.createElement(o.Fragment,null,o.createElement("div",{"data-testid":"station-time-bar",className:Tw,"data-station-scroll-sync":"true",ref:d},o.createElement(AS,{previous:h,onNowLabel:null===(t=e.stations[0])||void 0===t||null===(r=t.programs[0])||void 0===r?void 0:r.onNowLabel})),o.createElement("div",{className:Pw,"data-station-scroll-sync":"true"},o.createElement("div",{className:Ow,style:{width:"".concat(30*i*16+15*l,"px")}},o.createElement("div",{className:Ow,style:T},o.createElement("div",{className:kw,style:E},new Date(e.currentTime).toLocaleTimeString(void 0,{timeStyle:"short"})))))),o.createElement("div",{"data-testid":"station-carousels-list",className:Iw,ref:f,"data-station-scroll-sync":"true"},o.createElement("div",{className:Cw,style:{width:"".concat(30*i*16+15*l+c,"px")}},o.createElement("ul",null,e.stations.map((function(e,t){return o.createElement("li",{key:e.title,className:v,"data-index":t},o.createElement(SS,{stationName:e.title,programs:e.programs,titleId:e.metrics.csm.titleID,refMarker:e.refMarker}))}))))))}var US="_0sbmz1",HS="Y-ydv+",GS=function(e){var t=e.children,r=e.isEntitled,n="".concat(US," ").concat(r?HS:"");return o.createElement("div",{className:n},t)};function zS(e,t,r,n){var o=jw(e,t);if(o/60>1){var i=Math.floor(o/60).toString(),a=Math.floor(o%60).toString();return r?r.replace("{h}",i).replace("{m}",a):"".concat(i,"hr ").concat(a,"min left")}var l=Math.floor(o).toString();return n?null==n?void 0:n.replace("{m}",l):"".concat(l," min left")}function qS(e){return qS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qS(e)}function QS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function YS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?QS(Object(r),!0).forEach((function(t){KS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function KS(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==qS(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==qS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===qS(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ZS=new Map;function XS(e,t,r){var n=ZE(t),o=n.previous,i=n.next,a=new Date(o);a.setHours(a.getHours()+7),a.setMinutes(a.getMinutes()+55);var l=e.entities.map((function(n,l){var c,u,s,f,d,p,m,v,y,h,g,b,w;if(!n.station)return null;var E=null!==(c=null===(u=n.station)||void 0===u||null===(s=u.strings)||void 0===s?void 0:s.timeLeftHours)&&void 0!==c?c:"{h}hr {m}min left",S=null!==(f=null===(d=n.station)||void 0===d||null===(p=d.strings)||void 0===p?void 0:p.timeLeftMinutes)&&void 0!==f?f:"{m} min left",T=null===(m=n.station)||void 0===m?void 0:m.schedule.map((function(r,o,l){var c,u,s,f,d,p,m,v,y,h,g,b,w,T,x,P,O,k,I,C,j,L,A,N,D,M,_,R,V,W,F,B,U,H,G,z,q,Q,Y,K,Z,X,J,$=r.start,ee=r.end,te=0===o||t>$;return YS(YS(YS({startTime:$,endTime:ee,titleImage:null!==(c=null===(u=r.metadata.image)||void 0===u?void 0:u.url)&&void 0!==c?c:"",title:null!==(s=r.metadata.title)&&void 0!==s?s:"",seriesTitle:r.metadata.seriesTitle,synopsis:null!==(f=r.metadata.synopsis)&&void 0!==f?f:"",stationId:null!==(d=null===(p=n.station)||void 0===p?void 0:p.id)&&void 0!==d?d:"",stationTitle:null!==(m=null===(v=n.station)||void 0===v?void 0:v.name)&&void 0!==m?m:"",nextBroadcastTitle:null!==(y=null!==(h=null===(g=l[o+1])||void 0===g?void 0:g.metadata.seriesTitle)&&void 0!==h?h:null===(b=l[o+1])||void 0===b?void 0:b.metadata.title)&&void 0!==y?y:"",nextBroadcastTitleImage:null!==(w=null===(T=l[o+1])||void 0===T||null===(x=T.metadata.image)||void 0===x?void 0:x.url)&&void 0!==w?w:"",nextBroadcastStartTime:null===(P=l[o+1])||void 0===P?void 0:P.start,nextBroadcastEndTime:null===(O=l[o+1])||void 0===O?void 0:O.end,isEntitled:"Entitled"===(null===(k=e.entitlementCues)||void 0===k?void 0:k.entitledCarousel),entitlementMessage:null!==(I=null===(C=n.entitlementCues)||void 0===C||null===(j=C.focusMessage)||void 0===j?void 0:j.message)&&void 0!==I?I:"",entitlementIcon:null!==(L=null===(A=n.entitlementCues)||void 0===A||null===(N=A.focusMessage)||void 0===N?void 0:N.icon)&&void 0!==L?L:"OFFER_ICON",entitlementType:null!==(D=null===(M=n.entitlementCues)||void 0===M?void 0:M.entitlementType)&&void 0!==D?D:ou.Uz.UNENTITLED,contentMaturityTitle:null!==(_=null===(R=r.metadata.contentMaturityRating)||void 0===R?void 0:R.title)&&void 0!==_?_:"",contentMaturityRating:null!==(V=null===(W=r.metadata.contentMaturityRating)||void 0===W?void 0:W.rating)&&void 0!==V?V:"",nextUp:null!==(F=null===(B=n.station)||void 0===B||null===(U=B.strings)||void 0===U?void 0:U.nextUp)&&void 0!==F?F:"",onNowLabel:null!==(H=null===(G=n.station)||void 0===G||null===(z=G.strings)||void 0===z?void 0:z.onNowLabel)&&void 0!==H?H:"",timeRemaining:te?zS(t,ee,E,S):""},n.playbackAction),null===(q=n.playbackAction)||void 0===q?void 0:q.playbackExperienceMetadata),{},{refMarker:null!==(Q=null===(Y=n.playbackAction)||void 0===Y?void 0:Y.refMarker)&&void 0!==Q?Q:"unknown",subscriptionLabel:null!==(K=null===(Z=n.promotedAcquisitionGroup)||void 0===Z?void 0:Z.label)&&void 0!==K?K:"",subscriptionURL:null!==(X=null===(J=n.link)||void 0===J?void 0:J.url)&&void 0!==X?X:"",nowPlaying:te,endsAfterScheduledTimeLimit:ee>a.getTime(),startsWithinOnNowSegment:$<i})})).filter((function(e){return e.endTime>o})),x=function(){for(var e,t,r,n,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var l=i.join("_");if(ZS.has(l))return ZS.get(l);var c={csm:{collectionImpressionData:i[0],carouselPosition:i[1],itemPosition:i[2],widgetType:null!==(e=i[3])&&void 0!==e?e:"",refMarker:null!==(t=i[4])&&void 0!==t?t:"unknown",imageURL:null!==(r=i[5])&&void 0!==r?r:"",titleID:null!==(n=i[6])&&void 0!==n?n:"",itemAnalytics:i[7]}};return ZS.set(l,c),c}(r.impressionData,r.carouselPosition,l,n.widgetType,n.refMarker,null===(v=n.station)||void 0===v?void 0:v.logo,null===(y=n.station)||void 0===y?void 0:y.id,n.itemAnalytics);return{url:null!==(h=null===(g=n.station)||void 0===g?void 0:g.logo)&&void 0!==h?h:"",title:null===(b=n.station)||void 0===b?void 0:b.name,programs:T,metrics:x,refMarker:null!==(w=n.refMarker)&&void 0!==w?w:""}})).filter((function(e){return!!e&&0!==(null==e?void 0:e.programs.length)}));return l}function JS(){var e,t,r,n,i,a=(0,y.G4)(),l=function(){var e=o.useContext(RT);if(0===Object.keys(e).length)throw new Error("useBaseContainerContext must be used within a BaseContainerContext.Provider");return e}(),c=l.actions,u=l.container,s=l.index,f=YE(),d=XS(u,f,{carouselPosition:s,impressionData:null!==(e=u.impressionData)&&void 0!==e?e:""}),p=null!==(t=null===(r=a.render)||void 0===r?void 0:r.isRTL)&&void 0!==t&&t,m="Entitled"===(null===(n=u.entitlementCues)||void 0===n?void 0:n.entitledCarousel),v=null!==(i=u.title)&&void 0!==i?i:"";return o.createElement(GS,{isEntitled:m},o.createElement(BS,{blockTitle:v,stations:d,isEntitled:m,isRTL:p,currentTime:f}),c.onPaginateContainer&&o.createElement(Hb,{onPaginateContainer:c.onPaginateContainer}))}var $S=function(e){switch(e){case"Charts":return"TOP_CHART";case"StandardHero":return"STANDARD_HERO";case"TentpoleHero":return"TENTPOLE_HERO";default:return"HOVER"}},eT=function(e,t){var r={};return e.forEach((function(e,n){var o=e.entityID||e.titleID;o&&(r[o]=n+t)})),r},tT=r("./src/util/utils/dvstring/index.ts");function rT(e){return rT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rT(e)}function nT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==rT(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==rT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rT(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var iT=function(e,t){var r,n,o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nT(Object(r),!0).forEach((function(t){oT(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);o.watchlistAction=t;var i=null===(r=o.overflowMenu)||void 0===r||null===(n=r.items)||void 0===n?void 0:n.find((function(e){return e.itemType===ou.Np.WatchlistAction}));return i&&(i.action=t,i.text=(0,tT.Wb)(t.text)),o};function aT(e){return aT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aT(e)}function lT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lT(Object(r),!0).forEach((function(t){uT(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lT(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==aT(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==aT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===aT(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sT(e){return function(e){if(Array.isArray(e))return fT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return fT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fT(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dT(e,t){switch(t.type){case"HideThis":var r=e.container,n=r.entities,o=t.entityIndex,i=sT(n);return i[o]=cT(cT({},i[o]),{},{hideThisAction:t.payload}),cT(cT({},e),{},{container:cT(cT({},r),{},{entities:i})});case"OnNewEntities":var a=e.container,l=e.entityIDToIndexMap,c=a.entities,u=t.payload.entities,s=[].concat(sT(c),sT(u)),f=eT(u,c.length);return cT(cT({},e),{},{container:cT(cT({},a),{},{entities:s}),entityIDToIndexMap:cT(cT({},l),f)});case"ToggleWatchlist":var d=e.container,p=t.entityIndex,m=t.payload,v=sT(d.entities);return v[p]=iT(v[p],m),cT(cT({},e),{},{container:cT(cT({},d),{},{entities:v})});case"RemoveItem":var y=e.removedItemsMap,h=e.container,g=t.entityIndex,b=t.payload,w=b.removedOverlayMessage,E=b.canUndoRemoval,S=b.undo,T=b.undoMessage,x=h.entities[g],P=cT({},y);return P[x.titleID]={removedOverlayMessage:w,canUndoRemoval:E,undo:S,undoMessage:T},cT(cT({},e),{},{removedItemsMap:P});case"RestoreItem":var O=e.removedItemsMap,k=e.container,I=t.entityIndex,C=k.entities[I],j=cT({},O);return delete j[C.titleID],cT(cT({},e),{},{removedItemsMap:j});default:return e}}function pT(e){return pT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pT(e)}function mT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mT(Object(r),!0).forEach((function(t){yT(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==pT(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==pT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pT(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hT(e,t){switch(t.type){case"EnrichItemMetadata":return vT(vT({},e),{},yT({},t.entityID,t.payload));case"ToggleWatchlist":var r=e[t.entityID];if(!r)return e;var n=iT(r,t.payload);return vT(vT({},e),{},yT({},t.entityID,n));default:return e}}var gT="_5noh4m",bT="_7K84BP";function wT(e){var t=e.url,r=e.info;void 0!==t&&"string"!=typeof t&&new It.Oc("DVWebNode:".concat(r,":URLError")).error(t);return t}var ET=function(e){var t=e.slotName,r=e.links;return o.createElement("div",{className:gT,"data-testid":"strategy-bar"},t&&o.createElement("span",{className:bT},t),r&&r.map((function(e,t){return o.createElement("a",{className:bT,key:t,href:wT({url:e.url,info:"StrategyBar"}),target:"_blank"},e.label)})))};ET.displayName="StrategyBar";var ST=o.memo(ET),TT=o.createContext({});function xT(e){return xT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xT(e)}function PT(){PT=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),l=new P(o||[]);return n(a,"_invoke",{value:E(e,r,l)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function p(){}function m(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,h=y&&y(y(O([])));h&&h!==t&&r.call(h,i)&&(v=h);var g=m.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(n,i,a,l){var c=s(e[n],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==xT(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,l)}),(function(e){o("throw",e,a,l)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,l)}))}l(c.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function E(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return k()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var l=S(a,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:p,configurable:!0}),p.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,l,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function OT(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function kT(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){OT(i,n,o,a,l,"next",e)}function l(e){OT(i,n,o,a,l,"throw",e)}a(void 0)}))}}TT.displayName="PaginationApiContext";function IT(e){return IT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IT(e)}function CT(){CT=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),l=new P(o||[]);return n(a,"_invoke",{value:E(e,r,l)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function p(){}function m(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,h=y&&y(y(O([])));h&&h!==t&&r.call(h,i)&&(v=h);var g=m.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(n,i,a,l){var c=s(e[n],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==IT(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,l)}),(function(e){o("throw",e,a,l)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,l)}))}l(c.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function E(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return k()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var l=S(a,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:p,configurable:!0}),p.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,l,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function jT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function LT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jT(Object(r),!0).forEach((function(t){AT(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jT(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function AT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==IT(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==IT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===IT(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NT(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function DT(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){NT(i,n,o,a,l,"next",e)}function l(e){NT(i,n,o,a,l,"throw",e)}a(void 0)}))}}function MT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var RT=o.createContext({});RT.displayName="BaseContainerContext";var VT=o.memo((function(e){var t=e.container,r=e.nextContainer,n=e.context,i=e.apiInteractions,a=e.isTrailerAutoplayEnabled,l=e.shouldDisplayStrategy,c=e.logger,u=e.consumingWidgetType,s=e.useWatchlistFromContainerData,f=e.displayOverlayOnWatchlistRemoval,d=e.index,p=t.entities,m=t.paginationServiceToken,v=t.paginationTargetId,y=MT(o.useState(t.paginationStartIndex),2),h=y[0],g=y[1],b=MT(o.useState(t.paginationServiceToken),2),w=b[0],E=b[1],S=MT(o.useState(!1),2),T=S[0],x=S[1],P=MT(o.useState(!0),2),O=P[0],k=P[1],I={container:t,entityIDToIndexMap:eT(p,0),removedItemsMap:{}},C=MT(o.useReducer(dT,I),2),j=C[0],L=C[1],A=MT(o.useTransition(),2),N=(A[0],A[1]),D=MT(o.useReducer(hT,{}),2),M=D[0],_=D[1],R=MT(o.useState(!1),2),V=R[0],W=R[1],F=o.useContext(TT).paginateContainer,B=o.useContext(pe),U=B.isInResiliencyMode,H=B.clickstream,G=B.clickstreamPageContext,z=B.contingencies,q=o.useContext(oe).hideBelowContainerIndex,Q=j.container,Y=j.entityIDToIndexMap,K=j.removedItemsMap,Z=Q.debugData,X=function(e){if(e){var t=Y[e];return Q.entities[t]}},J=function(){var e=DT(CT().mark((function e(t,r,n){var o,a,l,s;return CT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=$S(Q.containerType),a="Charts"===Q.containerType?Q.impressionData:void 0,e.prev=2,e.next=5,i.fetchEnrichment(t,o,Q.journeyIngressContext,r,n,a);case 5:s=e.sent,_({type:"EnrichItemMetadata",entityID:t,payload:LT(LT({},s),{},{entitlementCues:(f=null===(l=X(t))||void 0===l?void 0:l.entitlementCues,d=s.entitlementCues,p=void 0,m=void 0,v=void 0,{glanceMessage:null!=d&&null!==(p=d.glanceMessage)&&void 0!==p&&p.message?d.glanceMessage:null==f?void 0:f.glanceMessage,focusMessage:null!=d&&null!==(m=d.focusMessage)&&void 0!==m&&m.message?d.focusMessage:null==f?void 0:f.focusMessage,highValueMessage:null!=d&&null!==(v=d.highValueMessage)&&void 0!==v&&v.message?d.highValueMessage:null==f?void 0:f.highValueMessage,entitlementType:null!=d&&d.entitlementType?d.entitlementType:null==f?void 0:f.entitlementType})})}),W(!0),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),c.count("DVWeb::".concat(u,"::BaseContainer::FetchEnrichmentError"),1,!1),c.warn(e.t0),W(!0);case 15:case"end":return e.stop()}var f,d,p,m,v}),e,null,[[2,10]])})));return function(t,r,n){return e.apply(this,arguments)}}(),$=function(){var e=DT(CT().mark((function e(t,r,n){var o,a,l,s,f,d;return CT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=Y[r],l=Q.entities,s=null===(o=l[a])||void 0===o?void 0:o.hideThisAction,"number"==typeof a&&s){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,e.next=9,i.hideThis(s);case 9:if(f=e.sent){e.next=12;break}return e.abrupt("return");case 12:(d=f.hideThisAction)&&(L({type:"HideThis",entityIndex:a,payload:d}),n&&n(f)),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),c.count("DVWeb::".concat(u,"::BaseContainer::HideTitleError"),1,!1),c.warn(e.t0);case 20:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t,r,n){return e.apply(this,arguments)}}(),ee=function(){var e=DT(CT().mark((function e(t,r){return CT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.libraryItemStateChange(r,n);case 3:e.sent.success&&L({type:"RemoveItem",entityIndex:Y[t],payload:{removedOverlayMessage:r.overlayMessage,canUndoRemoval:!1}}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),c.count("DVWeb::".concat(u,"::BaseContainer::LibraryItemActionError"),1,!1),c.warn(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),te=function(){if(F&&m&&v)return DT(CT().mark((function e(){var t,r,n,o;return CT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,x(!0),n=null!=h?h:Q.entities.length,e.next=7,F({paginationTargetId:v,serviceToken:null!=w?w:m,startIndex:n,isPurchaseAndRentalCarousel:null===(t=Q.seeMoreLink)||void 0===t||null===(r=t.url)||void 0===r?void 0:r.startsWith("/gp/video/mystuff/library/"),journeyIngressContext:Q.journeyIngressContext});case 7:o=e.sent,N((function(){var e;L({type:"OnNewEntities",payload:{entities:o.entities}}),k(o.hasMoreItems),g(o.startIndex),E(null===(e=o.pagination)||void 0===e?void 0:e.serviceToken),x(!1)})),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(2),c.count("DVWeb::".concat(u,"::BaseContainer::PaginateContainerError"),1,!1),c.warn(e.t0),k(!1),x(!1);case 17:case"end":return e.stop()}}),e,null,[[2,11]])})))}(),re=function(e){var t=e.container,r=e.enrichments,n=e.entityIDToIndexMap,o=e.consumingWidgetType,i=e.context,a=e.useWatchlistFromContainerData,l=e.displayOverlayOnWatchlistRemoval,c=e.clickstream,u=e.clickstreamPageContext,s=e.dispatchContainerData,f=e.dispatchEnrichments,d=e.logger,p=e.apiInteractions,m=function(){var e=kT(PT().mark((function e(t,r,c){var u,y;return PT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.toggleWatchlist(t,i);case 3:if(u=e.sent){e.next=6;break}return e.abrupt("return");case 6:y=u.watchlistAction,a?s({type:"ToggleWatchlist",entityIndex:n[r],payload:y}):f({type:"ToggleWatchlist",entityID:r,payload:y}),l&&("Remove"===t.tag?s({type:"RemoveItem",entityIndex:n[r],payload:{removedOverlayMessage:t.postActionOverlayMessage,canUndoRemoval:!0,undoMessage:t.undoMessage,undo:function(){m(y,r,c)}}}):s({type:"RestoreItem",entityIndex:n[r]})),v(t,r,c),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),d.count("DVWeb::".concat(o,"::BaseContainer::WatchlistToggleError"),1,!1),d.warn(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r,n){return e.apply(this,arguments)}}(),v=function(e,t,r){var n="remove"===e.tag.toLowerCase()?Xr.RemoveFromWatchlist:Xr.AddToWatchlist;Eo("".concat(null!=r?r:"atv_unknown","_wtl_").concat(n===Xr.AddToWatchlist?"add":"rmv","_hov"),null==u?void 0:u.pageType,null==u?void 0:u.subPageType,t,[n],void 0,null==u?void 0:u.clientVariant,c)};return function(){var e=kT(PT().mark((function e(o,i,l){var c,u,s;return PT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==o||o.preventDefault(),c=a?null===(u=t.entities[n[i]])||void 0===u?void 0:u.watchlistAction:null===(s=r[i])||void 0===s?void 0:s.watchlistAction){e.next=4;break}return e.abrupt("return");case 4:return e.abrupt("return",m(c,i,l));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()}({container:Q,enrichments:M,entityIDToIndexMap:Y,consumingWidgetType:u,useWatchlistFromContainerData:s,displayOverlayOnWatchlistRemoval:f,dispatchContainerData:L,dispatchEnrichments:_,context:n,clickstreamPageContext:G,clickstream:H,logger:c,apiInteractions:i}),ne={container:Q,nextContainer:r,enrichments:M,enrichmentAttempted:V,helpers:{getEntityFromContainer:X},actions:{getEnrichments:function(e,t,r){return!U&&!Boolean(null==z?void 0:z.disableEnrichItemMetadata)&&e.forEach((function(e){return J(e,t,r)}))},onHideThis:$,onWatchlistToggle:re,onPaginateContainer:te,onLibraryAction:ee},isTrailerAutoplayEnabled:a,index:d,consumingWidgetType:u,isPaginatingContainer:T,hasMoreItems:!!te&&O,removedItemsMap:K};return o.createElement(RT.Provider,{value:ne},o.createElement(Su,null,l&&o.createElement(ST,Z),!(void 0!==q&&q<d)&&function(e){switch(e){case"StandardCarousel":default:return o.createElement(Cd,null);case"StandardHero":return o.createElement(Bp,null);case"TentpoleHero":return o.createElement(Ym,null);case"Charts":return o.createElement(dy,null);case"SuperCarousel":return o.createElement(Dh,null);case"Cover":return o.createElement(cg,null);case"Nodes":return o.createElement(Ig,null);case"Grid":return o.createElement(qb,null);case"TextContainer":return o.createElement(Yb,null);case"EpgGroup":return o.createElement(JS,null);case"FixedHeaderCarousel":return o.createElement(sw,null)}}(Q.containerType)))}));VT.displayName="BaseContainer";var WT=(0,y.s6)((0,h.ty)(VT)),FT=r("./node_modules/@amzn/dvui/dist/Spinner.js"),BT="vT0ALj",UT="hHjWp8";function HT(e){return HT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HT(e)}function GT(){return GT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GT.apply(this,arguments)}function zT(){zT=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),l=new P(o||[]);return n(a,"_invoke",{value:E(e,r,l)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function p(){}function m(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,h=y&&y(y(O([])));h&&h!==t&&r.call(h,i)&&(v=h);var g=m.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(n,i,a,l){var c=s(e[n],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==HT(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,l)}),(function(e){o("throw",e,a,l)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,l)}))}l(c.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function E(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return k()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var l=S(a,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:p,configurable:!0}),p.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,l,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function qT(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function QT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return YT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var KT=function(e){var t=e.isLoading,r=e.label,n=e.paginate,a=e.url,l=e.ariaLabel,c=e.consumingWidgetType;return t?o.createElement("div",{className:i(BT,"tst-pagination-loader"),"data-testid":"pagination-loader"},o.createElement(FT.Spinner,null)):o.createElement("div",{className:BT},o.createElement("a",{className:i(UT,"tst-pagination-link"),href:wT({url:a,info:"".concat(c,":Pagination")}),onClick:function(e){e.preventDefault(),n()},"data-testid":"page-pagination-button","aria-label":l,rel:"next"},r))},ZT=function(e){var t=e.loadMoreContent,r=e.isLoading,n=QT(o.useState(!1),2),i=n[0],a=n[1],l=QT(o.useState(!1),2),c=l[0],u=l[1],s=o.useContext(oe),f=s.entityWithLock,d=s.hideBelowContainerIndex,p=QT(o.useState(!1),2),m=p[0],v=p[1],y=function(){var e,r=(e=zT().mark((function e(){var r,n;return zT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:r=e.sent,n=r.success,u(!n);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){qT(i,n,o,a,l,"next",e)}function l(e){qT(i,n,o,a,l,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}();o.useEffect((function(){var e="PAGE"===f.type;(r||c||void 0!==d)&&(e=!1),v(e)}),[f.type,r,c,d]),o.useEffect((function(){m&&i&&y()}),[m,i]),o.useEffect((function(){m||a(!1)}),[m]);var h=void 0===d?o.createElement(KT,GT({},e,{paginate:y})):null;return m?o.createElement(Nb.Z,{rootMargin:"".concat(100,"% 0px"),onChange:function(e){return a(!!e)},"data-testid":"page-pagination-marker"},h):h};ZT.displayName="Pagination";var XT=o.memo(ZT),JT=function(e,t,r,n,o,i,a,l){var c,u,s=(c=e)&&JSON.stringify(c),f=function(e,t,r,n,o,i,a){return{placement:e,playback:t,preroll:r,trailer:n,watchlist:o,badge:i,impressionData:a}}(t,r,n,o,i,a,l);return{metadataToEnrich:(u=f)&&JSON.stringify(u),titleIDsToEnrich:s}};function $T(e){return $T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$T(e)}function ex(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ex(Object(r),!0).forEach((function(t){ax(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ex(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rx(e){return function(e){if(Array.isArray(e))return nx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return nx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nx(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ox(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ix(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lx(n.key),n)}}function ax(e,t,r){return(t=lx(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lx(e){var t=function(e,t){if("object"!==$T(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==$T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$T(t)?t:String(t)}var cx=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];ox(this,e),ax(this,"ctx",void 0),ax(this,"queueMap",{}),ax(this,"finished",[]),ax(this,"timeout",void 0),ax(this,"titleIdsForBadgeRequest",[]),ax(this,"isCleanSlateActive",!1),ax(this,"isJicEnrichmentOn",!1),ax(this,"handleQueue",(function(t){if(r.ctx&&r.getQueue(t)&&0!=r.getQueue(t).length){var n=r.getQueue(t).splice(0,30);r.finished=[].concat(rx(r.finished),rx(n));var o=n.map((function(e){return e.title})),i=JSON.parse(t),a=n.some((function(e){return r.titleIdsForBadgeRequest.includes(e.title)})),l=JT(o,i.placement,!0,!0,!0,!0,a,i.impressionData),c=(new f.e).EnrichItemMetadata(tx(tx({context:r.ctx},l),{},{isCleanSlateActive:r.isCleanSlateActive,journeyIngressContext:i.journeyIngressContext}));(0,m.cL)("DVWebNode::EnrichmentCall::JIC".concat(r.isJicEnrichmentOn?"Enabled":"Disabled"),1,!1),c.then((function(n){r.clearTimer(t);var i=e.enrichmentMap[t];e.enrichmentMap=tx(tx({},e.enrichmentMap),{},ax({},t,tx(tx({},i),n.enrichments))),r.broadcastChanges(n.enrichments,o,t),null!=n.isTrailerAutoplayEnabled&&(e.isTrailerAutoplayEnabled=n.isTrailerAutoplayEnabled),r.queueFull(t)?r.handleQueue(t):r.getQueue(t).length>0&&r.setTimer(t)})).catch((function(){return r.broadcastChanges({},o,t)}))}})),this.ctx=t,this.timeout=n,this.isCleanSlateActive=o,this.isJicEnrichmentOn=i}var t,r,n;return t=e,r=[{key:"enrichmentFor",value:function(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HOVER",o=arguments.length>2?arguments[2]:void 0;if(t){var i=this.isJicEnrichmentOn?o:void 0,a=this.batchKey(n,i);return null===(r=e.enrichmentMap[a])||void 0===r?void 0:r[t]}}},{key:"enrichmentPromise",value:function(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HOVER",o=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5?arguments[5]:void 0;return new Promise((function(c,u){if(!t)return u();var s=r.isJicEnrichmentOn?o:void 0,f=r.batchKey(n,s,l),d={title:t,placement:n,journeyIngressContext:s,impressionData:l},p=r.isTitleDetailIncluded(r.finished,d)&&!i&&e.enrichmentMap[f]&&e.enrichmentMap[f][t],m=a&&p&&!r.titleIdsForBadgeRequest.includes(t);if(p&&!m)return c(p);r.isTitleDetailIncluded(r.getQueue(f),d)||r.getQueue(f).push(d),a&&!r.titleIdsForBadgeRequest.includes(t)&&r.titleIdsForBadgeRequest.push(t);var v=r.getOrSet(e.resolverMap,f,{})[t]||[];e.resolverMap[f][t]=[].concat(rx(v),[c]);var y=r.getOrSet(e.rejecterMap,f,{})[t]||[];e.rejecterMap[f][t]=[].concat(rx(y),[u]),r.queueFull(f)?r.handleQueue(f):r.getTimer(f)||r.setTimer(f)}))}},{key:"batchKey",value:function(e,t,r){return JSON.stringify({placement:e,journeyIngressContext:t,impressionData:r})}},{key:"getQueueAndTimer",value:function(e){return this.queueMap[e]||(this.queueMap[e]={timer:void 0,queue:[]}),this.queueMap[e]}},{key:"getQueue",value:function(e){return this.getQueueAndTimer(e).queue}},{key:"getTimer",value:function(e){return this.getQueueAndTimer(e).timer}},{key:"isTitleDetailIncluded",value:function(e,t){return e.some((function(e){return e.title===t.title&&e.placement===t.placement&&e.journeyIngressContext===t.journeyIngressContext&&e.impressionData===t.impressionData}))}},{key:"getOrSet",value:function(e,t,r){return e[t]=e[t]||r,e[t]}},{key:"queueFull",value:function(e){return this.getQueue(e).length>=30}},{key:"setTimer",value:function(e){this.getQueueAndTimer(e).timer=window.setTimeout(this.handleQueue,this.timeout,e)}},{key:"clearTimer",value:function(e){window.clearTimeout(this.getTimer(e)),this.getQueueAndTimer(e).timer=void 0}},{key:"broadcastChanges",value:function(t,r,n){r.forEach((function(r){var o=t[r],i=e.resolverMap[n][r],a=e.rejecterMap[n][r];e.resolverMap[n][r]=[],e.rejecterMap[n][r]=[],i&&o?i.forEach((function(e){return e(o)})):a&&!o&&a.forEach((function(e){return e("EnrichItemMetadata failed to respond with enrichment for title ID ".concat(r," with batch key ").concat(n))}))}))}}],r&&ix(t.prototype,r),n&&ix(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();ax(cx,"enrichmentMap",{}),ax(cx,"resolverMap",{}),ax(cx,"rejecterMap",{}),ax(cx,"isTrailerAutoplayEnabled",!0);var ux=r("./src/util/utils/network.ts"),sx=function(){return new Promise((function(e,t){var r,n,o=function(e){fetch("".concat("/gp/video/ajax/log-device-info.html/ref=atv_log_device_info","?description=DVWebPlayer").concat(e,":LoadFailed")),t("DVWebPlayer:".concat(e,":load:failure"))};window.WebPlayer?e(new window.WebPlayer):null==document.getElementById("player-script")?o("Tag"):(n=0,function t(){n<60?(n+=1,window.WebPlayer?e(new window.WebPlayer):r=setTimeout(t,1e3)):o("Timeout")}(),document.getElementById("player-script").onload=function(){clearTimeout(r),window.WebPlayer?e(new window.WebPlayer):o("Loading")})}))};function fx(e){return fx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fx(e)}function dx(){dx=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),l=new P(o||[]);return n(a,"_invoke",{value:E(e,r,l)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function p(){}function m(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,h=y&&y(y(O([])));h&&h!==t&&r.call(h,i)&&(v=h);var g=m.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(n,i,a,l){var c=s(e[n],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==fx(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,l)}),(function(e){o("throw",e,a,l)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,l)}))}l(c.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function E(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return k()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var l=S(a,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:p,configurable:!0}),p.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,l,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function px(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function mx(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){px(i,n,o,a,l,"next",e)}function l(e){px(i,n,o,a,l,"throw",e)}a(void 0)}))}}function vx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bx(n.key),n)}}function yx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yx(Object(r),!0).forEach((function(t){gx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yx(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gx(e,t,r){return(t=bx(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bx(e){var t=function(e,t){if("object"!==fx(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==fx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===fx(t)?t:String(t)}var wx=["closed","asinChanged","aborted"],Ex=function(e){return{trailer:e.trailer,position:Number(e.position||0),videoType:e.videoType,live:Boolean(e.lcid),asin:e.lcid||e.asin,ref:e.ref,playbackEnvelope:e.playbackEnvelope,privacyConsent:e.privacyConsent,playbackExperiences:e.playbackExperiences}},Sx=function(e){return hx(hx({},e),{},{startEpoch:Math.floor(Date.now()/1e3)})},Tx=function(){function e(t,r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),gx(this,"player",void 0),gx(this,"logger",void 0),gx(this,"liveIncompatibleCallback",void 0),gx(this,"playerConfigData",void 0),gx(this,"playerConfig",void 0),gx(this,"currentContentConfig",null),gx(this,"pubSub",void 0),gx(this,"lastTitle",void 0),gx(this,"capabilities",void 0),gx(this,"_test",void 0),gx(this,"playbackLaunchedTime",void 0),this.player=t,this.logger=o,this._test={player:t},this.liveIncompatibleCallback=n,this.pubSub=(0,Sl.M)(),this.playerConfigData=r,this.playerConfig=El(r),this.lastTitle=null,this.init(),this.capabilities=new Promise((function(e){t.on("playerCapabilities",(function(t){var r=t.capabilities;e(r)}))}))}var t,r,n,o,i,a,l,c;return t=e,r=[{key:"init",value:function(){var e=this,t=wl(this.playerConfigData.pageType);wx.forEach((function(t){e.player.on(t,function(){var r=mx(dx().mark((function r(n){return dx().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.callAction(t);case 2:n&&"asinChanged"===t&&(e.lastTitle=Sx(Ex(n)));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())})),this.player.on("playing",(function(){if(e.playbackLaunchedTime){var r=Date.now()-e.playbackLaunchedTime;e.logCounter("playbackdelay",r),e.playbackLaunchedTime=null,pl({action:dl.PlaybackStarted,pageType:t,logger:e.logger,videoType:e.getVideoType()})}})),this.on("closed",(function(){return pl({action:dl.PlayerClosed,pageType:t,logger:e.logger,videoType:e.getVideoType()})})),this.on("asinChanged",(function(){return pl({action:dl.PlayerTitleChanged,pageType:t,logger:e.logger,videoType:e.getVideoType()})})),this.on("beforePlay",(function(t){return e.liveIncompatibleCheck(t)})),this.player.initialize(this.playerConfig)}},{key:"callAction",value:(c=mx(dx().mark((function e(t){var r=this;return dx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.pubSub.query(t).map((function(e){return e(r.lastTitle)})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"on",value:function(e,t){return this.pubSub.subscribe(e,t)}},{key:"prepare",value:(l=mx(dx().mark((function e(t){return dx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.callAction("prepare");case 2:this.player.prepare(this.playerConfig,hx(hx({},Ex(t)),{},{immediateConsumption:!1}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"liveIncompatibleCheck",value:(a=mx(dx().mark((function e(t){return dx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Live"!==(r=t).videoType&&!r.lcid&&!r.live){e.next=6;break}return e.next=3,this.capabilities;case 3:e.t0=e.sent.supportsLive,e.next=7;break;case 6:e.t0=!0;case 7:if(e.t0){e.next=11;break}throw this.liveIncompatibleCallback(),"Live Incompatible";case 11:case"end":return e.stop()}var r}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"play",value:(i=mx(dx().mark((function e(t){var r,n;return dx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ex(t),this.lastTitle=Sx(r),this.currentContentConfig=r,this.playbackLaunchedTime=Date.now(),e.next=6,this.callAction("beforePlay");case 6:return e.next=8,this.callAction("play");case 8:n={clickstreamRefMarker:t.ref||"atv_dp_unknown",playbackInitiatedTime:Date.now()},this.player.play(this.playerConfig,r,n);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"stop",value:(o=mx(dx().mark((function e(){return dx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.callAction("stop");case 2:return this.player.initialize(this.playerConfig),this.currentContentConfig=null,this.playbackLaunchedTime=null,e.next=7,this.callAction("closed");case 7:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"getVideoType",value:function(){return this.currentContentConfig&&this.currentContentConfig.videoType||"unknown"}},{key:"logCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r="web",n="dvweb:playback:".concat(e,":").concat(this.playerConfigData.pageType,":").concat(r,":").concat(this.getVideoType()).toLocaleLowerCase();this.logger.count(n,t,!1)}}],r&&vx(t.prototype,r),n&&vx(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),xx={instance:null},Px=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return xx.instance=!n&&xx.instance||sx().then((function(n){return new Tx(n,e,t,r)})).catch((function(t){throw pl({action:dl.PlayerFailedToLoad,pageType:wl(e.pageType),logger:r,videoType:"unknown"}),t})),xx.instance};function Ox(e){return Ox="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ox(e)}function kx(){kx=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),l=new P(o||[]);return n(a,"_invoke",{value:E(e,r,l)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function p(){}function m(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,h=y&&y(y(O([])));h&&h!==t&&r.call(h,i)&&(v=h);var g=m.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(n,i,a,l){var c=s(e[n],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==Ox(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,l)}),(function(e){o("throw",e,a,l)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,l)}))}l(c.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function E(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return k()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var l=S(a,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:p,configurable:!0}),p.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,l,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Ix(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function Cx(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ix(i,n,o,a,l,"next",e)}function l(e){Ix(i,n,o,a,l,"throw",e)}a(void 0)}))}}function jx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rx(n.key),n)}}function Lx(e,t){return Lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lx(e,t)}function Ax(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Mx(e);if(t){var o=Mx(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Nx(this,r)}}function Nx(e,t){if(t&&("object"===Ox(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Dx(e)}function Dx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mx(e){return Mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mx(e)}function _x(e,t,r){return(t=Rx(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rx(e){var t=function(e,t){if("object"!==Ox(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ox(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ox(t)?t:String(t)}var Vx=function(e,t){var r=document.createEvent("CustomEvent");r.initCustomEvent(e,!0,!0,t),document.dispatchEvent(r)},Wx=function(e){document.getElementsByTagName("body")[0].style.overflow=e},Fx=function(e){document.getElementById(yl).className=e},Bx=function(e){Fx("dv-player-fullscreen"),Wx("hidden")},Ux=function(e){Fx(""),Wx("visible")},Hx=function(e){window.location.assign(e)},Gx=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lx(e,t)}(s,e);var t,r,n,o,i,a,l,c,u=Ax(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),_x(Dx(t=u.call(this,e)),"logger",void 0),_x(Dx(t),"player",void 0),_x(Dx(t),"playerFailedToLoad",void 0),_x(Dx(t),"unsubscribeHandlers",void 0),_x(Dx(t),"loadPlayer",Cx(kx().mark((function e(){var r,n,o,i,a,l,c=arguments;return kx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=c.length>0&&void 0!==c[0]&&c[0],n=t.props,o=n.playerConfig,i=n.whisperCacheData,a=n.liveIncompatibleCallback,n.capabilities,l=n.onPlayerLoadErrorCallback,e.prev=2,e.next=9;break;case 6:t.player=e.sent,e.next=12;break;case 9:return e.next=11,Px(o,a,t.logger,r);case 11:t.player=e.sent;case 12:if(t.attachRefreshEventHandlers(),!i){e.next=16;break}return e.next=16,t.handlePrepareRequest(i);case 16:e.next=23;break;case 18:e.prev=18,e.t0=e.catch(2),"string"==typeof e.t0?t.logFatal(e.t0):t.logger.fatal(e.t0),t.playerFailedToLoad=!0,l&&l();case 23:case"end":return e.stop()}}),e,null,[[2,18]])})))),_x(Dx(t),"handleNetworkChange",Cx(kx().mark((function e(){return kx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!t.player&&ux.Zc.isOnline()&&t.loadPlayer(!0);case 1:case"end":return e.stop()}}),e)})))),t.logger=e.logger||new It.Oc("DVWebNode:Player:".concat(t.props.playerConfig.pageType)),t.unsubscribeHandlers=[],t.playerFailedToLoad=!1,t}return t=s,r=[{key:"logFatal",value:function(e){this.count(e).fatal(e)}},{key:"count",value:function(e){var t=this.props.playerConfig.pageType;return this.logger.count("".concat(e,":").concat(t),1,!1)}},{key:"attachRefreshEventHandlers",value:(c=Cx(kx().mark((function e(){var t,r,n,o,i,a,l,c,u,s,f,d=this;return kx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,r=t.onPlay,n=t.onClosed,o=t.downloadGateway,i=t.onAsinChanged,a=t.onInitialized,l=t.onPrepare,c=t.onPlayerCapabilities,u=this.player,(s=function(e,t){d.unsubscribeHandlers.push(u.on(e,(function(e){return t(e)})))})("play",Bx),s("play",(function(e){return Vx("PVVideoPlayerPlay",e)})),r&&s("play",r),s("closed",Ux),s("closed",(function(e){return Vx("PVVideoPlayerClosed",e)})),n&&s("closed",n),o&&s("closed",o.onPlayerClosed),s("asinChanged",(function(e){return Vx("PVVideoPlayerTitleChanged",e)})),i&&s("asinChanged",i),s("initialized",(function(){return Vx("PVVideoPlayerInitialized",void 0)})),a&&s("initialized",a),s("prepare",(function(){return Vx("PVVideoPlayerPrepared",void 0)})),l&&s("prepare",l),s("aborted",(function(){d.count("DVWebPlayer:aborted")})),e.next=19,u.capabilities;case 19:(f=e.sent).supportsDrm||this.count("DVWebPlayer:missingDrm"),Vx("PVVideoPlayerCapabilities",f),c&&c(f);case 23:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"componentDidMount",value:(l=Cx(kx().mark((function e(){return kx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadPlayer(),ux.Zc.onNetworkChange(this.handleNetworkChange);case 2:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"componentDidUpdate",value:function(e){var t=e.playbackLinkData,r=e.whisperCacheData,n=this.props,o=n.playbackLinkData,i=n.whisperCacheData;o&&!t&&this.handlePlayRequest(o),!o&&i&&i!==r&&this.handlePrepareRequest(i)}},{key:"componentWillUnmount",value:(a=Cx(kx().mark((function e(){return kx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.unsubscribeHandlers.forEach((function(e){return e()})),ux.Zc.offNetworkChange(this.handleNetworkChange);case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"handlePrepareRequest",value:(i=Cx(kx().mark((function e(t){return kx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.player&&this.player.prepare(t);case 1:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"handlePlayRequest",value:(o=Cx(kx().mark((function e(t){var r,n,o,i;return kx().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.contentConfig,n=t.signInUrl,o=this.props.onPlayFailure,i=!0,this.player){e.next=8;break}this.playerFailedToLoad?(this.count("DVWebPlayer:FailedToLoad"),this.logger.warn("Player failed to load",{contentConfig:r})):(this.count("DVWebPlayer:notReady"),this.logger.warn("Player not ready",{contentConfig:r})),i=!1,e.next=21;break;case 8:if(!n){e.next=12;break}Hx(n),e.next=21;break;case 12:return e.prev=12,e.next=15,this.player.play(r);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(12),this.logger.fatal("Playback failed",{contentConfig:r},e.t0),i=!1;case 21:!i&&o&&o();case 22:case"end":return e.stop()}}),e,this,[[12,17]])}))),function(e){return o.apply(this,arguments)})},{key:"render",value:function(){return null}}],r&&jx(t.prototype,r),n&&jx(t,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.Component),zx=fl(Gx);function qx(e){return qx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qx(e)}function Qx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qx(Object(r),!0).forEach((function(t){Kx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qx(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kx(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==qx(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==qx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===qx(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Jx=function(){},$x=function(e){var t=e.requestContext,r=e.playerConfigPageType,n=e.launchType,i=e.whisperCacheData,a=e.liveIncompatibleCallback,l=e.isEnabled,c=void 0===l||l,u=e.children,s=e.avlString,f=e.gvlString,d=e.hasAmazonAdvertisingPublisherConsent,p=e.isCookieConsentApplicable,m=e.pageType,v=e.subPageType,y=e.clientVariant,h=e.clickstream,g=Zx((0,o.useState)(),2),b=g[0],w=g[1],E=t.sessionID,S=t.marketplaceID,T=t.customerID,x=t.locale,P={avlString:s,gvlString:f,hasAmazonAdvertisingPublisherConsent:void 0!==d&&d,isCookieConsentApplicable:void 0!==p&&p},O={sessionId:E,marketplaceId:S,customerId:T,deviceId:t.deviceID,locale:x,playerBeta:!1,useDefaultView:!0,pageType:r,isInternal:t.isInternal},k=b?Yx(Yx({},b),{},{contentConfig:Yx(Yx({},b.contentConfig),{},{privacyConsent:P})}):void 0;return c?o.createElement(o.Fragment,null,"EMBEDDED"===n&&o.createElement(zx,{playerConfig:O,playbackLinkData:k,whisperCacheData:i,liveIncompatibleCallback:null!=a?a:Jx,onClosed:function(){return w(void 0)}}),o.createElement(Wl,{playerConfigPageType:r,onPlay:w,launchType:n,trailerLaunchType:n,pageType:m,subPageType:v,clientVariant:y,clickstream:h},u)):o.createElement(o.Fragment,null,u)};$x.displayName="SimplePlayerComponent";var eP=(0,y.s6)($x),tP="g9Xvbo",rP="RC+p70",nP="m3HVNa",oP="hcjkzO",iP="gopyxL",aP="UdULuq",lP="mYT-qi",cP="iB97Qa",uP="cQUIdv",sP="NsL8tJ",fP="TAFu+r",dP="D7O3L5";function pP(e){return pP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pP(e)}function mP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==pP(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==pP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pP(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vP=function(e){var t,r=e.title,n=e.entitlementIntent,a=e.theme;return o.createElement(qe.Text,{testID:"page-title",string:r,tag:"h1",className:i(sP,(t={},mP(t,fP,"NotEntitled"===n),mP(t,dP,"Store"===a),t))})},yP=r("./node_modules/@amzn/dvui/dist/Block.js"),hP=r("./src/util/utils/serializeFormData.ts");function gP(e){return gP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gP(e)}function bP(){bP=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),l=new P(o||[]);return n(a,"_invoke",{value:E(e,r,l)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function p(){}function m(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,h=y&&y(y(O([])));h&&h!==t&&r.call(h,i)&&(v=h);var g=m.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(n,i,a,l){var c=s(e[n],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==gP(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,l)}),(function(e){o("throw",e,a,l)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,l)}))}l(c.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function E(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return k()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var l=S(a,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:p,configurable:!0}),p.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,l,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function wP(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function EP(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){wP(i,n,o,a,l,"next",e)}function l(e){wP(i,n,o,a,l,"throw",e)}a(void 0)}))}}var SP,TP,xP,PP={hideThis:(xP=EP(bP().mark((function e(t){var r,n,o,i,a,l,c,u,s,f,d,p;return bP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f={tag:null===(r=t.endpoint)||void 0===r||null===(n=r.query)||void 0===n?void 0:n.tag,token:null===(o=t.endpoint)||void 0===o||null===(i=o.query)||void 0===i?void 0:i.token,titleId:null===(a=t.endpoint)||void 0===a||null===(l=a.query)||void 0===l?void 0:l.titleId,titleType:null===(c=t.endpoint)||void 0===c||null===(u=c.query)||void 0===u?void 0:u.titleType},d=null===(s=t.endpoint)||void 0===s?void 0:s.partialURL,p=(0,hP.V)(f),e.abrupt("return",OP(d,p));case 4:case"end":return e.stop()}}),e)}))),function(e){return xP.apply(this,arguments)}),toggleWatchlist:(TP=EP(bP().mark((function e(t,r){var n,o,i,a,l,c,u;return bP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null!==(n=null===(o=t.endpoint)||void 0===o?void 0:o.query)&&void 0!==n?n:{},l=null===(i=t.endpoint)||void 0===i?void 0:i.partialURL,t.ajaxEnabled){e.next=6;break}return c=new URLSearchParams(a).toString(),window.location.href="".concat(l,"?").concat(c),e.abrupt("return");case 6:return a.relatedRequestId=null==r?void 0:r.requestID,u=(0,hP.V)(a),e.abrupt("return",OP(l,u));case 9:case"end":return e.stop()}}),e)}))),function(e,t){return TP.apply(this,arguments)}),libraryItemStateChange:(SP=EP(bP().mark((function e(t,r){return bP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new f.e).LibraryStateChange({context:r,titleID:t.titleID,token:t.token,state:t.state});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return SP.apply(this,arguments)})},OP=function(){var e=EP(bP().mark((function e(t,r){var n,o;return bP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Ur.l,e.next=3,n.call(t,{credentials:"include",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-requested-with":"XMLHttpRequest"},body:r});case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();function kP(e){return kP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kP(e)}function IP(){IP=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),l=new P(o||[]);return n(a,"_invoke",{value:E(e,r,l)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function p(){}function m(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,h=y&&y(y(O([])));h&&h!==t&&r.call(h,i)&&(v=h);var g=m.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(n,i,a,l){var c=s(e[n],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==kP(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,l)}),(function(e){o("throw",e,a,l)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,l)}))}l(c.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function E(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return k()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var l=S(a,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:p,configurable:!0}),p.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,l,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?CP(Object(r),!0).forEach((function(t){LP(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function LP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==kP(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==kP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===kP(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AP(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}var NP=new f.e,DP=(0,y.s6)((function(e){var t=e.children,r=e.context,n=e.swiftPageParameters,i=e.swiftCustomerFeature,a=e.isDiscoverActive,l=e.isLivePageActive,c=e.myStuffViewType,u=e.myStuffManageFilter,s=o.useMemo((function(){if(!n||!i)return{paginateContainer:void 0};var e=function(){var e,t=(e=IP().mark((function e(t){var o,s,f,p,m,v;return IP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.paginationTargetId,s=t.serviceToken,f=t.startIndex,p=t.isPurchaseAndRentalCarousel,m=t.journeyIngressContext,e.next=3,NP.PaginateCollection(jP(jP(jP(jP(jP({context:r,pageType:n.pageType,pageId:n.pageId,collectionType:"Container",paginationTargetId:o,serviceToken:s,startIndex:f,isCleanSlateActive:!0,isDiscoverActive:a,isLivePageActive:l},c&&{myStuffViewType:c}),u&&{myStuffManageFilter:u}),p&&{isPurchaseAndRentalCarousel:p}),(0,d.Xc)(r,i,LP({},d.kw.HorizontalPagination,!0),{isCleanSlate:!0,isLivePageActive:l})),{},{journeyIngressContext:m}));case 3:return v=e.sent,e.abrupt("return",{entities:v.entities,hasMoreItems:v.hasMoreItems,startIndex:v.startIndex,pagination:v.pagination});case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){AP(i,n,o,a,l,"next",e)}function l(e){AP(i,n,o,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();return{paginateContainer:e}}),[r,a,l,i,n,c,u]);return o.createElement(TT.Provider,{value:s},t)}));function MP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var RP=function(){var e=(0,y.G4)().context;return o.useContext(pe).isTouchDevice||"Fogg"!==e.domain?null:o.createElement("div",{"aria-hidden":"true",className:$f,"data-testid":"page-clearance"})},VP="QtZl-g",WP="N0o-SR",FP="_9jtBMe",BP="NeC3nK",UP=function(){return o.createElement("svg",{className:BP,viewBox:"0 0 24 24"},o.createElement("path",{d:"M 4,6 15,6"}),o.createElement("path",{d:"m 18,6 2,0"}),o.createElement("path",{d:"m 4,12 7,0"}),o.createElement("path",{d:"m 14,12 6,0"}),o.createElement("path",{d:"m 9,18 11,0"}),o.createElement("path",{d:"m 4,18 2,0"}))},HP=function(e){if(!e.label||!e.url)return null;var t=e.label,r=e.url;return o.createElement("a",{className:i("tst-epg-button-wrapper"),href:r},o.createElement("button",{"aria-label":t,className:i(FP,e.className)},o.createElement(UP,null),o.createElement("span",null,t)))};function GP(){return GP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GP.apply(this,arguments)}var zP=function(e){var t=e.epgButton;if(!t)return null;var r=i(WP);return o.createElement(o.Fragment,null,o.createElement("div",{className:i(VP),"data-testid":"epg-ingress"},t&&o.createElement(HP,GP({},t,{className:r}))))},qP=function(e){var t,r;return{disableHover:null!==(t=null==e?void 0:e.disableHover)&&void 0!==t&&t,disableEnrichItemMetadata:null!==(r=null==e?void 0:e.disableEnrichItemMetadata)&&void 0!==r&&r}};function QP(e){return QP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QP(e)}function YP(){return YP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YP.apply(this,arguments)}function KP(e){return function(e){if(Array.isArray(e))return rO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tO(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZP(){ZP=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),l=new P(o||[]);return n(a,"_invoke",{value:E(e,r,l)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function p(){}function m(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,h=y&&y(y(O([])));h&&h!==t&&r.call(h,i)&&(v=h);var g=m.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(n,i,a,l){var c=s(e[n],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==QP(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,l)}),(function(e){o("throw",e,a,l)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,l)}))}l(c.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function E(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return k()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var l=S(a,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:p,configurable:!0}),p.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new w(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,l,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function XP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function JP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XP(Object(r),!0).forEach((function(t){$P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $P(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==QP(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==QP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===QP(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||tO(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tO(e,t){if(e){if("string"==typeof e)return rO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rO(e,t):void 0}}function rO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nO(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}var oO=function(e){var t,r,n,a,y=e.containers,h=e.context,g=e.isTrailerAutoplayEnabled,b=e.pagination,w=e.playbackLaunchType,E=e.nodeID,S=e.hzPageType,T=e.hzSubPageType,x=e.requestFeatureSwitches,P=e.isElcano,O=e.isCrow,k=e.epgIngress,I=e.pageMetadata,C=e.strings,j=e.customerMessage,L=e.redirectedMessage,A=e.isLivePageActive,N=e.isDiscoverActive,D=e.swiftPageParameters,M=e.homeRegion,_=e.featureSwitches,R=e.enableVerticalPerformantRender,V=eO(o.useState(y),2),W=V[0],F=V[1],B=eO(o.useState(new cx(h,500,!0,null==_?void 0:_.jicEnrichment)),1)[0],U=eO(o.useState(b),2),H=U[0],G=U[1],z=eO(o.useState(!1),2),q=z[0],Q=z[1],Y=eO(o.useTransition(),2),K=(Y[0],Y[1]),Z=eO(o.useState(!1),2),X=Z[0],J=Z[1],$=(r=MP((0,o.useState)(!1),2),n=r[0],a=r[1],(0,o.useEffect)((function(){var e=window.matchMedia("screen and (prefers-reduced-motion: reduce)");function t(e){a(e.matches)}a(e.matches||window&&window.location.search.includes("useReducedMotion"));var r="function"==typeof e.addEventListener;return r?e.addEventListener("change",t):e.addListener(t),function(){r?e.removeEventListener("change",t):e.removeListener(t)}}),[]),n),ee=eO(o.useState(JP(JP({},Ot),{},{disableRightClick:(0,c.D1)(h.marketplaceID),updateContext:function(e){re(e)}})),2),te=ee[0],re=ee[1];o.useEffect((function(){F(y),(0,u.Do)("amafeature")&&J(!0)}),[y]);var ne=function(){var e,t=(e=ZP().mark((function e(){var t,r,n,o,i;return ZP().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={success:!0},r={success:!1},!q){e.next=4;break}return e.abrupt("return",r);case 4:return Q(!0),n="POST"===(null==H?void 0:H.requestMethod)?s.C8.WRITE:s.C8.READ,o=new f.e,e.prev=7,e.next=10,o.Storefront(JP({requestFeatureSwitches:x,nodeID:E,isCrow:O,isElcano:P,context:h,isCleanSlateActive:!0,isLivePageActive:A,isDiscoverActive:N,serviceToken:null==H?void 0:H.serviceToken,pageNumber:null==H?void 0:H.pageNumber,pageSize:null==H?void 0:H.pageSize,targetId:null==H?void 0:H.targetId,contentType:null==H?void 0:H.contentType,contentID:null==H?void 0:H.contentId,startIndex:null==H?void 0:H.startIndex},(0,d.Xc)(h,"Storefront",{},{isCleanSlate:!0,isLivePageActive:A})),n,void 0,void 0,void 0,void 0,!0);case 10:return i=e.sent,K((function(){i.containers.length>0&&F([].concat(KP(W),KP(i.containers))),G(i.pagination),Q(!1)})),e.abrupt("return",t);case 15:return e.prev=15,e.t0=e.catch(7),Q(!1),e.abrupt("return",r);case 19:case"end":return e.stop()}}),e,null,[[7,15]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){nO(i,n,o,a,l,"next",e)}function l(e){nO(i,n,o,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),oe="NotEntitled"===(null==I?void 0:I.entitlementIntent)?"Store":"Default",ie=e.featureSwitches&&e.featureSwitches.requiresMinimumPageWidth,ae=null==I?void 0:I.title,le=new p.AS(h.userAgent,h.appName).getVariant(!0),ce=new p.AS(h.userAgent,h.appName).getOS();o.useEffect((function(){if((0,m.KL)(),"undefined"!=typeof document&&ie){var e=(0,v.D)((function(){var e=document.documentElement.scrollLeft,t=document.querySelector(".".concat(oP));null!=t&&t.style&&(t.style.left="".concat(e,"px"))}),100);return e(),document.addEventListener("scroll",e),function(){document.removeEventListener("scroll",e)}}}),[]);var ue=wo({context:h,homeRegion:M}),se=Yr.Explore;return o.createElement("main",{id:"main","data-testid":"storefront",className:i(oP,tP,$P({},aP,$))},j&&o.createElement(yP.MessageBlock,{testID:"customer-warning-message",type:yP.MessageTypes.warning},j),L&&o.createElement(yP.MessageBlock,{className:lP,type:yP.MessageTypes.prime,dismissSeconds:10},o.createElement(Yc.Icon,{className:cP,use:Yc.IconType.ALERT_PRIME_SUCCESS}),o.createElement(qe.Text,{className:uP,tag:"h1",string:e.redirectedMessage})),o.createElement(DP,{swiftPageParameters:D,swiftCustomerFeature:"Storefront",isDiscoverActive:!0,isLivePageActive:null!=A&&A},o.createElement(ve,{strings:C,deviceVariant:le,os:ce,theme:oe,shouldUseReducedMotion:$,swiftPageParameters:D,clickstream:ue,clickstreamPageContext:{pageType:S,subPageType:T,clientVariant:se},enableVerticalPerformantRender:R,contingencies:qP(_)},ae&&o.createElement(vP,{title:ae,entitlementIntent:null==I?void 0:I.entitlementIntent,theme:oe}),o.createElement(l.DvuiContainer,{className:i(iP,(t={},$P(t,rP,ie),$P(t,nP,"Store"===oe),t))},o.createElement(eP,{requestContext:h,playerConfigPageType:"Home",launchType:w},o.createElement(kt.Provider,{value:te},o.createElement(GE,null,W.map((function(e,t,r){return o.createElement(o.Fragment,{key:t},0===t&&"StandardHero"!==e.containerType&&o.createElement(zP,{epgButton:k}),o.createElement(WT,{consumingWidgetType:"Storefront",index:t,container:e,apiInteractions:JP(JP({},PP),{},{fetchEnrichment:B.enrichmentPromise.bind(B)}),isTrailerAutoplayEnabled:g,shouldDisplayStrategy:X,nextContainer:r[t+1]}),0===t&&"StandardHero"===e.containerType&&o.createElement(zP,{epgButton:k}),1===t&&o.createElement(m.Xd,{marker:m.RI.AboveTheFold}))})),H&&o.createElement(XT,YP({},H,{consumingWidgetType:"Storefront",loadMoreContent:ne,isLoading:q}))))),o.createElement(RP,null)))))};oO.displayName="StorefrontComponent";var iO={name:"storefront",getProps:undefined,Component:(0,y.s6)((0,h.ty)(oO))};(0,n.y)(iO)},url:function(e){e.exports=url}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=t,e=[],n.O=function(t,r,o,i){if(!r){var a=1/0;for(s=0;s<e.length;s++){r=e[s][0],o=e[s][1],i=e[s][2];for(var l=!0,c=0;c<r.length;c++)(!1&i||a>=i)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(l=!1,i<a&&(a=i));if(l){e.splice(s--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[r,o,i]},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.j=2959,function(){var e={2959:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,i,a=r[0],l=r[1],c=r[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(c)var s=c(n)}for(t&&t(r);u<a.length;u++)i=a[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(s)},r=self.webpackChunk_amzn_dvwebnode=self.webpackChunk_amzn_dvwebnode||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),n.O(void 0,[1216,9351],(function(){return n("./node_modules/regenerator-runtime/runtime.js")})),n.O(void 0,[1216,9351],(function(){return n("./node_modules/core-js/features/index.js")})),n.O(void 0,[1216,9351],(function(){return n("./node_modules/whatwg-fetch/fetch.js")})),n.O(void 0,[1216,9351],(function(){return n("./node_modules/intersection-observer/intersection-observer.js")}));var o=n.O(void 0,[1216,9351],(function(){return n("./src/entrypoints/hydration/storefront.tsx")}));o=n.O(o)}();
//# sourceMappingURL=http://sourcemaps.aka.amazon.com/2f855aecb04203daea1621fb6c63167d6aebad7d4f0d5ebad1f9dc011f125192e50930dd839d46bd3efc8fb8d4a7119c919f5c0375354281ab62ed81d3e59f8cc1279e6ef7494de33074f2074318670d5a0f6555184f6f957bdd31226e15fe55c5bc52cdb041d9806f82f6ca5d52eec2c108faf562e7d7a2f62c7cd51482bc1b13191af01b3f5454c3d751b846db05ba66cd870a8fcdffcb1945307b9691810570240b2d32a3aab761324511c4825f8e561e3f229a26bfdd42239fd4af3e7de075ff40f84504b212e4348a82e1283115705b510f24c86ce4a9edde1e7d77c50406f860de4fef233c9c4c9bf5ddbeb96d1b759dceacc6ebac2594e810a04048fe?np=1